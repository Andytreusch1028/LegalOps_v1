[{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\check-notices.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\prisma\\create-test-order.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\prisma\\seed-notices.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3513,3516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3513,3516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Seed Test Notices\n * \n * Creates sample notices to test the Important Notices feature\n */\n\nimport { PrismaClient } from '../src/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nasync function main() {\n  console.log('üå± Seeding test notices...');\n\n  // Get the first user\n  const user = await prisma.user.findFirst();\n  \n  if (!user) {\n    console.log('‚ùå No users found. Please run the main seed script first.');\n    return;\n  }\n\n  console.log(`‚úÖ Found user: ${user.email}`);\n\n  // Get the first filing for this user\n  const client = await prisma.client.findFirst({\n    where: { userId: user.id },\n    include: {\n      businessEntities: {\n        include: {\n          filings: true\n        }\n      }\n    }\n  });\n\n  let filing = client?.businessEntities[0]?.filings[0];\n\n  // Delete all existing notices for this user first\n  await prisma.notice.deleteMany({\n    where: { userId: user.id }\n  });\n  console.log('‚úÖ Cleared existing notices');\n\n  // Update the filing with staff changes and set status to PENDING_CUSTOMER_APPROVAL\n  if (filing) {\n    filing = await prisma.filing.update({\n      where: { id: filing.id },\n      data: {\n        filingStatus: 'PENDING_CUSTOMER_APPROVAL',\n        requiresApproval: true,\n        staffChanges: [\n          {\n            field: 'registeredAgent.firstName',\n            oldValue: 'Jhon',\n            newValue: 'John',\n            changeType: 'SUBSTANTIVE',\n            reason: 'Corrected name spelling - please verify this is correct.',\n            changedBy: 'Sarah Johnson (Fulfillment Specialist)',\n            changedAt: new Date().toISOString(),\n          },\n          {\n            field: 'principalAddress.street',\n            oldValue: '123 Main St',\n            newValue: '123 Main Street',\n            changeType: 'MINOR',\n            reason: 'Standardized address format to match state requirements (spelled out \"Street\").',\n            changedBy: 'Sarah Johnson (Fulfillment Specialist)',\n            changedAt: new Date().toISOString(),\n          },\n        ],\n        staffChangeReason: 'Corrected name spelling and standardized address format for state compliance.',\n      }\n    });\n    console.log(`‚úÖ Updated filing with staff changes: ${filing.id}`);\n  }\n\n  // Create test notices\n  const notices = [\n    {\n      userId: user.id,\n      type: 'APPROVAL_REQUIRED',\n      priority: 'URGENT',\n      title: 'ACTION REQUIRED: Approve Changes to Annual Report',\n      message: 'We made corrections to your filing. Please review and approve before we can submit to the state.',\n      filingId: filing?.id,\n      actionUrl: filing ? `/dashboard/filings/${filing.id}/approve` : null,\n      actionLabel: 'Review & Approve',\n    },\n    {\n      userId: user.id,\n      type: 'DOCUMENT_READY',\n      priority: 'SUCCESS',\n      title: 'DOCUMENT READY: Annual Report Completed',\n      message: 'Your filing has been approved by the state. Official document is ready to download.',\n      filingId: filing?.id,\n      actionUrl: filing ? `/dashboard/filings/${filing.id}` : null,\n      actionLabel: 'View Document',\n    },\n    {\n      userId: user.id,\n      type: 'PAYMENT_REQUIRED',\n      priority: 'URGENT',\n      title: 'Payment Required: Complete Your Order',\n      message: 'Your filing is ready to submit. Please complete payment to proceed.',\n      actionUrl: '/dashboard/billing',\n      actionLabel: 'Make Payment',\n    },\n  ];\n\n  for (const noticeData of notices) {\n    const notice = await prisma.notice.create({\n      data: noticeData as any\n    });\n    console.log(`‚úÖ Created notice: ${notice.title}`);\n  }\n\n  console.log('‚úÖ Seeding complete!');\n}\n\nmain()\n  .catch((e) => {\n    console.error('‚ùå Error seeding notices:', e);\n    process.exit(1);\n  })\n  .finally(async () => {\n    await prisma.$disconnect();\n  });\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\prisma\\seed-packages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\prisma\\seed-services.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\reset-approval-notice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\check-order-items.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\check-user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\code-review.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":6,"column":22,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":6,"endColumn":46},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":7,"column":12,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":7,"endColumn":25},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":8,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":8,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":77,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":77,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":103,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":103,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'total' is assigned a value but never used.","line":116,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":116,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":132,"column":12,"nodeType":null,"messageId":"unusedVar","endLine":132,"endColumn":13}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Automated Code Review Script\n * Generates Sonnet 4.5-friendly code review report\n */\n\nconst { execSync } = require('child_process');\nconst fs = require('fs');\nconst path = require('path');\n\nconsole.log('========================================');\nconsole.log('  üîç AUTOMATED CODE REVIEW');\nconsole.log('  Analyzing LegalOps v1 Codebase');\nconsole.log('========================================\\n');\n\nconst report = {\n  timestamp: new Date().toISOString(),\n  sections: [],\n  criticalIssues: [],\n  warnings: [],\n  suggestions: [],\n  summary: {}\n};\n\n// Helper to run commands and capture output\nfunction runCommand(command, description) {\n  console.log(`\\n[Running] ${description}...`);\n  try {\n    const output = execSync(command, { \n      encoding: 'utf8', \n      stdio: 'pipe',\n      maxBuffer: 10 * 1024 * 1024 // 10MB buffer\n    });\n    console.log(`‚úÖ ${description} - Complete`);\n    return { success: true, output };\n  } catch (error) {\n    console.log(`‚ö†Ô∏è  ${description} - Issues Found`);\n    return { success: false, output: error.stdout || error.stderr || error.message };\n  }\n}\n\n// 1. TypeScript Type Checking\nconsole.log('\\nüìã STEP 1: TypeScript Type Checking');\nconst tscResult = runCommand('npx tsc --noEmit --pretty false', 'TypeScript Check');\nif (!tscResult.success && tscResult.output) {\n  const errors = tscResult.output.split('\\n').filter(line => line.includes('error TS'));\n  report.sections.push({\n    name: 'TypeScript Errors',\n    count: errors.length,\n    issues: errors.slice(0, 20) // Limit to first 20\n  });\n  if (errors.length > 0) {\n    report.criticalIssues.push(`Found ${errors.length} TypeScript type errors`);\n  }\n}\n\n// 2. ESLint Code Quality\nconsole.log('\\nüìã STEP 2: ESLint Code Quality Check');\nconst eslintResult = runCommand('npx eslint . --ext .ts,.tsx,.js,.jsx --format json', 'ESLint Check');\nif (eslintResult.output) {\n  try {\n    const eslintData = JSON.parse(eslintResult.output);\n    const errorCount = eslintData.reduce((sum, file) => sum + file.errorCount, 0);\n    const warningCount = eslintData.reduce((sum, file) => sum + file.warningCount, 0);\n    \n    report.sections.push({\n      name: 'ESLint Issues',\n      errors: errorCount,\n      warnings: warningCount\n    });\n    \n    if (errorCount > 0) {\n      report.criticalIssues.push(`Found ${errorCount} ESLint errors`);\n    }\n    if (warningCount > 0) {\n      report.warnings.push(`Found ${warningCount} ESLint warnings`);\n    }\n  } catch (e) {\n    // ESLint output might not be JSON if there are no issues\n  }\n}\n\n// 3. Prisma Schema Validation\nconsole.log('\\nüìã STEP 3: Database Schema Validation');\nconst prismaResult = runCommand('npx prisma validate', 'Prisma Schema Check');\nif (!prismaResult.success) {\n  report.criticalIssues.push('Prisma schema validation failed');\n  report.sections.push({\n    name: 'Database Schema Issues',\n    output: prismaResult.output\n  });\n}\n\n// 4. Check for Missing Dependencies\nconsole.log('\\nüìã STEP 4: Dependency Check');\nconst depsResult = runCommand('npm outdated --json', 'Dependency Check');\nif (depsResult.output) {\n  try {\n    const outdated = JSON.parse(depsResult.output);\n    const outdatedCount = Object.keys(outdated).length;\n    if (outdatedCount > 0) {\n      report.suggestions.push(`${outdatedCount} packages have updates available`);\n    }\n  } catch (e) {\n    // No outdated packages\n  }\n}\n\n// 5. Security Audit\nconsole.log('\\nüìã STEP 5: Security Audit');\nconst auditResult = runCommand('npm audit --json', 'Security Audit');\nif (auditResult.output) {\n  try {\n    const auditData = JSON.parse(auditResult.output);\n    const vulnerabilities = auditData.metadata?.vulnerabilities;\n    if (vulnerabilities) {\n      const total = vulnerabilities.total || 0;\n      const critical = vulnerabilities.critical || 0;\n      const high = vulnerabilities.high || 0;\n      \n      if (critical > 0 || high > 0) {\n        report.criticalIssues.push(`Found ${critical} critical and ${high} high severity vulnerabilities`);\n      }\n      \n      report.sections.push({\n        name: 'Security Vulnerabilities',\n        critical: critical,\n        high: high,\n        moderate: vulnerabilities.moderate || 0,\n        low: vulnerabilities.low || 0\n      });\n    }\n  } catch (e) {\n    // Audit might fail or have no issues\n  }\n}\n\n// Generate Summary\nreport.summary = {\n  totalCriticalIssues: report.criticalIssues.length,\n  totalWarnings: report.warnings.length,\n  totalSuggestions: report.suggestions.length,\n  overallHealth: report.criticalIssues.length === 0 ? 'GOOD' : \n                 report.criticalIssues.length < 5 ? 'FAIR' : 'NEEDS ATTENTION'\n};\n\n// Save detailed JSON report\nconst jsonReportPath = path.join(__dirname, '../../logs/code-review-report.json');\nfs.mkdirSync(path.dirname(jsonReportPath), { recursive: true });\nfs.writeFileSync(jsonReportPath, JSON.stringify(report, null, 2));\n\nconsole.log('\\n‚úÖ Detailed report saved to: logs/code-review-report.json');\n\n// Generate Sonnet-Friendly Markdown Report\nconst mdReport = generateSonnetReport(report);\nconst mdReportPath = path.join(__dirname, '../../logs/SONNET_CODE_REVIEW.md');\nfs.writeFileSync(mdReportPath, mdReport);\n\nconsole.log('‚úÖ Sonnet-friendly report saved to: logs/SONNET_CODE_REVIEW.md');\n\n// Print summary to console\nconsole.log('\\n========================================');\nconsole.log('  üìä CODE REVIEW SUMMARY');\nconsole.log('========================================');\nconsole.log(`Overall Health: ${report.summary.overallHealth}`);\nconsole.log(`Critical Issues: ${report.summary.totalCriticalIssues}`);\nconsole.log(`Warnings: ${report.summary.totalWarnings}`);\nconsole.log(`Suggestions: ${report.summary.totalSuggestions}`);\nconsole.log('========================================\\n');\n\nif (report.criticalIssues.length > 0) {\n  console.log('‚ö†Ô∏è  CRITICAL ISSUES FOUND:');\n  report.criticalIssues.forEach((issue, i) => {\n    console.log(`   ${i + 1}. ${issue}`);\n  });\n  console.log('');\n}\n\nconsole.log('üìÑ Review the full report at: logs/SONNET_CODE_REVIEW.md');\nconsole.log('üí° Copy this file and paste into Sonnet 4.5 for fix instructions\\n');\n\nfunction generateSonnetReport(report) {\n  let md = `# üîç LegalOps v1 - Automated Code Review Report\\n\\n`;\n  md += `**Generated:** ${new Date(report.timestamp).toLocaleString()}\\n`;\n  md += `**Overall Health:** ${report.summary.overallHealth}\\n\\n`;\n\n  md += `## üìä Summary\\n\\n`;\n  md += `- **Critical Issues:** ${report.summary.totalCriticalIssues}\\n`;\n  md += `- **Warnings:** ${report.summary.totalWarnings}\\n`;\n  md += `- **Suggestions:** ${report.summary.totalSuggestions}\\n\\n`;\n\n  if (report.criticalIssues.length > 0) {\n    md += `## üö® Critical Issues (Requires Immediate Attention)\\n\\n`;\n    report.criticalIssues.forEach((issue, i) => {\n      md += `${i + 1}. ${issue}\\n`;\n    });\n    md += `\\n`;\n  }\n\n  if (report.warnings.length > 0) {\n    md += `## ‚ö†Ô∏è Warnings\\n\\n`;\n    report.warnings.forEach((warning, i) => {\n      md += `${i + 1}. ${warning}\\n`;\n    });\n    md += `\\n`;\n  }\n\n  if (report.suggestions.length > 0) {\n    md += `## üí° Suggestions for Improvement\\n\\n`;\n    report.suggestions.forEach((suggestion, i) => {\n      md += `${i + 1}. ${suggestion}\\n`;\n    });\n    md += `\\n`;\n  }\n\n  md += `## üìã Detailed Analysis\\n\\n`;\n\n  report.sections.forEach(section => {\n    md += `### ${section.name}\\n\\n`;\n\n    if (section.count !== undefined) {\n      md += `**Total Issues:** ${section.count}\\n\\n`;\n      if (section.issues && section.issues.length > 0) {\n        md += `\\`\\`\\`\\n`;\n        section.issues.slice(0, 10).forEach(issue => {\n          md += `${issue}\\n`;\n        });\n        if (section.issues.length > 10) {\n          md += `... and ${section.issues.length - 10} more\\n`;\n        }\n        md += `\\`\\`\\`\\n\\n`;\n      }\n    }\n\n    if (section.errors !== undefined) {\n      md += `- **Errors:** ${section.errors}\\n`;\n      md += `- **Warnings:** ${section.warnings}\\n\\n`;\n    }\n\n    if (section.critical !== undefined) {\n      md += `- **Critical:** ${section.critical}\\n`;\n      md += `- **High:** ${section.high}\\n`;\n      md += `- **Moderate:** ${section.moderate}\\n`;\n      md += `- **Low:** ${section.low}\\n\\n`;\n    }\n\n    if (section.output) {\n      md += `\\`\\`\\`\\n${section.output.slice(0, 500)}\\n\\`\\`\\`\\n\\n`;\n    }\n  });\n\n  md += `---\\n\\n`;\n  md += `## ü§ñ Instructions for Sonnet 4.5\\n\\n`;\n  md += `Please review the issues above and provide:\\n\\n`;\n  md += `1. **Root Cause Analysis** - What's causing these issues?\\n`;\n  md += `2. **Priority Ranking** - Which issues should be fixed first?\\n`;\n  md += `3. **Step-by-Step Fix Instructions** - Detailed instructions for each critical issue\\n`;\n  md += `4. **Code Examples** - Show me the exact code changes needed\\n`;\n  md += `5. **Prevention Strategy** - How to avoid these issues in the future\\n\\n`;\n  md += `Focus on critical issues first, then warnings, then suggestions.\\n`;\n\n  return md;\n}\n\nprocess.exit(report.criticalIssues.length > 0 ? 1 : 0);\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\create-customer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\create-staff-user.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\find-orders.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":60}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const { PrismaClient } = require('../src/generated/prisma');\n\nconst prisma = new PrismaClient();\n\nasync function findOrders() {\n  try {\n    const orderItems = await prisma.orderItem.findMany({\n      where: {\n        requiresAdditionalData: true,\n        additionalDataCollected: false,\n      },\n      select: {\n        id: true,\n        orderId: true,\n        serviceType: true,\n        dataCollectionFormType: true,\n        order: {\n          select: {\n            orderNumber: true,\n          },\n        },\n      },\n      take: 5,\n    });\n\n    console.log('Orders with items requiring document completion:');\n    console.log(JSON.stringify(orderItems, null, 2));\n  } catch (error) {\n    console.error('Error:', error);\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\nfindOrders();\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\import-fictitious-names.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'path' is defined but never used.","line":18,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Fictitious Name (DBA) Data Import Script\n * \n * Downloads and imports Florida fictitious name (DBA) data from Sunbiz.org\n * Data source: https://dos.fl.gov/sunbiz/other-services/data-downloads/\n * \n * FTP Access:\n * Host: https://sftp.floridados.gov\n * Username: Public\n * Password: PubAccess1845!\n * \n * File Location: doc > quarterly > fic > ficdata.zip\n */\n\nimport { PrismaClient } from '../src/generated/prisma';\nimport { normalizeBusinessName } from '../src/lib/sunbiz-checker';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as readline from 'readline';\n\nconst prisma = new PrismaClient();\n\n/**\n * Parse a fixed-width fictitious name data record\n * Record Length: 2098 characters\n */\ninterface FictitiousNameRecord {\n  documentNumber: string;\n  fictitiousName: string;\n  county: string;\n  address: string;\n  mailingAddress: string;\n  filingDate: string;\n  status: string;\n  cancellationDate: string;\n  expirationDate: string;\n  numberOfOwners: number;\n}\n\nfunction parseFictitiousNameRecord(line: string): FictitiousNameRecord | null {\n  if (line.length < 2098) {\n    return null;\n  }\n\n  try {\n    // Extract fields based on fixed positions from file definition\n    const documentNumber = line.substring(0, 12).trim();\n    const fictitiousName = line.substring(12, 205).trim();\n    const county = line.substring(204, 217).trim();\n    \n    // Principal Address\n    const addr1 = line.substring(216, 257).trim();\n    const addr2 = line.substring(256, 297).trim();\n    const city = line.substring(296, 325).trim();\n    const state = line.substring(324, 327).trim();\n    const zip = line.substring(326, 337).trim();\n    \n    // Mailing Address\n    const mailAddr1 = line.substring(336, 377).trim();\n    const mailAddr2 = line.substring(376, 417).trim();\n    const mailCity = line.substring(416, 445).trim();\n    const mailState = line.substring(444, 447).trim();\n    const mailZip = line.substring(446, 457).trim();\n    \n    // Dates and Status\n    const filingDate = line.substring(338, 347).trim();\n    const statusCode = line.substring(351, 352).trim();\n    const cancellationDate = line.substring(352, 361).trim();\n    const expirationDate = line.substring(360, 369).trim();\n    const numberOfOwners = parseInt(line.substring(368, 374).trim()) || 0;\n\n    // Build addresses\n    const address = [addr1, addr2, city, state, zip]\n      .filter(Boolean)\n      .join(', ');\n    \n    const mailingAddress = [mailAddr1, mailAddr2, mailCity, mailState, mailZip]\n      .filter(Boolean)\n      .join(', ');\n\n    // Map status code: (C) Cancelled, (E) Expired, (A) Active\n    const status = statusCode === 'A' ? 'ACTIVE' : statusCode === 'E' ? 'EXPIRED' : 'CANCELLED';\n\n    return {\n      documentNumber,\n      fictitiousName,\n      county,\n      address,\n      mailingAddress,\n      filingDate,\n      status,\n      cancellationDate,\n      expirationDate,\n      numberOfOwners,\n    };\n  } catch (error) {\n    console.error('Error parsing record:', error);\n    return null;\n  }\n}\n\n/**\n * Parse file date from YYYYMMDD format\n */\nfunction parseFileDate(dateStr: string): Date | null {\n  if (!dateStr || dateStr.length !== 8) {\n    return null;\n  }\n\n  try {\n    const year = parseInt(dateStr.substring(0, 4));\n    const month = parseInt(dateStr.substring(4, 6)) - 1; // JS months are 0-indexed\n    const day = parseInt(dateStr.substring(6, 8));\n    \n    return new Date(year, month, day);\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Import fictitious names from a data file\n */\nasync function importFromFile(filePath: string): Promise<void> {\n  console.log(`\\nüìÇ Importing from: ${filePath}`);\n  \n  if (!fs.existsSync(filePath)) {\n    console.error(`‚ùå File not found: ${filePath}`);\n    return;\n  }\n\n  // Create sync record\n  const sync = await prisma.entityDataSync.create({\n    data: {\n      syncType: 'full',\n      dataType: 'fictitious',\n      status: 'in_progress',\n    },\n  });\n\n  let recordsProcessed = 0;\n  let recordsAdded = 0;\n  const recordsUpdated = 0;\n  let errors = 0;\n\n  try {\n    const fileStream = fs.createReadStream(filePath);\n    const rl = readline.createInterface({\n      input: fileStream,\n      crlfDelay: Infinity,\n    });\n\n    console.log('üìä Processing fictitious name records...\\n');\n\n    for await (const line of rl) {\n      recordsProcessed++;\n\n      // Parse the record\n      const record = parseFictitiousNameRecord(line);\n      \n      if (!record) {\n        errors++;\n        continue;\n      }\n\n      // Normalize the name for searching\n      const normalizedName = normalizeBusinessName(record.fictitiousName);\n\n      // Parse dates\n      const filingDate = parseFileDate(record.filingDate);\n      const expirationDate = parseFileDate(record.expirationDate);\n      const cancellationDate = parseFileDate(record.cancellationDate);\n\n      try {\n        // Upsert the fictitious name\n        await prisma.fictitiousName.upsert({\n          where: { documentNumber: record.documentNumber },\n          update: {\n            fictitiousName: record.fictitiousName,\n            normalizedName,\n            county: record.county || null,\n            status: record.status,\n            filingDate,\n            expirationDate,\n            cancellationDate,\n            principalAddress: record.address || null,\n            mailingAddress: record.mailingAddress || null,\n            numberOfOwners: record.numberOfOwners,\n            lastUpdated: new Date(),\n          },\n          create: {\n            documentNumber: record.documentNumber,\n            fictitiousName: record.fictitiousName,\n            normalizedName,\n            county: record.county || null,\n            status: record.status,\n            filingDate,\n            expirationDate,\n            cancellationDate,\n            principalAddress: record.address || null,\n            mailingAddress: record.mailingAddress || null,\n            numberOfOwners: record.numberOfOwners,\n          },\n        });\n\n        recordsAdded++;\n      } catch (error) {\n        errors++;\n        if (errors <= 10) {\n          console.error(`Error importing record ${record.documentNumber}:`, error);\n        }\n      }\n\n      // Progress update every 1000 records\n      if (recordsProcessed % 1000 === 0) {\n        console.log(`‚úì Processed ${recordsProcessed.toLocaleString()} records (${recordsAdded.toLocaleString()} imported, ${errors} errors)`);\n      }\n    }\n\n    // Update sync record\n    await prisma.entityDataSync.update({\n      where: { id: sync.id },\n      data: {\n        status: 'completed',\n        recordsProcessed,\n        recordsAdded,\n        recordsUpdated,\n        completedAt: new Date(),\n      },\n    });\n\n    console.log('\\n‚úÖ Import completed successfully!');\n    console.log(`üìä Total records processed: ${recordsProcessed.toLocaleString()}`);\n    console.log(`‚úì Records imported: ${recordsAdded.toLocaleString()}`);\n    console.log(`‚ö† Errors: ${errors}`);\n\n  } catch (error) {\n    console.error('‚ùå Import failed:', error);\n    \n    await prisma.entityDataSync.update({\n      where: { id: sync.id },\n      data: {\n        status: 'failed',\n        recordsProcessed,\n        recordsAdded,\n        recordsUpdated,\n        completedAt: new Date(),\n        errorMessage: error instanceof Error ? error.message : 'Unknown error',\n      },\n    });\n  }\n}\n\n/**\n * Main execution\n */\nasync function main() {\n  console.log('üöÄ Fictitious Name (DBA) Data Import Tool\\n');\n  console.log('This script imports Florida fictitious name data from Sunbiz.org');\n  console.log('Data source: https://dos.fl.gov/sunbiz/other-services/data-downloads/\\n');\n\n  // Get file path from command line argument\n  const filePath = process.argv[2];\n\n  if (!filePath) {\n    console.log('Usage: npm run import-dbas <path-to-ficdata-file>');\n    console.log('\\nSteps to get the data:');\n    console.log('1. Visit: https://sftp.floridados.gov');\n    console.log('2. Login with:');\n    console.log('   Username: Public');\n    console.log('   Password: PubAccess1845!');\n    console.log('3. Navigate to: doc > quarterly > fic');\n    console.log('4. Download: ficdata.zip');\n    console.log('5. Extract the zip file');\n    console.log('6. Run this script with the path to the extracted file\\n');\n    process.exit(1);\n  }\n\n  await importFromFile(filePath);\n  await prisma.$disconnect();\n}\n\nmain().catch((error) => {\n  console.error('Fatal error:', error);\n  process.exit(1);\n});\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\import-florida-entities.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\import-general-partnerships.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'path' is defined but never used.","line":18,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * General Partnership Data Import Script\n * \n * Downloads and imports Florida general partnership data from Sunbiz.org\n * Data source: https://dos.fl.gov/sunbiz/other-services/data-downloads/\n * \n * FTP Access:\n * Host: https://sftp.floridados.gov\n * Username: Public\n * Password: PubAccess1845!\n * \n * File Location: doc > quarterly > gen > genfile.zip\n */\n\nimport { PrismaClient } from '../src/generated/prisma';\nimport { normalizeBusinessName } from '../src/lib/sunbiz-checker';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as readline from 'readline';\n\nconst prisma = new PrismaClient();\n\n/**\n * Parse a fixed-width general partnership data record\n * Record Length: 759 characters\n */\ninterface GeneralPartnershipRecord {\n  documentNumber: string;\n  name: string;\n  status: string;\n  filingDate: string;\n  effectiveDate: string;\n  cancellationDate: string;\n  expirationDate: string;\n  principalAddress: string;\n  mailingAddress: string;\n  numberOfPartners: number;\n}\n\nfunction parseGeneralPartnershipRecord(line: string): GeneralPartnershipRecord | null {\n  if (line.length < 759) {\n    return null;\n  }\n\n  try {\n    // Extract fields based on fixed positions from file definition\n    const documentNumber = line.substring(0, 12).trim();\n    const status = line.substring(12, 13).trim();\n    const name = line.substring(13, 206).trim();\n    const filingDate = line.substring(205, 214).trim();\n    const effectiveDate = line.substring(213, 222).trim();\n    const cancellationDate = line.substring(221, 230).trim();\n    \n    // Principal Address\n    const princAddr1 = line.substring(240, 285).trim();\n    const princAddr2 = line.substring(284, 329).trim();\n    const princCity = line.substring(328, 357).trim();\n    const princState = line.substring(356, 359).trim();\n    const princZip = line.substring(358, 368).trim();\n    \n    // Mailing Address\n    const mailAddr1 = line.substring(370, 415).trim();\n    const mailAddr2 = line.substring(414, 459).trim();\n    const mailCity = line.substring(458, 487).trim();\n    const mailState = line.substring(486, 489).trim();\n    const mailZip = line.substring(488, 498).trim();\n    \n    // Additional fields\n    const expirationDate = line.substring(751, 760).trim();\n    const totalPartners = parseInt(line.substring(746, 752).trim()) || 0;\n\n    // Build addresses\n    const principalAddress = [princAddr1, princAddr2, princCity, princState, princZip]\n      .filter(Boolean)\n      .join(', ');\n    \n    const mailingAddress = [mailAddr1, mailAddr2, mailCity, mailState, mailZip]\n      .filter(Boolean)\n      .join(', ');\n\n    return {\n      documentNumber,\n      name,\n      status,\n      filingDate,\n      effectiveDate,\n      cancellationDate,\n      expirationDate,\n      principalAddress,\n      mailingAddress,\n      numberOfPartners: totalPartners,\n    };\n  } catch (error) {\n    console.error('Error parsing record:', error);\n    return null;\n  }\n}\n\n/**\n * Parse file date from YYYYMMDD format\n */\nfunction parseFileDate(dateStr: string): Date | null {\n  if (!dateStr || dateStr.length !== 8) {\n    return null;\n  }\n\n  try {\n    const year = parseInt(dateStr.substring(0, 4));\n    const month = parseInt(dateStr.substring(4, 6)) - 1; // JS months are 0-indexed\n    const day = parseInt(dateStr.substring(6, 8));\n    \n    return new Date(year, month, day);\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Import general partnerships from a data file\n */\nasync function importFromFile(filePath: string): Promise<void> {\n  console.log(`\\nüìÇ Importing from: ${filePath}`);\n  \n  if (!fs.existsSync(filePath)) {\n    console.error(`‚ùå File not found: ${filePath}`);\n    return;\n  }\n\n  // Create sync record\n  const sync = await prisma.entityDataSync.create({\n    data: {\n      syncType: 'full',\n      dataType: 'partnership',\n      status: 'in_progress',\n    },\n  });\n\n  let recordsProcessed = 0;\n  let recordsAdded = 0;\n  const recordsUpdated = 0;\n  let errors = 0;\n\n  try {\n    const fileStream = fs.createReadStream(filePath);\n    const rl = readline.createInterface({\n      input: fileStream,\n      crlfDelay: Infinity,\n    });\n\n    console.log('üìä Processing general partnership records...\\n');\n\n    for await (const line of rl) {\n      recordsProcessed++;\n\n      // Parse the record\n      const record = parseGeneralPartnershipRecord(line);\n      \n      if (!record) {\n        errors++;\n        continue;\n      }\n\n      // Normalize the name for searching\n      const normalizedName = normalizeBusinessName(record.name);\n\n      // Parse dates\n      const filingDate = parseFileDate(record.filingDate);\n      const effectiveDate = parseFileDate(record.effectiveDate);\n      const cancellationDate = parseFileDate(record.cancellationDate);\n      const expirationDate = parseFileDate(record.expirationDate);\n\n      try {\n        // Upsert the general partnership\n        await prisma.generalPartnership.upsert({\n          where: { documentNumber: record.documentNumber },\n          update: {\n            name: record.name,\n            normalizedName,\n            status: record.status,\n            filingDate,\n            effectiveDate,\n            cancellationDate,\n            expirationDate,\n            principalAddress: record.principalAddress || null,\n            mailingAddress: record.mailingAddress || null,\n            numberOfPartners: record.numberOfPartners,\n            lastUpdated: new Date(),\n          },\n          create: {\n            documentNumber: record.documentNumber,\n            name: record.name,\n            normalizedName,\n            status: record.status,\n            filingDate,\n            effectiveDate,\n            cancellationDate,\n            expirationDate,\n            principalAddress: record.principalAddress || null,\n            mailingAddress: record.mailingAddress || null,\n            numberOfPartners: record.numberOfPartners,\n          },\n        });\n\n        recordsAdded++;\n      } catch (error) {\n        errors++;\n        if (errors <= 10) {\n          console.error(`Error importing record ${record.documentNumber}:`, error);\n        }\n      }\n\n      // Progress update every 1000 records\n      if (recordsProcessed % 1000 === 0) {\n        console.log(`‚úì Processed ${recordsProcessed.toLocaleString()} records (${recordsAdded.toLocaleString()} imported, ${errors} errors)`);\n      }\n    }\n\n    // Update sync record\n    await prisma.entityDataSync.update({\n      where: { id: sync.id },\n      data: {\n        status: 'completed',\n        recordsProcessed,\n        recordsAdded,\n        recordsUpdated,\n        completedAt: new Date(),\n      },\n    });\n\n    console.log('\\n‚úÖ Import completed successfully!');\n    console.log(`üìä Total records processed: ${recordsProcessed.toLocaleString()}`);\n    console.log(`‚úì Records imported: ${recordsAdded.toLocaleString()}`);\n    console.log(`‚ö† Errors: ${errors}`);\n\n  } catch (error) {\n    console.error('‚ùå Import failed:', error);\n    \n    await prisma.entityDataSync.update({\n      where: { id: sync.id },\n      data: {\n        status: 'failed',\n        recordsProcessed,\n        recordsAdded,\n        recordsUpdated,\n        completedAt: new Date(),\n        errorMessage: error instanceof Error ? error.message : 'Unknown error',\n      },\n    });\n  }\n}\n\n/**\n * Main execution\n */\nasync function main() {\n  console.log('üöÄ General Partnership Data Import Tool\\n');\n  console.log('This script imports Florida general partnership data from Sunbiz.org');\n  console.log('Data source: https://dos.fl.gov/sunbiz/other-services/data-downloads/\\n');\n\n  // Get file path from command line argument\n  const filePath = process.argv[2];\n\n  if (!filePath) {\n    console.log('Usage: npm run import-partnerships <path-to-genfile-file>');\n    console.log('\\nSteps to get the data:');\n    console.log('1. Visit: https://sftp.floridados.gov');\n    console.log('2. Login with:');\n    console.log('   Username: Public');\n    console.log('   Password: PubAccess1845!');\n    console.log('3. Navigate to: doc > quarterly > gen');\n    console.log('4. Download: genfile.zip');\n    console.log('5. Extract the zip file');\n    console.log('6. Run this script with the path to the extracted file\\n');\n    process.exit(1);\n  }\n\n  await importFromFile(filePath);\n  await prisma.$disconnect();\n}\n\nmain().catch((error) => {\n  console.error('Fatal error:', error);\n  process.exit(1);\n});\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\list-orders.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\list-users.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\make-admin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\mark-order-paid.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\reset-password.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\seed-test-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\scripts\\test-ai-agent.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\AdminNavLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\SignOutButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\customers\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":7,"column":21,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":25}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin - Customer Detail\n * View detailed customer profile with entities, orders, and Smart Form data\n */\n\nimport { PrismaClient } from '@/generated/prisma';\nimport { ArrowLeft, User, Mail, Phone, Calendar, Building2, ShoppingCart, FileText } from 'lucide-react';\nimport Link from 'next/link';\nimport { notFound } from 'next/navigation';\n\nconst prisma = new PrismaClient();\n\nexport default async function CustomerDetailPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const customer = await prisma.user.findUnique({\n    where: { id },\n    include: {\n      clients: {\n        include: {\n          businessEntities: true,\n        },\n      },\n      orders: {\n        orderBy: { createdAt: 'desc' },\n        take: 10,\n      },\n      formDrafts: {\n        orderBy: { updatedAt: 'desc' },\n      },\n    },\n  });\n\n  await prisma.$disconnect();\n\n  if (!customer) {\n    notFound();\n  }\n\n  const totalEntities = customer.clients.reduce((sum, c) => sum + c.businessEntities.length, 0);\n\n  return (\n    <div>\n      {/* Back Button */}\n      <Link\n        href=\"/admin/customers\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#667EEA',\n          textDecoration: 'none',\n          fontSize: '14px',\n          fontWeight: '500',\n          marginBottom: '24px',\n        }}\n      >\n        <ArrowLeft size={16} />\n        Back to Customers\n      </Link>\n\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: 'bold', \n          margin: '0 0 8px 0',\n          color: '#1E293B',\n        }}>\n          {customer.firstName && customer.lastName\n            ? `${customer.firstName} ${customer.lastName}`\n            : customer.email}\n        </h1>\n        <p style={{ \n          fontSize: '16px', \n          color: '#64748B',\n          margin: 0,\n        }}>\n          Customer ID: {customer.id}\n        </p>\n      </div>\n\n      {/* Stats */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '20px',\n        marginBottom: '32px',\n      }}>\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <Building2 size={24} color=\"#667EEA\" />\n            <div>\n              <p style={{ fontSize: '14px', color: '#64748B', margin: '0 0 4px 0' }}>\n                Business Entities\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1E293B', margin: 0 }}>\n                {totalEntities}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <ShoppingCart size={24} color=\"#10B981\" />\n            <div>\n              <p style={{ fontSize: '14px', color: '#64748B', margin: '0 0 4px 0' }}>\n                Total Orders\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1E293B', margin: 0 }}>\n                {customer.orders.length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <FileText size={24} color=\"#F59E0B\" />\n            <div>\n              <p style={{ fontSize: '14px', color: '#64748B', margin: '0 0 4px 0' }}>\n                Form Drafts\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1E293B', margin: 0 }}>\n                {customer.formDrafts.length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Customer Info */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        marginBottom: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n      }}>\n        <h2 style={{ \n          fontSize: '20px', \n          fontWeight: 'bold',\n          margin: '0 0 20px 0',\n          color: '#1E293B',\n        }}>\n          Contact Information\n        </h2>\n\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n          gap: '20px',\n        }}>\n          <div>\n            <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Email</p>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <Mail size={16} color=\"#667EEA\" />\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {customer.email}\n              </p>\n            </div>\n          </div>\n\n          <div>\n            <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Phone</p>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <Phone size={16} color=\"#667EEA\" />\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {customer.phone || 'Not provided'}\n              </p>\n            </div>\n          </div>\n\n          <div>\n            <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Member Since</p>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <Calendar size={16} color=\"#667EEA\" />\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {new Date(customer.createdAt).toLocaleDateString()}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Business Entities */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        marginBottom: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n      }}>\n        <h2 style={{ \n          fontSize: '20px', \n          fontWeight: 'bold',\n          margin: '0 0 20px 0',\n          color: '#1E293B',\n        }}>\n          Business Entities\n        </h2>\n\n        {totalEntities === 0 ? (\n          <p style={{ fontSize: '14px', color: '#64748B', margin: 0 }}>\n            No business entities yet\n          </p>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            {customer.clients.map((client) =>\n              client.businessEntities.map((entity) => (\n                <div\n                  key={entity.id}\n                  style={{\n                    padding: '16px',\n                    background: '#F8FAFC',\n                    border: '1px solid #E2E8F0',\n                    borderRadius: '8px',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                  }}\n                >\n                  <div>\n                    <p style={{ fontSize: '16px', fontWeight: '600', color: '#1E293B', margin: '0 0 4px 0' }}>\n                      {entity.legalName}\n                    </p>\n                    <p style={{ fontSize: '14px', color: '#64748B', margin: 0 }}>\n                      {entity.entityType} ‚Ä¢ {entity.status}\n                    </p>\n                  </div>\n                  <Link\n                    href={`/admin/entities/${entity.id}`}\n                    style={{\n                      padding: '8px 16px',\n                      background: '#667EEA',\n                      color: 'white',\n                      borderRadius: '6px',\n                      fontSize: '14px',\n                      fontWeight: '500',\n                      textDecoration: 'none',\n                    }}\n                  >\n                    View\n                  </Link>\n                </div>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Form Drafts */}\n      {customer.formDrafts.length > 0 && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          marginBottom: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '20px', \n            fontWeight: 'bold',\n            margin: '0 0 20px 0',\n            color: '#1E293B',\n          }}>\n            Smart Form Drafts\n          </h2>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            {customer.formDrafts.map((draft) => (\n              <div\n                key={draft.id}\n                style={{\n                  padding: '16px',\n                  background: '#F8FAFC',\n                  border: '1px solid #E2E8F0',\n                  borderRadius: '8px',\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                }}\n              >\n                <div>\n                  <p style={{ fontSize: '16px', fontWeight: '600', color: '#1E293B', margin: '0 0 4px 0' }}>\n                    {draft.formType.replace(/_/g, ' ')}\n                  </p>\n                  <p style={{ fontSize: '14px', color: '#64748B', margin: 0 }}>\n                    Last updated: {new Date(draft.updatedAt).toLocaleString()}\n                  </p>\n                </div>\n                <Link\n                  href={`/admin/form-drafts/${draft.id}`}\n                  style={{\n                    padding: '8px 16px',\n                    background: '#667EEA',\n                    color: 'white',\n                    borderRadius: '6px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                  }}\n                >\n                  View Draft\n                </Link>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\customers\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\entities\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FileText' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":7}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin Business Entity Detail Page\n * Displays detailed information about a specific business entity\n */\n\nimport { prisma } from '@/lib/prisma';\nimport { notFound } from 'next/navigation';\nimport { \n  Building2, \n  Calendar, \n  FileText, \n  User, \n  MapPin, \n  Phone,\n  Mail,\n  ExternalLink,\n  ArrowLeft,\n} from 'lucide-react';\nimport Link from 'next/link';\n\ninterface PageProps {\n  params: Promise<{\n    id: string;\n  }>;\n}\n\nexport default async function AdminEntityDetailPage({ params }: PageProps) {\n  const { id } = await params;\n  const entity = await prisma.businessEntity.findUnique({\n    where: { id },\n    include: {\n      client: true,\n      addresses: true,\n      registeredAgent: true,\n      managersOfficers: true,\n      filings: {\n        orderBy: {\n          createdAt: 'desc',\n        },\n      },\n    },\n  });\n\n  if (!entity) {\n    notFound();\n  }\n\n  const principalAddress = entity.addresses.find(a => a.addressType === 'PRINCIPAL');\n  const mailingAddress = entity.addresses.find(a => a.addressType === 'MAILING');\n\n  return (\n    <div style={{ padding: '32px' }}>\n      {/* Back Button */}\n      <Link\n        href=\"/admin/entities\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#6366F1',\n          textDecoration: 'none',\n          fontSize: '14px',\n          fontWeight: '500',\n          marginBottom: '24px',\n        }}\n      >\n        <ArrowLeft size={16} />\n        Back to Business Entities\n      </Link>\n\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\n          <Building2 size={32} style={{ color: '#6366F1' }} />\n          <h1 style={{ \n            fontSize: '32px', \n            fontWeight: 'bold', \n            color: '#1E293B',\n            margin: 0,\n          }}>\n            {entity.legalName}\n          </h1>\n        </div>\n        {entity.dbaName && (\n          <p style={{ \n            fontSize: '16px', \n            color: '#64748B',\n            margin: '0 0 8px 44px',\n          }}>\n            DBA: {entity.dbaName}\n          </p>\n        )}\n        <div style={{ marginLeft: '44px', display: 'flex', gap: '12px', alignItems: 'center' }}>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: entity.entityType === 'LLC' ? '#EEF2FF' : '#FCE7F3',\n            color: entity.entityType === 'LLC' ? '#4F46E5' : '#DB2777',\n          }}>\n            {entity.entityType.replace(/_/g, ' ')}\n          </span>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: \n              entity.status === 'ACTIVE' ? '#DCFCE7' :\n              entity.status === 'PENDING' ? '#FEF3C7' :\n              entity.status === 'FILED' ? '#DBEAFE' :\n              '#FEE2E2',\n            color: \n              entity.status === 'ACTIVE' ? '#16A34A' :\n              entity.status === 'PENDING' ? '#F59E0B' :\n              entity.status === 'FILED' ? '#2563EB' :\n              '#DC2626',\n          }}>\n            {entity.status}\n          </span>\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginBottom: '24px' }}>\n        {/* Entity Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Entity Information\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Legal Name\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {entity.legalName}\n              </div>\n            </div>\n\n            {entity.dbaName && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  DBA Name\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {entity.dbaName}\n                </div>\n              </div>\n            )}\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                State of Formation\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {entity.stateOfFormation}\n              </div>\n            </div>\n\n            {entity.documentNumber && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Document Number\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {entity.documentNumber}\n                  </div>\n                  <a\n                    href={`https://search.sunbiz.org/Inquiry/CorporationSearch/SearchResultDetail?inquirytype=EntityName&directionType=Initial&searchNameOrder=TECHINNOVAT%20L230000403980&aggregateId=doml-l23000040398-4e044c94-e0be-4d5c-b3e5-c8f8e0e0e0e0&searchTerm=${entity.documentNumber}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{\n                      color: '#6366F1',\n                      textDecoration: 'none',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '4px',\n                      fontSize: '13px',\n                    }}\n                  >\n                    View on Sunbiz\n                    <ExternalLink size={14} />\n                  </a>\n                </div>\n              </div>\n            )}\n\n            {entity.feiNumber && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  EIN\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {entity.feiNumber}\n                </div>\n              </div>\n            )}\n\n            {entity.filingDate && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Filing Date\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {new Date(entity.filingDate).toLocaleDateString()}\n                </div>\n              </div>\n            )}\n\n            {entity.purpose && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Business Purpose\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {entity.purpose}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Owner Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Owner Information\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Name\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {entity.client.firstName} {entity.client.lastName}\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Email\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Mail size={16} style={{ color: '#64748B' }} />\n                <a \n                  href={`mailto:${entity.client.email}`}\n                  style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                >\n                  {entity.client.email}\n                </a>\n              </div>\n            </div>\n\n            {entity.client.phone && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Phone\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <Phone size={16} style={{ color: '#64748B' }} />\n                  <a \n                    href={`tel:${entity.client.phone}`}\n                    style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                  >\n                    {entity.client.phone}\n                  </a>\n                </div>\n              </div>\n            )}\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Member Since\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Calendar size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {new Date(entity.client.createdAt).toLocaleDateString()}\n                </span>\n              </div>\n            </div>\n\n            <div style={{ marginTop: '8px' }}>\n              <Link\n                href={`/admin/customers/${entity.client.userId}`}\n                style={{\n                  padding: '10px 20px',\n                  background: '#6366F1',\n                  color: 'white',\n                  borderRadius: '6px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  textDecoration: 'none',\n                  display: 'inline-block',\n                }}\n              >\n                View Customer Profile\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Addresses */}\n      {(principalAddress || mailingAddress) && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '24px',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Addresses\n          </h2>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px' }}>\n            {principalAddress && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '8px', fontWeight: '500' }}>\n                  Principal Address\n                </div>\n                <div style={{ display: 'flex', gap: '8px' }}>\n                  <MapPin size={16} style={{ color: '#64748B', marginTop: '2px' }} />\n                  <div style={{ fontSize: '15px', color: '#1E293B', lineHeight: '1.6' }}>\n                    {principalAddress.street}<br />\n                    {principalAddress.street2 && <>{principalAddress.street2}<br /></>}\n                    {principalAddress.city}, {principalAddress.state} {principalAddress.zipCode}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {mailingAddress && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '8px', fontWeight: '500' }}>\n                  Mailing Address\n                </div>\n                <div style={{ display: 'flex', gap: '8px' }}>\n                  <MapPin size={16} style={{ color: '#64748B', marginTop: '2px' }} />\n                  <div style={{ fontSize: '15px', color: '#1E293B', lineHeight: '1.6' }}>\n                    {mailingAddress.street}<br />\n                    {mailingAddress.street2 && <>{mailingAddress.street2}<br /></>}\n                    {mailingAddress.city}, {mailingAddress.state} {mailingAddress.zipCode}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Registered Agent */}\n      {entity.registeredAgent && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '24px',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Registered Agent\n          </h2>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Name\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {entity.registeredAgent.firstName} {entity.registeredAgent.lastName}\n              </div>\n            </div>\n\n            {entity.registeredAgent.email && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Email\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {entity.registeredAgent.email}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\entities\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\feedback\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\form-drafts\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[881,884],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[881,884],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin - Form Draft Detail\n * View detailed information about a specific form draft\n */\n\nimport { PrismaClient } from '@/generated/prisma';\nimport { ArrowLeft, User, Calendar, FileText } from 'lucide-react';\nimport Link from 'next/link';\nimport { notFound } from 'next/navigation';\n\nconst prisma = new PrismaClient();\n\nexport default async function FormDraftDetailPage({\n  params,\n}: {\n  params: Promise<{ id: string }>;\n}) {\n  const { id } = await params;\n  const draft = await prisma.formDraft.findUnique({\n    where: { id },\n    include: {\n      user: {\n        select: {\n          id: true,\n          email: true,\n          firstName: true,\n          lastName: true,\n          phone: true,\n          createdAt: true,\n        },\n      },\n    },\n  });\n\n  await prisma.$disconnect();\n\n  if (!draft) {\n    notFound();\n  }\n\n  const formData = draft.formData as Record<string, any>;\n\n  return (\n    <div>\n      {/* Back Button */}\n      <Link\n        href=\"/admin/form-drafts\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#667EEA',\n          textDecoration: 'none',\n          fontSize: '14px',\n          fontWeight: '500',\n          marginBottom: '24px',\n        }}\n      >\n        <ArrowLeft size={16} />\n        Back to Form Drafts\n      </Link>\n\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: 'bold', \n          margin: '0 0 8px 0',\n          color: '#1E293B',\n        }}>\n          {draft.formType.replace(/_/g, ' ')}\n        </h1>\n        <p style={{ \n          fontSize: '16px', \n          color: '#64748B',\n          margin: 0,\n        }}>\n          Draft ID: {draft.id}\n        </p>\n      </div>\n\n      {/* Info Cards */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n        gap: '24px',\n        marginBottom: '32px',\n      }}>\n        {/* Customer Info */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>\n            <User size={20} color=\"#667EEA\" />\n            <h2 style={{ fontSize: '18px', fontWeight: 'bold', margin: 0, color: '#1E293B' }}>\n              Customer Information\n            </h2>\n          </div>\n          {draft.user ? (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n              <div>\n                <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Name</p>\n                <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                  {draft.user.firstName && draft.user.lastName\n                    ? `${draft.user.firstName} ${draft.user.lastName}`\n                    : 'Not provided'}\n                </p>\n              </div>\n              <div>\n                <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Email</p>\n                <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                  {draft.user.email}\n                </p>\n              </div>\n              <div>\n                <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Phone</p>\n                <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                  {draft.user.phone || 'Not provided'}\n                </p>\n              </div>\n              <div>\n                <Link\n                  href={`/admin/customers/${draft.user.id}`}\n                  style={{\n                    display: 'inline-block',\n                    marginTop: '8px',\n                    padding: '8px 16px',\n                    background: '#667EEA',\n                    color: 'white',\n                    borderRadius: '6px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                  }}\n                >\n                  View Customer Profile\n                </Link>\n              </div>\n            </div>\n          ) : (\n            <p style={{ fontSize: '14px', color: '#64748B', margin: 0 }}>\n              Guest User\n            </p>\n          )}\n        </div>\n\n        {/* Draft Info */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>\n            <Calendar size={20} color=\"#10B981\" />\n            <h2 style={{ fontSize: '18px', fontWeight: 'bold', margin: 0, color: '#1E293B' }}>\n              Draft Information\n            </h2>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Created</p>\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {new Date(draft.createdAt).toLocaleString()}\n              </p>\n            </div>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Last Updated</p>\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {new Date(draft.updatedAt).toLocaleString()}\n              </p>\n            </div>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748B', margin: '0 0 4px 0' }}>Fields Filled</p>\n              <p style={{ fontSize: '14px', color: '#1E293B', margin: 0 }}>\n                {Object.keys(formData).length} fields\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Data */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>\n          <FileText size={20} color=\"#F59E0B\" />\n          <h2 style={{ fontSize: '18px', fontWeight: 'bold', margin: 0, color: '#1E293B' }}>\n            Form Data\n          </h2>\n        </div>\n\n        {Object.keys(formData).length === 0 ? (\n          <p style={{ fontSize: '14px', color: '#64748B', margin: 0 }}>\n            No data saved yet\n          </p>\n        ) : (\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n            gap: '20px',\n          }}>\n            {Object.entries(formData).map(([key, value]) => (\n              <div\n                key={key}\n                style={{\n                  padding: '16px',\n                  background: '#F8FAFC',\n                  border: '1px solid #E2E8F0',\n                  borderRadius: '8px',\n                }}\n              >\n                <p style={{ \n                  fontSize: '12px', \n                  fontWeight: '600',\n                  color: '#64748B', \n                  margin: '0 0 8px 0',\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.5px',\n                }}>\n                  {key.replace(/([A-Z])/g, ' $1').trim()}\n                </p>\n                <p style={{ \n                  fontSize: '14px', \n                  color: '#1E293B', \n                  margin: 0,\n                  wordBreak: 'break-word',\n                }}>\n                  {typeof value === 'object' \n                    ? JSON.stringify(value, null, 2)\n                    : String(value) || '(empty)'}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Raw JSON (for debugging) */}\n      <details style={{ marginTop: '32px' }}>\n        <summary style={{\n          padding: '16px',\n          background: '#F8FAFC',\n          border: '1px solid #E2E8F0',\n          borderRadius: '8px',\n          cursor: 'pointer',\n          fontSize: '14px',\n          fontWeight: '600',\n          color: '#475569',\n        }}>\n          View Raw JSON\n        </summary>\n        <pre style={{\n          marginTop: '16px',\n          padding: '20px',\n          background: '#1E293B',\n          color: '#E2E8F0',\n          borderRadius: '8px',\n          fontSize: '12px',\n          overflow: 'auto',\n          fontFamily: 'monospace',\n        }}>\n          {JSON.stringify(formData, null, 2)}\n        </pre>\n      </details>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\form-drafts\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":7,"column":26,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin - Form Drafts\n * View all Smart Form drafts saved by customers\n */\n\nimport { PrismaClient } from '@/generated/prisma';\nimport { FileText, User, Calendar } from 'lucide-react';\nimport Link from 'next/link';\n\nconst prisma = new PrismaClient();\n\nexport default async function FormDraftsPage() {\n  // Fetch all form drafts with user info\n  const drafts = await prisma.formDraft.findMany({\n    orderBy: { updatedAt: 'desc' },\n    include: {\n      user: {\n        select: {\n          email: true,\n          firstName: true,\n          lastName: true,\n        },\n      },\n    },\n  });\n\n  await prisma.$disconnect();\n\n  // Group drafts by form type\n  const draftsByType = drafts.reduce((acc, draft) => {\n    if (!acc[draft.formType]) {\n      acc[draft.formType] = [];\n    }\n    acc[draft.formType].push(draft);\n    return acc;\n  }, {} as Record<string, typeof drafts>);\n\n  return (\n    <div>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: 'bold', \n          margin: '0 0 8px 0',\n          color: '#1E293B',\n        }}>\n          Form Drafts\n        </h1>\n        <p style={{ \n          fontSize: '16px', \n          color: '#64748B',\n          margin: 0,\n        }}>\n          View all Smart Form drafts saved by customers\n        </p>\n      </div>\n\n      {/* Stats */}\n      <div style={{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '20px',\n        marginBottom: '32px',\n      }}>\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <FileText size={24} color=\"#667EEA\" />\n            <div>\n              <p style={{ fontSize: '14px', color: '#64748B', margin: '0 0 4px 0' }}>\n                Total Drafts\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1E293B', margin: 0 }}>\n                {drafts.length}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <User size={24} color=\"#10B981\" />\n            <div>\n              <p style={{ fontSize: '14px', color: '#64748B', margin: '0 0 4px 0' }}>\n                Form Types\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 'bold', color: '#1E293B', margin: 0 }}>\n                {Object.keys(draftsByType).length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Drafts by Type */}\n      {Object.keys(draftsByType).length === 0 ? (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '48px',\n          textAlign: 'center',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <FileText size={48} color=\"#CBD5E1\" style={{ margin: '0 auto 16px' }} />\n          <p style={{ fontSize: '18px', color: '#64748B', margin: 0 }}>\n            No form drafts yet\n          </p>\n        </div>\n      ) : (\n        Object.entries(draftsByType).map(([formType, typeDrafts]) => (\n          <div\n            key={formType}\n            style={{\n              background: 'white',\n              border: '1px solid #E2E8F0',\n              borderRadius: '12px',\n              padding: '24px',\n              marginBottom: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n            }}\n          >\n            <h2 style={{ \n              fontSize: '20px', \n              fontWeight: 'bold',\n              margin: '0 0 20px 0',\n              color: '#1E293B',\n            }}>\n              {formType.replace(/_/g, ' ')}\n              <span style={{\n                marginLeft: '12px',\n                padding: '4px 12px',\n                borderRadius: '6px',\n                fontSize: '14px',\n                fontWeight: '500',\n                background: '#F1F5F9',\n                color: '#475569',\n              }}>\n                {typeDrafts.length} draft{typeDrafts.length !== 1 ? 's' : ''}\n              </span>\n            </h2>\n\n            <div style={{ overflowX: 'auto' }}>\n              <table style={{ \n                width: '100%', \n                borderCollapse: 'collapse',\n              }}>\n                <thead>\n                  <tr style={{ borderBottom: '2px solid #E2E8F0' }}>\n                    <th style={{ \n                      padding: '12px', \n                      textAlign: 'left',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      color: '#64748B',\n                    }}>\n                      Customer\n                    </th>\n                    <th style={{ \n                      padding: '12px', \n                      textAlign: 'left',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      color: '#64748B',\n                    }}>\n                      Last Updated\n                    </th>\n                    <th style={{ \n                      padding: '12px', \n                      textAlign: 'left',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      color: '#64748B',\n                    }}>\n                      Fields Filled\n                    </th>\n                    <th style={{ \n                      padding: '12px', \n                      textAlign: 'center',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      color: '#64748B',\n                    }}>\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {typeDrafts.map((draft) => {\n                    const fieldCount = Object.keys(draft.formData as object).length;\n                    return (\n                      <tr \n                        key={draft.id}\n                        style={{ borderBottom: '1px solid #F1F5F9' }}\n                      >\n                        <td style={{ \n                          padding: '16px 12px',\n                          fontSize: '14px',\n                          color: '#1E293B',\n                        }}>\n                          {draft.user?.firstName && draft.user?.lastName\n                            ? `${draft.user.firstName} ${draft.user.lastName}`\n                            : draft.user?.email || 'Guest User'}\n                        </td>\n                        <td style={{ \n                          padding: '16px 12px',\n                          fontSize: '14px',\n                          color: '#64748B',\n                        }}>\n                          {new Date(draft.updatedAt).toLocaleString()}\n                        </td>\n                        <td style={{ \n                          padding: '16px 12px',\n                          fontSize: '14px',\n                          color: '#1E293B',\n                        }}>\n                          {fieldCount} field{fieldCount !== 1 ? 's' : ''}\n                        </td>\n                        <td style={{ \n                          padding: '16px 12px',\n                          textAlign: 'center',\n                        }}>\n                          <Link\n                            href={`/admin/form-drafts/${draft.id}`}\n                            style={{\n                              padding: '8px 16px',\n                              background: '#667EEA',\n                              color: 'white',\n                              borderRadius: '6px',\n                              fontSize: '14px',\n                              fontWeight: '500',\n                              textDecoration: 'none',\n                              display: 'inline-block',\n                              transition: 'all 0.2s',\n                            }}\n                          >\n                            View Details\n                          </Link>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\orders\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DollarSign' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":7},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":460,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":460,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[16675,16678],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[16675,16678],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":551,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":551,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20364,20367],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20364,20367],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":571,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":571,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[21548,21551],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[21548,21551],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin Order Detail Page\n * Displays detailed information about a specific order\n */\n\nimport { prisma } from '@/lib/prisma';\nimport { notFound } from 'next/navigation';\nimport { \n  ShoppingCart, \n  Calendar, \n  DollarSign, \n  User,\n  Mail,\n  Phone,\n  CreditCard,\n  Package,\n  AlertTriangle,\n  ArrowLeft,\n} from 'lucide-react';\nimport Link from 'next/link';\n\ninterface PageProps {\n  params: Promise<{\n    id: string;\n  }>;\n}\n\nexport default async function AdminOrderDetailPage({ params }: PageProps) {\n  const { id } = await params;\n  const order = await prisma.order.findUnique({\n    where: { id },\n    include: {\n      user: true,\n      package: true,\n      orderItems: true,\n      riskAssessment: true,\n    },\n  });\n\n  if (!order) {\n    notFound();\n  }\n\n  return (\n    <div style={{ padding: '32px' }}>\n      {/* Back Button */}\n      <Link\n        href=\"/admin/orders\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#6366F1',\n          textDecoration: 'none',\n          fontSize: '14px',\n          fontWeight: '500',\n          marginBottom: '24px',\n        }}\n      >\n        <ArrowLeft size={16} />\n        Back to Orders\n      </Link>\n\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\n          <ShoppingCart size={32} style={{ color: '#6366F1' }} />\n          <h1 style={{ \n            fontSize: '32px', \n            fontWeight: 'bold', \n            color: '#1E293B',\n            margin: 0,\n          }}>\n            Order {order.orderNumber}\n          </h1>\n        </div>\n        <div style={{ marginLeft: '44px', display: 'flex', gap: '12px', alignItems: 'center' }}>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: \n              order.orderStatus === 'COMPLETED' ? '#DCFCE7' :\n              order.orderStatus === 'PROCESSING' ? '#DBEAFE' :\n              order.orderStatus === 'PENDING' ? '#FEF3C7' :\n              order.orderStatus === 'PAID' ? '#D1FAE5' :\n              '#FEE2E2',\n            color: \n              order.orderStatus === 'COMPLETED' ? '#16A34A' :\n              order.orderStatus === 'PROCESSING' ? '#2563EB' :\n              order.orderStatus === 'PENDING' ? '#F59E0B' :\n              order.orderStatus === 'PAID' ? '#059669' :\n              '#DC2626',\n          }}>\n            {order.orderStatus}\n          </span>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: \n              order.paymentStatus === 'PAID' ? '#DCFCE7' :\n              order.paymentStatus === 'PENDING' ? '#FEF3C7' :\n              '#FEE2E2',\n            color: \n              order.paymentStatus === 'PAID' ? '#16A34A' :\n              order.paymentStatus === 'PENDING' ? '#F59E0B' :\n              '#DC2626',\n          }}>\n            Payment: {order.paymentStatus}\n          </span>\n          {order.requiresReview && (\n            <span style={{\n              padding: '6px 12px',\n              borderRadius: '6px',\n              fontSize: '13px',\n              fontWeight: '500',\n              background: '#FEE2E2',\n              color: '#DC2626',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n            }}>\n              <AlertTriangle size={14} />\n              Requires Review\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginBottom: '24px' }}>\n        {/* Customer Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Customer Information\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            {order.isGuestOrder ? (\n              <>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Customer Type\n                  </div>\n                  <span style={{\n                    fontSize: '13px',\n                    padding: '4px 8px',\n                    borderRadius: '4px',\n                    background: '#F1F5F9',\n                    color: '#64748B',\n                  }}>\n                    Guest Order\n                  </span>\n                </div>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Name\n                  </div>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {order.guestFirstName} {order.guestLastName}\n                  </div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Email\n                  </div>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <Mail size={16} style={{ color: '#64748B' }} />\n                    <a \n                      href={`mailto:${order.guestEmail}`}\n                      style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                    >\n                      {order.guestEmail}\n                    </a>\n                  </div>\n                </div>\n                {order.guestPhone && (\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Phone\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <Phone size={16} style={{ color: '#64748B' }} />\n                      <a \n                        href={`tel:${order.guestPhone}`}\n                        style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                      >\n                        {order.guestPhone}\n                      </a>\n                    </div>\n                  </div>\n                )}\n              </>\n            ) : order.user ? (\n              <>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Name\n                  </div>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {order.user.firstName} {order.user.lastName}\n                  </div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Email\n                  </div>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <Mail size={16} style={{ color: '#64748B' }} />\n                    <a \n                      href={`mailto:${order.user.email}`}\n                      style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                    >\n                      {order.user.email}\n                    </a>\n                  </div>\n                </div>\n                {order.user.phone && (\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Phone\n                    </div>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      <Phone size={16} style={{ color: '#64748B' }} />\n                      <a \n                        href={`tel:${order.user.phone}`}\n                        style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                      >\n                        {order.user.phone}\n                      </a>\n                    </div>\n                  </div>\n                )}\n                <div style={{ marginTop: '8px' }}>\n                  <Link\n                    href={`/admin/customers/${order.userId}`}\n                    style={{\n                      padding: '10px 20px',\n                      background: '#6366F1',\n                      color: 'white',\n                      borderRadius: '6px',\n                      fontSize: '14px',\n                      fontWeight: '500',\n                      textDecoration: 'none',\n                      display: 'inline-block',\n                    }}\n                  >\n                    View Customer Profile\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <div style={{ color: '#94A3B8' }}>No customer information available</div>\n            )}\n          </div>\n        </div>\n\n        {/* Order Details */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Order Details\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Order Number\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B', fontFamily: 'monospace', fontWeight: '600' }}>\n                {order.orderNumber}\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Order Date\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Calendar size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {new Date(order.createdAt).toLocaleString()}\n                </span>\n              </div>\n            </div>\n\n            {order.paidAt && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Paid At\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <Calendar size={16} style={{ color: '#64748B' }} />\n                  <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {new Date(order.paidAt).toLocaleString()}\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {order.completedAt && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Completed At\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <Calendar size={16} style={{ color: '#64748B' }} />\n                  <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {new Date(order.completedAt).toLocaleString()}\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {order.paymentMethod && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Payment Method\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <CreditCard size={16} style={{ color: '#64748B' }} />\n                  <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {order.paymentMethod}\n                  </span>\n                </div>\n              </div>\n            )}\n\n            {order.package && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Package\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <Package size={16} style={{ color: '#64748B' }} />\n                  <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {order.package.name}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Order Items */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        marginBottom: '24px',\n      }}>\n        <h2 style={{ \n          fontSize: '18px', \n          fontWeight: '600', \n          color: '#1E293B',\n          marginBottom: '20px',\n        }}>\n          Order Items\n        </h2>\n\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n          {order.orderItems.map((item) => (\n            <div \n              key={item.id}\n              style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: '16px',\n                background: '#F8FAFC',\n                borderRadius: '8px',\n              }}\n            >\n              <div>\n                <div style={{ fontSize: '15px', fontWeight: '500', color: '#1E293B' }}>\n                  {item.serviceType.replace(/_/g, ' ')}\n                </div>\n                <div style={{ fontSize: '13px', color: '#64748B', marginTop: '4px' }}>\n                  {item.description}\n                </div>\n                {item.quantity > 1 && (\n                  <div style={{ fontSize: '13px', color: '#64748B', marginTop: '4px' }}>\n                    Quantity: {item.quantity}\n                  </div>\n                )}\n              </div>\n              <div style={{ textAlign: 'right' }}>\n                <div style={{ fontSize: '16px', fontWeight: '600', color: '#1E293B' }}>\n                  ${Number(item.totalPrice).toFixed(2)}\n                </div>\n                {item.quantity > 1 && (\n                  <div style={{ fontSize: '13px', color: '#64748B', marginTop: '4px' }}>\n                    ${Number(item.unitPrice).toFixed(2)} each\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Order Totals */}\n        <div style={{ marginTop: '24px', paddingTop: '24px', borderTop: '1px solid #E2E8F0' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '12px' }}>\n            <span style={{ fontSize: '15px', color: '#64748B' }}>Subtotal</span>\n            <span style={{ fontSize: '15px', color: '#1E293B', fontWeight: '500' }}>\n              ${Number(order.subtotal).toFixed(2)}\n            </span>\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '12px' }}>\n            <span style={{ fontSize: '15px', color: '#64748B' }}>Tax</span>\n            <span style={{ fontSize: '15px', color: '#1E293B', fontWeight: '500' }}>\n              ${Number(order.tax).toFixed(2)}\n            </span>\n          </div>\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            paddingTop: '12px',\n            borderTop: '2px solid #E2E8F0',\n          }}>\n            <span style={{ fontSize: '18px', color: '#1E293B', fontWeight: '600' }}>Total</span>\n            <span style={{ fontSize: '18px', color: '#1E293B', fontWeight: '700' }}>\n              ${Number(order.total).toFixed(2)}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Data Section */}\n      {(() => {\n        // Find the order item with additionalData (usually the service fee item)\n        const itemWithData = order.orderItems.find(item => item.additionalData);\n        const formData = itemWithData?.additionalData as any;\n\n        if (!formData) {\n          return (\n            <div style={{\n              background: 'white',\n              border: '1px solid #E2E8F0',\n              borderRadius: '12px',\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n              marginBottom: '24px',\n            }}>\n              <h2 style={{\n                fontSize: '18px',\n                fontWeight: '600',\n                color: '#1E293B',\n                marginBottom: '20px',\n              }}>\n                Form Data\n              </h2>\n              <p style={{ fontSize: '14px', color: '#64748B' }}>\n                No form data available for this order (created before form data storage was implemented)\n              </p>\n            </div>\n          );\n        }\n\n        return (\n          <div style={{\n            background: 'white',\n            border: '1px solid #E2E8F0',\n            borderRadius: '12px',\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n            marginBottom: '24px',\n          }}>\n            <h2 style={{\n              fontSize: '18px',\n              fontWeight: '600',\n              color: '#1E293B',\n              marginBottom: '20px',\n            }}>\n              Form Data\n            </h2>\n\n            {/* Fictitious Name Information */}\n            {formData.fictitiousName && (\n              <div style={{ marginBottom: '24px' }}>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Fictitious Name Information\n                </h3>\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Fictitious Name\n                    </div>\n                    <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                      {formData.fictitiousName}\n                    </div>\n                  </div>\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Principal County\n                    </div>\n                    <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                      {formData.principalCounty}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Mailing Address */}\n            {formData.mailingAddress && (\n              <div style={{ marginBottom: '24px' }}>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Mailing Address\n                </h3>\n                <div style={{ fontSize: '15px', color: '#1E293B', lineHeight: '1.6' }}>\n                  {formData.mailingAddress.street}<br />\n                  {formData.mailingAddress.city}, {formData.mailingAddress.state} {formData.mailingAddress.zipCode}\n                </div>\n              </div>\n            )}\n\n            {/* Individual Owners */}\n            {formData.individualOwners && formData.individualOwners.length > 0 && (\n              <div style={{ marginBottom: '24px' }}>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Individual Owners\n                </h3>\n                {formData.individualOwners.map((owner: any, index: number) => (\n                  <div key={index} style={{ marginBottom: '16px', padding: '12px', background: '#F8FAFC', borderRadius: '8px' }}>\n                    <div style={{ fontSize: '15px', fontWeight: '600', color: '#1E293B', marginBottom: '8px' }}>\n                      {owner.firstName} {owner.middleName} {owner.lastName}\n                    </div>\n                    <div style={{ fontSize: '14px', color: '#64748B', lineHeight: '1.6' }}>\n                      {owner.address.street}<br />\n                      {owner.address.city}, {owner.address.state} {owner.address.zipCode}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Business Entity Owners */}\n            {formData.businessEntityOwners && formData.businessEntityOwners.length > 0 && (\n              <div style={{ marginBottom: '24px' }}>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Business Entity Owners\n                </h3>\n                {formData.businessEntityOwners.map((owner: any, index: number) => (\n                  <div key={index} style={{ marginBottom: '16px', padding: '12px', background: '#F8FAFC', borderRadius: '8px' }}>\n                    <div style={{ fontSize: '15px', fontWeight: '600', color: '#1E293B', marginBottom: '8px' }}>\n                      {owner.entityName}\n                    </div>\n                    <div style={{ fontSize: '14px', color: '#64748B', lineHeight: '1.6' }}>\n                      FEI/EIN: {owner.fein}<br />\n                      {owner.address.street}<br />\n                      {owner.address.city}, {owner.address.state} {owner.address.zipCode}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Newspaper Advertisement */}\n            {formData.newspaperAdvertised && (\n              <div style={{ marginBottom: '24px' }}>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Newspaper Advertisement\n                </h3>\n                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Newspaper Name\n                    </div>\n                    <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                      {formData.newspaperName}\n                    </div>\n                  </div>\n                  <div>\n                    <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                      Advertisement Date\n                    </div>\n                    <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                      {formData.advertisementDate}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Additional Services */}\n            <div style={{ marginBottom: '24px' }}>\n              <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                Additional Services\n              </h3>\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '16px' }}>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Certified Copy\n                  </div>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {formData.certifiedCopy ? 'Yes' : 'No'}\n                  </div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Certificate of Status\n                  </div>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {formData.certificateOfStatus ? 'Yes' : 'No'}\n                  </div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                    Has FEIN\n                  </div>\n                  <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                    {formData.hasFEIN ? `Yes (${formData.fein})` : 'No'}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Correspondence Email */}\n            {formData.correspondenceEmail && (\n              <div>\n                <h3 style={{ fontSize: '14px', fontWeight: '600', color: '#64748B', marginBottom: '12px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Correspondence Email\n                </h3>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {formData.correspondenceEmail}\n                </div>\n              </div>\n            )}\n          </div>\n        );\n      })()}\n\n      {/* Risk Assessment */}\n      {(order.riskScore !== null || order.riskAssessment) && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Risk Assessment\n          </h2>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px' }}>\n            {order.riskScore !== null && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Risk Score\n                </div>\n                <div style={{ fontSize: '24px', fontWeight: '700', color: '#1E293B' }}>\n                  {order.riskScore}/100\n                </div>\n              </div>\n            )}\n\n            {order.riskLevel && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Risk Level\n                </div>\n                <span style={{\n                  padding: '6px 12px',\n                  borderRadius: '6px',\n                  fontSize: '13px',\n                  fontWeight: '500',\n                  background: \n                    order.riskLevel === 'LOW' ? '#DCFCE7' :\n                    order.riskLevel === 'MEDIUM' ? '#FEF3C7' :\n                    '#FEE2E2',\n                  color: \n                    order.riskLevel === 'LOW' ? '#16A34A' :\n                    order.riskLevel === 'MEDIUM' ? '#F59E0B' :\n                    '#DC2626',\n                }}>\n                  {order.riskLevel}\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\orders\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatServiceType' is assigned a value but never used.","line":36,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin Orders Page\n * Displays all orders with filtering and search\n */\n\nimport { prisma } from '@/lib/prisma';\nimport { ShoppingCart, Calendar, DollarSign, Package } from 'lucide-react';\nimport Link from 'next/link';\n\nexport default async function AdminOrdersPage() {\n  // Fetch all orders with user and items information\n  const orders = await prisma.order.findMany({\n    include: {\n      user: {\n        select: {\n          firstName: true,\n          lastName: true,\n          email: true,\n        },\n      },\n      orderItems: {\n        select: {\n          id: true,\n          serviceType: true,\n          description: true,\n          totalPrice: true,\n        },\n      },\n    },\n    orderBy: {\n      createdAt: 'desc',\n    },\n  });\n\n  // Helper function to safely format service type\n  const formatServiceType = (serviceType: string | null | undefined): string => {\n    if (!serviceType) return 'No service type';\n    return serviceType.replace(/_/g, ' ');\n  };\n\n  // Calculate stats\n  const totalOrders = orders.length;\n  const pendingOrders = orders.filter(o => o.orderStatus === 'PENDING').length;\n  const paidOrders = orders.filter(o => o.paymentStatus === 'PAID').length;\n  const totalRevenue = orders\n    .filter(o => o.paymentStatus === 'PAID')\n    .reduce((sum, order) => sum + Number(order.total), 0);\n\n  return (\n    <div style={{ padding: '32px' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: 'bold', \n          color: '#1E293B',\n          margin: '0 0 8px 0',\n        }}>\n          Orders\n        </h1>\n        <p style={{ \n          fontSize: '16px', \n          color: '#64748B',\n          margin: 0,\n        }}>\n          Manage all customer orders and payments\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div style={{ \n        display: 'grid', \n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '20px',\n        marginBottom: '32px',\n      }}>\n        {/* Total Orders */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>\n            <div style={{\n              background: '#EEF2FF',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <ShoppingCart size={20} style={{ color: '#6366F1' }} />\n            </div>\n            <span style={{ fontSize: '14px', color: '#64748B', fontWeight: '500' }}>\n              Total Orders\n            </span>\n          </div>\n          <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1E293B' }}>\n            {totalOrders}\n          </div>\n        </div>\n\n        {/* Pending Orders */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>\n            <div style={{\n              background: '#FEF3C7',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Package size={20} style={{ color: '#F59E0B' }} />\n            </div>\n            <span style={{ fontSize: '14px', color: '#64748B', fontWeight: '500' }}>\n              Pending\n            </span>\n          </div>\n          <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1E293B' }}>\n            {pendingOrders}\n          </div>\n        </div>\n\n        {/* Paid Orders */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>\n            <div style={{\n              background: '#DCFCE7',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <ShoppingCart size={20} style={{ color: '#16A34A' }} />\n            </div>\n            <span style={{ fontSize: '14px', color: '#64748B', fontWeight: '500' }}>\n              Paid\n            </span>\n          </div>\n          <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1E293B' }}>\n            {paidOrders}\n          </div>\n        </div>\n\n        {/* Total Revenue */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>\n            <div style={{\n              background: '#D1FAE5',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <DollarSign size={20} style={{ color: '#059669' }} />\n            </div>\n            <span style={{ fontSize: '14px', color: '#64748B', fontWeight: '500' }}>\n              Total Revenue\n            </span>\n          </div>\n          <div style={{ fontSize: '32px', fontWeight: 'bold', color: '#1E293B' }}>\n            ${totalRevenue.toFixed(2)}\n          </div>\n        </div>\n      </div>\n\n      {/* Orders Table */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        overflow: 'hidden',\n      }}>\n        <div style={{ padding: '24px', borderBottom: '1px solid #E2E8F0' }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            margin: 0,\n          }}>\n            All Orders\n          </h2>\n        </div>\n\n        <div style={{ overflowX: 'auto' }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ background: '#F8FAFC', borderBottom: '1px solid #E2E8F0' }}>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Order #\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Customer\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Items\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Total\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Order Status\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Payment Status\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'left', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Date\n                </th>\n                <th style={{ padding: '12px 24px', textAlign: 'right', fontSize: '12px', fontWeight: '600', color: '#64748B', textTransform: 'uppercase' }}>\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map((order) => (\n                <tr key={order.id} style={{ borderBottom: '1px solid #E2E8F0' }}>\n                  <td style={{ padding: '16px 24px' }}>\n                    <div style={{ fontWeight: '600', color: '#1E293B', fontFamily: 'monospace' }}>\n                      {order.orderNumber}\n                    </div>\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    {order.isGuestOrder ? (\n                      <div>\n                        <div style={{ fontSize: '14px', color: '#1E293B', fontWeight: '500' }}>\n                          {order.guestFirstName} {order.guestLastName}\n                        </div>\n                        <div style={{ fontSize: '13px', color: '#64748B' }}>\n                          {order.guestEmail}\n                        </div>\n                        <span style={{\n                          fontSize: '11px',\n                          padding: '2px 6px',\n                          borderRadius: '4px',\n                          background: '#F1F5F9',\n                          color: '#64748B',\n                          marginTop: '4px',\n                          display: 'inline-block',\n                        }}>\n                          Guest\n                        </span>\n                      </div>\n                    ) : order.user ? (\n                      <div>\n                        <div style={{ fontSize: '14px', color: '#1E293B', fontWeight: '500' }}>\n                          {order.user.firstName} {order.user.lastName}\n                        </div>\n                        <div style={{ fontSize: '13px', color: '#64748B' }}>\n                          {order.user.email}\n                        </div>\n                      </div>\n                    ) : (\n                      <span style={{ color: '#94A3B8' }}>‚Äî</span>\n                    )}\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    <div style={{ fontSize: '14px', color: '#1E293B' }}>\n                      {order.orderItems.length} {order.orderItems.length === 1 ? 'item' : 'items'}\n                    </div>\n                    <div style={{ fontSize: '13px', color: '#64748B', marginTop: '2px' }}>\n                      {order.orderItems.length > 0 ? order.orderItems[0].description : 'No items'}\n                      {order.orderItems.length > 1 && ` +${order.orderItems.length - 1} more`}\n                    </div>\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    <div style={{ fontSize: '16px', fontWeight: '600', color: '#1E293B' }}>\n                      ${Number(order.total).toFixed(2)}\n                    </div>\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    <span style={{\n                      padding: '6px 12px',\n                      borderRadius: '6px',\n                      fontSize: '13px',\n                      fontWeight: '500',\n                      background: \n                        order.orderStatus === 'COMPLETED' ? '#DCFCE7' :\n                        order.orderStatus === 'PROCESSING' ? '#DBEAFE' :\n                        order.orderStatus === 'PENDING' ? '#FEF3C7' :\n                        order.orderStatus === 'PAID' ? '#D1FAE5' :\n                        '#FEE2E2',\n                      color: \n                        order.orderStatus === 'COMPLETED' ? '#16A34A' :\n                        order.orderStatus === 'PROCESSING' ? '#2563EB' :\n                        order.orderStatus === 'PENDING' ? '#F59E0B' :\n                        order.orderStatus === 'PAID' ? '#059669' :\n                        '#DC2626',\n                    }}>\n                      {order.orderStatus}\n                    </span>\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    <span style={{\n                      padding: '6px 12px',\n                      borderRadius: '6px',\n                      fontSize: '13px',\n                      fontWeight: '500',\n                      background: \n                        order.paymentStatus === 'PAID' ? '#DCFCE7' :\n                        order.paymentStatus === 'PENDING' ? '#FEF3C7' :\n                        '#FEE2E2',\n                      color: \n                        order.paymentStatus === 'PAID' ? '#16A34A' :\n                        order.paymentStatus === 'PENDING' ? '#F59E0B' :\n                        '#DC2626',\n                    }}>\n                      {order.paymentStatus}\n                    </span>\n                  </td>\n                  <td style={{ padding: '16px 24px' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n                      <Calendar size={16} style={{ color: '#64748B' }} />\n                      <span style={{ fontSize: '14px', color: '#64748B' }}>\n                        {new Date(order.createdAt).toLocaleDateString()}\n                      </span>\n                    </div>\n                  </td>\n                  <td style={{ padding: '16px 24px', textAlign: 'right' }}>\n                    <Link\n                      href={`/admin/orders/${order.id}`}\n                      style={{\n                        padding: '8px 16px',\n                        background: '#6366F1',\n                        color: 'white',\n                        borderRadius: '6px',\n                        fontSize: '14px',\n                        fontWeight: '500',\n                        textDecoration: 'none',\n                        display: 'inline-block',\n                      }}\n                    >\n                      View\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {orders.length === 0 && (\n          <div style={{ \n            padding: '48px 24px', \n            textAlign: 'center',\n            color: '#64748B',\n          }}>\n            No orders found\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\risk-management\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'loadHighRiskOrders'. Either include it or remove the dependency array.","line":53,"column":6,"nodeType":"ArrayExpression","endLine":53,"endColumn":19,"suggestions":[{"desc":"Update the dependencies array to be: [filterLevel, loadHighRiskOrders]","fix":{"range":[1359,1372],"text":"[filterLevel, loadHighRiskOrders]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\n\ninterface RiskFactor {\n  factor: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n  description: string;\n  points: number;\n}\n\ninterface RiskAssessment {\n  id: string;\n  riskScore: number;\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';\n  recommendation: string;\n  aiReasoning: string;\n  riskFactors: RiskFactor[];\n  customerEmail: string;\n  customerName: string | null;\n  customerPhone: string | null;\n  orderAmount: number;\n  paymentMethod: string;\n  isRushOrder: boolean;\n  ipAddress: string | null;\n  createdAt: string;\n  order: {\n    id: string;\n    orderNumber: string;\n    orderStatus: string;\n    total: number;\n    createdAt: string;\n    user: {\n      id: string;\n      email: string;\n      firstName: string | null;\n      lastName: string | null;\n      phone: string | null;\n    };\n  };\n}\n\nexport default function RiskManagementPage() {\n  const [assessments, setAssessments] = useState<RiskAssessment[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedAssessment, setSelectedAssessment] = useState<RiskAssessment | null>(null);\n  const [filterLevel, setFilterLevel] = useState<string>('');\n  const [reviewNotes, setReviewNotes] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    loadHighRiskOrders();\n  }, [filterLevel]);\n\n  const loadHighRiskOrders = async () => {\n    setLoading(true);\n    try {\n      const url = filterLevel \n        ? `/api/risk/high-risk-orders?riskLevel=${filterLevel}`\n        : '/api/risk/high-risk-orders';\n      \n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.success) {\n        setAssessments(data.assessments);\n      }\n    } catch (error) {\n      console.error('Error loading high-risk orders:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReview = async (decision: 'APPROVED' | 'DECLINED' | 'VERIFIED' | 'MONITORING') => {\n    if (!selectedAssessment) return;\n\n    setSubmitting(true);\n    try {\n      const response = await fetch('/api/risk/high-risk-orders', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          assessmentId: selectedAssessment.id,\n          reviewDecision: decision,\n          reviewNotes,\n          reviewedBy: 'admin-user-id' // TODO: Get from session\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        // Remove from list\n        setAssessments(prev => prev.filter(a => a.id !== selectedAssessment.id));\n        setSelectedAssessment(null);\n        setReviewNotes('');\n        alert(`Order ${decision.toLowerCase()} successfully!`);\n      }\n    } catch (error) {\n      console.error('Error reviewing order:', error);\n      alert('Failed to submit review');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const getRiskLevelColor = (level: string) => {\n    switch (level) {\n      case 'CRITICAL': return 'bg-red-100 text-red-800 border-red-300';\n      case 'HIGH': return 'bg-orange-100 text-orange-800 border-orange-300';\n      case 'MEDIUM': return 'bg-yellow-100 text-yellow-800 border-yellow-300';\n      case 'LOW': return 'bg-green-100 text-green-800 border-green-300';\n      default: return 'bg-gray-100 text-gray-800 border-gray-300';\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'critical': return 'text-red-700';\n      case 'high': return 'text-orange-700';\n      case 'medium': return 'text-yellow-700';\n      case 'low': return 'text-blue-700';\n      default: return 'text-gray-700';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">üö® Risk Management Dashboard</h1>\n          <p className=\"text-gray-600 mt-2\">Review and manage high-risk orders flagged by AI</p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white rounded-lg shadow p-4 mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <label className=\"font-medium text-gray-700\">Filter by Risk Level:</label>\n            <select\n              value={filterLevel}\n              onChange={(e) => setFilterLevel(e.target.value)}\n              className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Levels</option>\n              <option value=\"CRITICAL\">Critical</option>\n              <option value=\"HIGH\">High</option>\n              <option value=\"MEDIUM\">Medium</option>\n              <option value=\"LOW\">Low</option>\n            </select>\n            <button\n              onClick={loadHighRiskOrders}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n            >\n              üîÑ Refresh\n            </button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-white rounded-lg shadow p-4\">\n            <div className=\"text-sm text-gray-600\">Total Pending</div>\n            <div className=\"text-2xl font-bold text-gray-900\">{assessments.length}</div>\n          </div>\n          <div className=\"bg-red-50 rounded-lg shadow p-4\">\n            <div className=\"text-sm text-red-600\">Critical Risk</div>\n            <div className=\"text-2xl font-bold text-red-700\">\n              {assessments.filter(a => a.riskLevel === 'CRITICAL').length}\n            </div>\n          </div>\n          <div className=\"bg-orange-50 rounded-lg shadow p-4\">\n            <div className=\"text-sm text-orange-600\">High Risk</div>\n            <div className=\"text-2xl font-bold text-orange-700\">\n              {assessments.filter(a => a.riskLevel === 'HIGH').length}\n            </div>\n          </div>\n          <div className=\"bg-yellow-50 rounded-lg shadow p-4\">\n            <div className=\"text-sm text-yellow-600\">Medium Risk</div>\n            <div className=\"text-2xl font-bold text-yellow-700\">\n              {assessments.filter(a => a.riskLevel === 'MEDIUM').length}\n            </div>\n          </div>\n        </div>\n\n        {/* Orders List */}\n        {loading ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\n            <div className=\"text-gray-600\">Loading high-risk orders...</div>\n          </div>\n        ) : assessments.length === 0 ? (\n          <div className=\"bg-white rounded-lg shadow p-8 text-center\">\n            <div className=\"text-gray-600\">‚úÖ No high-risk orders requiring review!</div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 gap-4\">\n            {assessments.map((assessment) => (\n              <div\n                key={assessment.id}\n                className=\"bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer\"\n                onClick={() => setSelectedAssessment(assessment)}\n              >\n                <div className=\"p-6\">\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div>\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <span className=\"text-lg font-bold text-gray-900\">\n                          Order #{assessment.order.orderNumber}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-semibold border ${getRiskLevelColor(assessment.riskLevel)}`}>\n                          {assessment.riskLevel} RISK ({assessment.riskScore}/100)\n                        </span>\n                      </div>\n                      <div className=\"text-gray-600\">\n                        Customer: {assessment.customerName || assessment.customerEmail}\n                      </div>\n                      <div className=\"text-gray-600\">\n                        Amount: ${parseFloat(assessment.orderAmount.toString()).toFixed(2)}\n                        {assessment.isRushOrder && <span className=\"ml-2 text-orange-600 font-semibold\">‚ö° RUSH ORDER</span>}\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-sm text-gray-500\">\n                        {new Date(assessment.createdAt).toLocaleString()}\n                      </div>\n                      <div className=\"text-sm font-semibold text-blue-600 mt-1\">\n                        Recommendation: {assessment.recommendation}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Risk Factors Preview */}\n                  <div className=\"border-t pt-4\">\n                    <div className=\"text-sm font-semibold text-gray-700 mb-2\">\n                      Risk Factors ({assessment.riskFactors.length}):\n                    </div>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {assessment.riskFactors.slice(0, 3).map((factor, idx) => (\n                        <span\n                          key={idx}\n                          className={`px-2 py-1 rounded text-xs font-medium ${getSeverityColor(factor.severity)}`}\n                        >\n                          {factor.factor} (+{factor.points})\n                        </span>\n                      ))}\n                      {assessment.riskFactors.length > 3 && (\n                        <span className=\"px-2 py-1 rounded text-xs font-medium text-gray-600\">\n                          +{assessment.riskFactors.length - 3} more\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Detail Modal */}\n        {selectedAssessment && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6\">\n                {/* Header */}\n                <div className=\"flex items-start justify-between mb-6\">\n                  <div>\n                    <h2 className=\"text-2xl font-bold text-gray-900\">\n                      Order #{selectedAssessment.order.orderNumber}\n                    </h2>\n                    <span className={`inline-block mt-2 px-4 py-2 rounded-full text-sm font-semibold border ${getRiskLevelColor(selectedAssessment.riskLevel)}`}>\n                      {selectedAssessment.riskLevel} RISK - Score: {selectedAssessment.riskScore}/100\n                    </span>\n                  </div>\n                  <button\n                    onClick={() => setSelectedAssessment(null)}\n                    className=\"text-gray-400 hover:text-gray-600 text-2xl\"\n                  >\n                    √ó\n                  </button>\n                </div>\n\n                {/* Customer Info */}\n                <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">Customer Information</h3>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-gray-600\">Name:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.customerName || 'N/A'}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Email:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.customerEmail}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Phone:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.customerPhone || 'N/A'}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">IP Address:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.ipAddress || 'N/A'}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Order Info */}\n                <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">Order Information</h3>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-gray-600\">Amount:</span>\n                      <span className=\"ml-2 font-medium\">${parseFloat(selectedAssessment.orderAmount.toString()).toFixed(2)}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Payment Method:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.paymentMethod}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Rush Order:</span>\n                      <span className=\"ml-2 font-medium\">{selectedAssessment.isRushOrder ? '‚ö° Yes' : 'No'}</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Created:</span>\n                      <span className=\"ml-2 font-medium\">{new Date(selectedAssessment.createdAt).toLocaleString()}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* AI Analysis */}\n                <div className=\"bg-blue-50 rounded-lg p-4 mb-6\">\n                  <h3 className=\"font-semibold text-blue-900 mb-2\">ü§ñ AI Analysis</h3>\n                  <p className=\"text-blue-800 text-sm\">{selectedAssessment.aiReasoning}</p>\n                  <div className=\"mt-3 text-sm\">\n                    <span className=\"font-semibold text-blue-900\">Recommendation:</span>\n                    <span className=\"ml-2 text-blue-800\">{selectedAssessment.recommendation}</span>\n                  </div>\n                </div>\n\n                {/* Risk Factors */}\n                <div className=\"mb-6\">\n                  <h3 className=\"font-semibold text-gray-900 mb-3\">\n                    Risk Factors ({selectedAssessment.riskFactors.length})\n                  </h3>\n                  <div className=\"space-y-3\">\n                    {selectedAssessment.riskFactors.map((factor, idx) => (\n                      <div key={idx} className=\"border-l-4 border-gray-300 pl-4 py-2\">\n                        <div className=\"flex items-center justify-between mb-1\">\n                          <span className=\"font-medium text-gray-900\">{factor.factor}</span>\n                          <span className={`text-sm font-semibold ${getSeverityColor(factor.severity)}`}>\n                            {factor.severity.toUpperCase()} (+{factor.points} points)\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-600\">{factor.description}</p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Review Notes */}\n                <div className=\"mb-6\">\n                  <label className=\"block font-semibold text-gray-900 mb-2\">\n                    Review Notes (Optional)\n                  </label>\n                  <textarea\n                    value={reviewNotes}\n                    onChange={(e) => setReviewNotes(e.target.value)}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    rows={3}\n                    placeholder=\"Add any notes about your decision...\"\n                  />\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => handleReview('APPROVED')}\n                    disabled={submitting}\n                    className=\"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold disabled:opacity-50\"\n                  >\n                    ‚úÖ Approve Order\n                  </button>\n                  <button\n                    onClick={() => handleReview('VERIFIED')}\n                    disabled={submitting}\n                    className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50\"\n                  >\n                    üîç Request Verification\n                  </button>\n                  <button\n                    onClick={() => handleReview('MONITORING')}\n                    disabled={submitting}\n                    className=\"flex-1 px-6 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-semibold disabled:opacity-50\"\n                  >\n                    üëÅÔ∏è Approve & Monitor\n                  </button>\n                  <button\n                    onClick={() => handleReview('DECLINED')}\n                    disabled={submitting}\n                    className=\"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold disabled:opacity-50\"\n                  >\n                    ‚ùå Decline Order\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\risk\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":7},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":47,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":47,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[865,868],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[865,868],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":409,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":409,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13412,13415],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13412,13415],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin Risk Assessment Detail Page\n * Displays detailed information about a specific risk assessment\n */\n\nimport { prisma } from '@/lib/prisma';\nimport { notFound } from 'next/navigation';\nimport { \n  AlertTriangle, \n  Calendar, \n  DollarSign, \n  ShieldAlert,\n  User,\n  Mail,\n  Phone,\n  CreditCard,\n  ArrowLeft,\n  Globe,\n  Monitor,\n} from 'lucide-react';\nimport Link from 'next/link';\n\ninterface PageProps {\n  params: Promise<{\n    id: string;\n  }>;\n}\n\nexport default async function AdminRiskDetailPage({ params }: PageProps) {\n  const { id } = await params;\n  const assessment = await prisma.riskAssessment.findUnique({\n    where: { id },\n    include: {\n      order: {\n        include: {\n          orderItems: true,\n        },\n      },\n      user: true,\n    },\n  });\n\n  if (!assessment) {\n    notFound();\n  }\n\n  const riskFactors = assessment.riskFactors as any[];\n\n  return (\n    <div style={{ padding: '32px' }}>\n      {/* Back Button */}\n      <Link\n        href=\"/admin/risk\"\n        style={{\n          display: 'inline-flex',\n          alignItems: 'center',\n          gap: '8px',\n          color: '#6366F1',\n          textDecoration: 'none',\n          fontSize: '14px',\n          fontWeight: '500',\n          marginBottom: '24px',\n        }}\n      >\n        <ArrowLeft size={16} />\n        Back to Risk Assessments\n      </Link>\n\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\n          <ShieldAlert size={32} style={{ color: '#6366F1' }} />\n          <h1 style={{ \n            fontSize: '32px', \n            fontWeight: 'bold', \n            color: '#1E293B',\n            margin: 0,\n          }}>\n            Risk Assessment\n          </h1>\n        </div>\n        <div style={{ marginLeft: '44px', display: 'flex', gap: '12px', alignItems: 'center' }}>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: \n              assessment.riskLevel === 'CRITICAL' ? '#FEE2E2' :\n              assessment.riskLevel === 'HIGH' ? '#FED7AA' :\n              assessment.riskLevel === 'MEDIUM' ? '#FEF3C7' :\n              '#DCFCE7',\n            color: \n              assessment.riskLevel === 'CRITICAL' ? '#DC2626' :\n              assessment.riskLevel === 'HIGH' ? '#EA580C' :\n              assessment.riskLevel === 'MEDIUM' ? '#F59E0B' :\n              '#16A34A',\n          }}>\n            {assessment.riskLevel} RISK\n          </span>\n          <span style={{\n            padding: '6px 12px',\n            borderRadius: '6px',\n            fontSize: '13px',\n            fontWeight: '500',\n            background: \n              assessment.recommendation === 'DECLINE' ? '#FEE2E2' :\n              assessment.recommendation === 'VERIFY' ? '#FED7AA' :\n              assessment.recommendation === 'REVIEW' ? '#FEF3C7' :\n              '#DCFCE7',\n            color: \n              assessment.recommendation === 'DECLINE' ? '#DC2626' :\n              assessment.recommendation === 'VERIFY' ? '#EA580C' :\n              assessment.recommendation === 'REVIEW' ? '#F59E0B' :\n              '#16A34A',\n          }}>\n            {assessment.recommendation}\n          </span>\n          {assessment.requiresReview && !assessment.reviewedAt && (\n            <span style={{\n              padding: '6px 12px',\n              borderRadius: '6px',\n              fontSize: '13px',\n              fontWeight: '500',\n              background: '#FEF3C7',\n              color: '#F59E0B',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n            }}>\n              <AlertTriangle size={14} />\n              Requires Review\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Risk Score Card */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '32px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        marginBottom: '24px',\n        textAlign: 'center',\n      }}>\n        <div style={{ fontSize: '14px', color: '#64748B', marginBottom: '12px', fontWeight: '500' }}>\n          Risk Score\n        </div>\n        <div style={{ \n          fontSize: '72px', \n          fontWeight: '700',\n          color: \n            assessment.riskScore >= 76 ? '#DC2626' :\n            assessment.riskScore >= 51 ? '#EA580C' :\n            assessment.riskScore >= 26 ? '#F59E0B' :\n            '#16A34A',\n        }}>\n          {assessment.riskScore}\n        </div>\n        <div style={{ fontSize: '18px', color: '#64748B' }}>\n          out of 100\n        </div>\n      </div>\n\n      {/* Main Content Grid */}\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px', marginBottom: '24px' }}>\n        {/* Customer Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Customer Information\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Name\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {assessment.customerName || 'Guest'}\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Email\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Mail size={16} style={{ color: '#64748B' }} />\n                <a \n                  href={`mailto:${assessment.customerEmail}`}\n                  style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                >\n                  {assessment.customerEmail}\n                </a>\n              </div>\n            </div>\n\n            {assessment.customerPhone && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Phone\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <Phone size={16} style={{ color: '#64748B' }} />\n                  <a \n                    href={`tel:${assessment.customerPhone}`}\n                    style={{ fontSize: '15px', color: '#6366F1', textDecoration: 'none' }}\n                  >\n                    {assessment.customerPhone}\n                  </a>\n                </div>\n              </div>\n            )}\n\n            {assessment.accountAge !== null && (\n              <div>\n                <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                  Account Age\n                </div>\n                <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {assessment.accountAge} days\n                </div>\n              </div>\n            )}\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Previous Orders\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {assessment.previousOrders}\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Previous Chargebacks\n              </div>\n              <div style={{ fontSize: '15px', color: assessment.previousChargebacks > 0 ? '#DC2626' : '#1E293B', fontWeight: assessment.previousChargebacks > 0 ? '600' : 'normal' }}>\n                {assessment.previousChargebacks}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Order Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Order Information\n          </h2>\n          \n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Order Number\n              </div>\n              <Link\n                href={`/admin/orders/${assessment.orderId}`}\n                style={{\n                  fontSize: '15px',\n                  color: '#6366F1',\n                  textDecoration: 'none',\n                  fontFamily: 'monospace',\n                  fontWeight: '600',\n                }}\n              >\n                {assessment.order.orderNumber}\n              </Link>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Order Amount\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <DollarSign size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '18px', fontWeight: '600', color: '#1E293B' }}>\n                  {Number(assessment.orderAmount).toFixed(2)}\n                </span>\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Payment Method\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <CreditCard size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {assessment.paymentMethod}\n                </span>\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Rush Order\n              </div>\n              <span style={{\n                padding: '4px 8px',\n                borderRadius: '4px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: assessment.isRushOrder ? '#FEF3C7' : '#F1F5F9',\n                color: assessment.isRushOrder ? '#F59E0B' : '#64748B',\n              }}>\n                {assessment.isRushOrder ? 'Yes' : 'No'}\n              </span>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Assessment Date\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Calendar size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '15px', color: '#1E293B' }}>\n                  {new Date(assessment.createdAt).toLocaleString()}\n                </span>\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                AI Model\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B', fontFamily: 'monospace' }}>\n                {assessment.aiModel}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* AI Reasoning */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        marginBottom: '24px',\n      }}>\n        <h2 style={{ \n          fontSize: '18px', \n          fontWeight: '600', \n          color: '#1E293B',\n          marginBottom: '16px',\n        }}>\n          AI Analysis\n        </h2>\n        <div style={{\n          fontSize: '15px',\n          color: '#1E293B',\n          lineHeight: '1.7',\n          padding: '16px',\n          background: '#F8FAFC',\n          borderRadius: '8px',\n          whiteSpace: 'pre-wrap',\n        }}>\n          {assessment.aiReasoning}\n        </div>\n      </div>\n\n      {/* Risk Factors */}\n      {riskFactors && riskFactors.length > 0 && (\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '24px',\n        }}>\n          <h2 style={{ \n            fontSize: '18px', \n            fontWeight: '600', \n            color: '#1E293B',\n            marginBottom: '20px',\n          }}>\n            Risk Factors\n          </h2>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            {riskFactors.map((factor: any, index: number) => (\n              <div \n                key={index}\n                style={{\n                  padding: '16px',\n                  background: '#F8FAFC',\n                  borderRadius: '8px',\n                  borderLeft: `4px solid ${\n                    factor.severity === 'HIGH' ? '#DC2626' :\n                    factor.severity === 'MEDIUM' ? '#F59E0B' :\n                    '#64748B'\n                  }`,\n                }}\n              >\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', marginBottom: '8px' }}>\n                  <div style={{ fontSize: '15px', fontWeight: '600', color: '#1E293B' }}>\n                    {factor.factor}\n                  </div>\n                  <span style={{\n                    padding: '4px 8px',\n                    borderRadius: '4px',\n                    fontSize: '12px',\n                    fontWeight: '500',\n                    background: \n                      factor.severity === 'HIGH' ? '#FEE2E2' :\n                      factor.severity === 'MEDIUM' ? '#FEF3C7' :\n                      '#F1F5F9',\n                    color: \n                      factor.severity === 'HIGH' ? '#DC2626' :\n                      factor.severity === 'MEDIUM' ? '#F59E0B' :\n                      '#64748B',\n                  }}>\n                    {factor.severity}\n                  </span>\n                </div>\n                {factor.description && (\n                  <div style={{ fontSize: '14px', color: '#64748B' }}>\n                    {factor.description}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Technical Data */}\n      <div style={{\n        background: 'white',\n        border: '1px solid #E2E8F0',\n        borderRadius: '12px',\n        padding: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n      }}>\n        <h2 style={{ \n          fontSize: '18px', \n          fontWeight: '600', \n          color: '#1E293B',\n          marginBottom: '20px',\n        }}>\n          Technical Data\n        </h2>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '24px' }}>\n          {assessment.ipAddress && (\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                IP Address\n              </div>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Globe size={16} style={{ color: '#64748B' }} />\n                <span style={{ fontSize: '15px', color: '#1E293B', fontFamily: 'monospace' }}>\n                  {assessment.ipAddress}\n                </span>\n              </div>\n            </div>\n          )}\n\n          {assessment.userAgent && (\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                User Agent\n              </div>\n              <div style={{ display: 'flex', alignItems: 'start', gap: '8px' }}>\n                <Monitor size={16} style={{ color: '#64748B', marginTop: '2px' }} />\n                <span style={{ fontSize: '13px', color: '#1E293B', fontFamily: 'monospace', wordBreak: 'break-all' }}>\n                  {assessment.userAgent}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\risk\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\admin\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Settings' is defined but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Mail' is defined but never used.","line":9,"column":50,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":54}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin Settings Page\n * Configure admin dashboard settings and preferences\n */\n\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { redirect } from 'next/navigation';\nimport { Settings, User, Bell, Shield, Database, Mail } from 'lucide-react';\n\nexport default async function AdminSettingsPage() {\n  const session = await getServerSession(authOptions);\n\n  if (!session || session.user.role !== 'ADMIN') {\n    redirect('/');\n  }\n\n  return (\n    <div style={{ padding: '32px' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: 'bold', \n          color: '#1E293B',\n          margin: '0 0 8px 0',\n        }}>\n          Admin Settings\n        </h1>\n        <p style={{ \n          fontSize: '16px', \n          color: '#64748B',\n          margin: 0,\n        }}>\n          Configure your admin dashboard preferences and system settings\n        </p>\n      </div>\n\n      {/* Settings Sections */}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n        {/* Profile Settings */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>\n            <div style={{\n              background: '#EEF2FF',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <User size={20} style={{ color: '#6366F1' }} />\n            </div>\n            <h2 style={{ \n              fontSize: '18px', \n              fontWeight: '600', \n              color: '#1E293B',\n              margin: 0,\n            }}>\n              Profile Settings\n            </h2>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Email\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {session.user.email}\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Role\n              </div>\n              <span style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: '#EEF2FF',\n                color: '#6366F1',\n                display: 'inline-block',\n              }}>\n                {session.user.role}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Notification Settings */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>\n            <div style={{\n              background: '#FEF3C7',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Bell size={20} style={{ color: '#F59E0B' }} />\n            </div>\n            <h2 style={{ \n              fontSize: '18px', \n              fontWeight: '600', \n              color: '#1E293B',\n              margin: 0,\n            }}>\n              Notification Preferences\n            </h2>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div style={{\n              padding: '16px',\n              background: '#F8FAFC',\n              borderRadius: '8px',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}>\n              <div>\n                <div style={{ fontSize: '14px', fontWeight: '500', color: '#1E293B', marginBottom: '4px' }}>\n                  New Order Notifications\n                </div>\n                <div style={{ fontSize: '13px', color: '#64748B' }}>\n                  Receive email notifications when new orders are placed\n                </div>\n              </div>\n              <span style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: '#DCFCE7',\n                color: '#16A34A',\n              }}>\n                Enabled\n              </span>\n            </div>\n\n            <div style={{\n              padding: '16px',\n              background: '#F8FAFC',\n              borderRadius: '8px',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}>\n              <div>\n                <div style={{ fontSize: '14px', fontWeight: '500', color: '#1E293B', marginBottom: '4px' }}>\n                  High-Risk Order Alerts\n                </div>\n                <div style={{ fontSize: '13px', color: '#64748B' }}>\n                  Get notified immediately when high-risk orders are detected\n                </div>\n              </div>\n              <span style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: '#DCFCE7',\n                color: '#16A34A',\n              }}>\n                Enabled\n              </span>\n            </div>\n\n            <div style={{\n              padding: '16px',\n              background: '#F8FAFC',\n              borderRadius: '8px',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}>\n              <div>\n                <div style={{ fontSize: '14px', fontWeight: '500', color: '#1E293B', marginBottom: '4px' }}>\n                  Customer Feedback Alerts\n                </div>\n                <div style={{ fontSize: '13px', color: '#64748B' }}>\n                  Receive notifications for negative customer feedback\n                </div>\n              </div>\n              <span style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: '#DCFCE7',\n                color: '#16A34A',\n              }}>\n                Enabled\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Security Settings */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>\n            <div style={{\n              background: '#FEE2E2',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Shield size={20} style={{ color: '#DC2626' }} />\n            </div>\n            <h2 style={{ \n              fontSize: '18px', \n              fontWeight: '600', \n              color: '#1E293B',\n              margin: 0,\n            }}>\n              Security Settings\n            </h2>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            <div style={{\n              padding: '16px',\n              background: '#F8FAFC',\n              borderRadius: '8px',\n            }}>\n              <div style={{ fontSize: '14px', fontWeight: '500', color: '#1E293B', marginBottom: '4px' }}>\n                Two-Factor Authentication\n              </div>\n              <div style={{ fontSize: '13px', color: '#64748B', marginBottom: '12px' }}>\n                Add an extra layer of security to your account\n              </div>\n              <button style={{\n                padding: '8px 16px',\n                background: '#6366F1',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer',\n              }}>\n                Enable 2FA\n              </button>\n            </div>\n\n            <div style={{\n              padding: '16px',\n              background: '#F8FAFC',\n              borderRadius: '8px',\n            }}>\n              <div style={{ fontSize: '14px', fontWeight: '500', color: '#1E293B', marginBottom: '4px' }}>\n                Change Password\n              </div>\n              <div style={{ fontSize: '13px', color: '#64748B', marginBottom: '12px' }}>\n                Update your password regularly for better security\n              </div>\n              <button style={{\n                padding: '8px 16px',\n                background: '#6366F1',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer',\n              }}>\n                Change Password\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* System Information */}\n        <div style={{\n          background: 'white',\n          border: '1px solid #E2E8F0',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>\n            <div style={{\n              background: '#DCFCE7',\n              borderRadius: '8px',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}>\n              <Database size={20} style={{ color: '#16A34A' }} />\n            </div>\n            <h2 style={{ \n              fontSize: '18px', \n              fontWeight: '600', \n              color: '#1E293B',\n              margin: 0,\n            }}>\n              System Information\n            </h2>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Platform Version\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B', fontFamily: 'monospace' }}>\n                v1.0.0\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Database Status\n              </div>\n              <span style={{\n                padding: '4px 8px',\n                borderRadius: '4px',\n                fontSize: '13px',\n                fontWeight: '500',\n                background: '#DCFCE7',\n                color: '#16A34A',\n              }}>\n                Connected\n              </span>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Environment\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B', fontFamily: 'monospace' }}>\n                Development\n              </div>\n            </div>\n\n            <div>\n              <div style={{ fontSize: '12px', color: '#64748B', marginBottom: '4px', fontWeight: '500' }}>\n                Last Backup\n              </div>\n              <div style={{ fontSize: '15px', color: '#1E293B' }}>\n                {new Date().toLocaleDateString()}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\admin\\customers\\[id]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":107,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":107,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2454,2457],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2454,2457],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin API - Customer Detail\n * GET /api/admin/customers/[id] - Get customer details\n * PATCH /api/admin/customers/[id] - Update customer\n * DELETE /api/admin/customers/[id] - Delete customer\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n// GET - Get customer details\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n\n    const customer = await prisma.user.findUnique({\n      where: { id },\n      include: {\n        clients: {\n          include: {\n            businessEntities: {\n              include: {\n                filings: true,\n              },\n            },\n          },\n        },\n        orders: {\n          orderBy: { createdAt: 'desc' },\n          include: {\n            orderItems: true,\n            package: true,\n          },\n        },\n        formDrafts: {\n          orderBy: { updatedAt: 'desc' },\n        },\n      },\n    });\n\n    if (!customer) {\n      return NextResponse.json(\n        { error: 'Customer not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: { customer },\n    });\n\n  } catch (error) {\n    console.error('Error fetching customer:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch customer' },\n      { status: 500 }\n    );\n  }\n}\n\n// PATCH - Update customer\nexport async function PATCH(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n    const body = await request.json();\n\n    // Validate allowed fields\n    const allowedFields = [\n      'email',\n      'firstName',\n      'lastName',\n      'phone',\n      'userType',\n      'role',\n      'isActive',\n      'companyName',\n      'department',\n    ];\n\n    const updateData: any = {};\n    for (const field of allowedFields) {\n      if (body[field] !== undefined) {\n        updateData[field] = body[field];\n      }\n    }\n\n    // Check if email is being changed and if it's already taken\n    if (updateData.email) {\n      const existingUser = await prisma.user.findUnique({\n        where: { email: updateData.email },\n      });\n\n      if (existingUser && existingUser.id !== id) {\n        return NextResponse.json(\n          { error: 'Email already in use' },\n          { status: 400 }\n        );\n      }\n    }\n\n    const customer = await prisma.user.update({\n      where: { id },\n      data: updateData,\n      include: {\n        clients: {\n          include: {\n            businessEntities: true,\n          },\n        },\n        orders: {\n          select: {\n            id: true,\n          },\n        },\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Customer updated successfully',\n      data: { customer },\n    });\n\n  } catch (error) {\n    console.error('Error updating customer:', error);\n    return NextResponse.json(\n      { error: 'Failed to update customer' },\n      { status: 500 }\n    );\n  }\n}\n\n// DELETE - Delete customer\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n\n    // Check if customer exists\n    const customer = await prisma.user.findUnique({\n      where: { id },\n      include: {\n        orders: true,\n        clients: {\n          include: {\n            businessEntities: true,\n          },\n        },\n      },\n    });\n\n    if (!customer) {\n      return NextResponse.json(\n        { error: 'Customer not found' },\n        { status: 404 }\n      );\n    }\n\n    // Check if customer has orders or entities\n    const hasOrders = customer.orders.length > 0;\n    const hasEntities = customer.clients.some(c => c.businessEntities.length > 0);\n\n    if (hasOrders || hasEntities) {\n      // Soft delete - just deactivate the account\n      await prisma.user.update({\n        where: { id },\n        data: { isActive: false },\n      });\n\n      return NextResponse.json({\n        success: true,\n        message: 'Customer account deactivated (has existing orders/entities)',\n        data: { deactivated: true },\n      });\n    } else {\n      // Hard delete - no orders or entities\n      await prisma.user.delete({\n        where: { id },\n      });\n\n      return NextResponse.json({\n        success: true,\n        message: 'Customer deleted successfully',\n        data: { deleted: true },\n      });\n    }\n\n  } catch (error) {\n    console.error('Error deleting customer:', error);\n    return NextResponse.json(\n      { error: 'Failed to delete customer' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\admin\\customers\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":33,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1078,1081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1078,1081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin API - Customers\n * GET /api/admin/customers - List all customers with filters\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Check authentication and admin role\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    // Get query parameters for filtering\n    const searchParams = request.nextUrl.searchParams;\n    const search = searchParams.get('search');\n    const userType = searchParams.get('userType');\n    const isActive = searchParams.get('isActive');\n    const page = parseInt(searchParams.get('page') || '1');\n    const limit = parseInt(searchParams.get('limit') || '50');\n    const skip = (page - 1) * limit;\n\n    // Build where clause\n    const where: any = {};\n\n    if (search) {\n      where.OR = [\n        { email: { contains: search, mode: 'insensitive' } },\n        { firstName: { contains: search, mode: 'insensitive' } },\n        { lastName: { contains: search, mode: 'insensitive' } },\n        { phone: { contains: search } },\n      ];\n    }\n\n    if (userType) {\n      where.userType = userType;\n    }\n\n    if (isActive !== null && isActive !== undefined) {\n      where.isActive = isActive === 'true';\n    }\n\n    // Get customers with counts\n    const [customers, total] = await Promise.all([\n      prisma.user.findMany({\n        where,\n        skip,\n        take: limit,\n        orderBy: { createdAt: 'desc' },\n        include: {\n          clients: {\n            include: {\n              businessEntities: true,\n            },\n          },\n          orders: {\n            select: {\n              id: true,\n            },\n          },\n          formDrafts: {\n            select: {\n              id: true,\n            },\n          },\n        },\n      }),\n      prisma.user.count({ where }),\n    ]);\n\n    // Transform data to include counts\n    const customersWithCounts = customers.map(customer => ({\n      id: customer.id,\n      email: customer.email,\n      firstName: customer.firstName,\n      lastName: customer.lastName,\n      phone: customer.phone,\n      userType: customer.userType,\n      role: customer.role,\n      isActive: customer.isActive,\n      createdAt: customer.createdAt,\n      updatedAt: customer.updatedAt,\n      entityCount: customer.clients.reduce((sum, c) => sum + c.businessEntities.length, 0),\n      orderCount: customer.orders.length,\n      draftCount: customer.formDrafts.length,\n    }));\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        customers: customersWithCounts,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      },\n    });\n\n  } catch (error) {\n    console.error('Error fetching customers:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch customers' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\admin\\entities\\[id]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":96,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2252,2255],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2252,2255],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin API - Business Entity Detail\n * GET /api/admin/entities/[id] - Get entity details\n * PATCH /api/admin/entities/[id] - Update entity\n * DELETE /api/admin/entities/[id] - Delete entity\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n// GET - Get entity details\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n\n    const entity = await prisma.businessEntity.findUnique({\n      where: { id },\n      include: {\n        client: true,\n        addresses: true,\n        registeredAgent: true,\n        managersOfficers: true,\n        filings: {\n          orderBy: { createdAt: 'desc' },\n        },\n      },\n    });\n\n    if (!entity) {\n      return NextResponse.json(\n        { error: 'Entity not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      data: { entity },\n    });\n\n  } catch (error) {\n    console.error('Error fetching entity:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch entity' },\n      { status: 500 }\n    );\n  }\n}\n\n// PATCH - Update entity\nexport async function PATCH(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n    const body = await request.json();\n\n    // Validate allowed fields\n    const allowedFields = [\n      'legalName',\n      'dbaName',\n      'entityType',\n      'status',\n      'documentNumber',\n      'feiNumber',\n      'stateOfFormation',\n      'filingDate',\n      'dissolutionDate',\n      'purpose',\n    ];\n\n    const updateData: any = {};\n    for (const field of allowedFields) {\n      if (body[field] !== undefined) {\n        updateData[field] = body[field];\n      }\n    }\n\n    // Convert date strings to Date objects\n    if (updateData.filingDate) {\n      updateData.filingDate = new Date(updateData.filingDate);\n    }\n    if (updateData.dissolutionDate) {\n      updateData.dissolutionDate = new Date(updateData.dissolutionDate);\n    }\n\n    const entity = await prisma.businessEntity.update({\n      where: { id },\n      data: updateData,\n      include: {\n        client: true,\n        addresses: true,\n        registeredAgent: true,\n        managersOfficers: true,\n        filings: true,\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Entity updated successfully',\n      data: { entity },\n    });\n\n  } catch (error) {\n    console.error('Error updating entity:', error);\n    return NextResponse.json(\n      { error: 'Failed to update entity' },\n      { status: 500 }\n    );\n  }\n}\n\n// DELETE - Delete entity\nexport async function DELETE(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    const { id } = await params;\n\n    // Check if entity exists\n    const entity = await prisma.businessEntity.findUnique({\n      where: { id },\n      include: {\n        filings: true,\n      },\n    });\n\n    if (!entity) {\n      return NextResponse.json(\n        { error: 'Entity not found' },\n        { status: 404 }\n      );\n    }\n\n    // Check if entity has filings\n    if (entity.filings.length > 0) {\n      // Soft delete - mark as dissolved\n      await prisma.businessEntity.update({\n        where: { id },\n        data: {\n          status: 'DISSOLVED',\n        },\n      });\n\n      return NextResponse.json({\n        success: true,\n        message: 'Entity marked as dissolved (has existing filings)',\n        data: { dissolved: true },\n      });\n    } else {\n      // Hard delete - no filings\n      // First delete related records\n      await prisma.$transaction([\n        prisma.address.deleteMany({ where: { businessEntityId: id } }),\n        prisma.registeredAgent.deleteMany({ where: { businessEntityId: id } }),\n        prisma.managerOfficer.deleteMany({ where: { businessEntityId: id } }),\n        prisma.businessEntity.delete({ where: { id } }),\n      ]);\n\n      return NextResponse.json({\n        success: true,\n        message: 'Entity deleted successfully',\n        data: { deleted: true },\n      });\n    }\n\n  } catch (error) {\n    console.error('Error deleting entity:', error);\n    return NextResponse.json(\n      { error: 'Failed to delete entity' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\admin\\entities\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1138,1141],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1138,1141],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Admin API - Business Entities\n * GET /api/admin/entities - List all business entities with filters\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Check authentication and admin role\n    const session = await getServerSession(authOptions);\n    \n    if (!session || session.user.role !== 'ADMIN') {\n      return NextResponse.json(\n        { error: 'Unauthorized - Admin access required' },\n        { status: 401 }\n      );\n    }\n\n    // Get query parameters for filtering\n    const searchParams = request.nextUrl.searchParams;\n    const search = searchParams.get('search');\n    const entityType = searchParams.get('entityType');\n    const status = searchParams.get('status');\n    const state = searchParams.get('state');\n    const page = parseInt(searchParams.get('page') || '1');\n    const limit = parseInt(searchParams.get('limit') || '50');\n    const skip = (page - 1) * limit;\n\n    // Build where clause\n    const where: any = {};\n\n    if (search) {\n      where.OR = [\n        { legalName: { contains: search, mode: 'insensitive' } },\n        { dbaName: { contains: search, mode: 'insensitive' } },\n        { documentNumber: { contains: search } },\n        { feiNumber: { contains: search } },\n      ];\n    }\n\n    if (entityType) {\n      where.entityType = entityType;\n    }\n\n    if (status) {\n      where.status = status;\n    }\n\n    if (state) {\n      where.stateOfFormation = state;\n    }\n\n    // Get entities with counts\n    const [entities, total] = await Promise.all([\n      prisma.businessEntity.findMany({\n        where,\n        skip,\n        take: limit,\n        orderBy: { createdAt: 'desc' },\n        include: {\n          client: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              email: true,\n              userId: true,\n            },\n          },\n          filings: {\n            select: {\n              id: true,\n              filingType: true,\n              filingStatus: true,\n            },\n          },\n          addresses: true,\n          registeredAgent: true,\n        },\n      }),\n      prisma.businessEntity.count({ where }),\n    ]);\n\n    // Transform data to include counts\n    const entitiesWithCounts = entities.map(entity => ({\n      id: entity.id,\n      legalName: entity.legalName,\n      dbaName: entity.dbaName,\n      entityType: entity.entityType,\n      status: entity.status,\n      documentNumber: entity.documentNumber,\n      feiNumber: entity.feiNumber,\n      stateOfFormation: entity.stateOfFormation,\n      filingDate: entity.filingDate,\n      createdAt: entity.createdAt,\n      client: entity.client,\n      filingCount: entity.filings.length,\n      addressCount: entity.addresses.length,\n      hasRegisteredAgent: !!entity.registeredAgent,\n    }));\n\n    return NextResponse.json({\n      success: true,\n      data: {\n        entities: entitiesWithCounts,\n        pagination: {\n          page,\n          limit,\n          total,\n          totalPages: Math.ceil(total / limit),\n        },\n      },\n    });\n\n  } catch (error) {\n    console.error('Error fetching entities:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch entities' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\auth\\[...nextauth]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\auth\\register\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_ph' is assigned a value but never used.","line":59,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":59,"endColumn":30},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2142,2145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2142,2145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport bcrypt from \"bcryptjs\";\nimport { prisma } from \"@/lib/db\";\nimport { UserRole } from '@/generated/prisma';\nimport { z } from \"zod\";\n\nconst registerSchema = z.object({\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().optional(),\n  email: z.string().email(\"Invalid email address\"),\n  password: z.string().min(8, \"Password must be at least 8 characters\"),\n  phone: z.string().optional(),\n  tosAcceptedAt: z.string().optional(),\n  privacyPolicyAcceptedAt: z.string().optional(),\n  emailRemindersConsent: z.boolean().optional(),\n  smsRemindersConsent: z.boolean().optional(),\n});\n\nexport async function POST(req: NextRequest) {\n  try {\n    const body = await req.json();\n    const { firstName, lastName, email, password, phone, tosAcceptedAt, privacyPolicyAcceptedAt, emailRemindersConsent, smsRemindersConsent } = registerSchema.parse(body);\n\n    // Check if user already exists\n    const existingUser = await prisma.user.findUnique({\n      where: { email }\n    });\n\n    if (existingUser) {\n      return NextResponse.json(\n        { error: \"User with this email already exists\" },\n        { status: 400 }\n      );\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 12);\n\n    // Create user\n    const now = new Date();\n    const user = await prisma.user.create({\n      data: {\n        firstName,\n        lastName: lastName || null,\n        email,\n        passwordHash: hashedPassword,\n        phone: phone || null,\n        role: UserRole.INDIVIDUAL_CUSTOMER,\n        tosAcceptedAt: tosAcceptedAt ? new Date(tosAcceptedAt) : now,\n        privacyPolicyAcceptedAt: privacyPolicyAcceptedAt ? new Date(privacyPolicyAcceptedAt) : now,\n        emailRemindersConsent: emailRemindersConsent || false,\n        emailRemindersConsentAt: emailRemindersConsent ? now : null,\n        smsRemindersConsent: smsRemindersConsent || false,\n        smsRemindersConsentAt: smsRemindersConsent ? now : null,\n      }\n    });\n\n    // Build user response without sensitive fields\n    const { passwordHash: _ph, ...userWithoutPassword } = user as any;\n\n    return NextResponse.json(\n      { \n        success: true,\n        message: \"User created successfully\", \n        user: userWithoutPassword \n      },\n      { status: 201 }\n    );\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: \"Invalid input\", details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    console.error(\"Registration error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\auth\\send-verification\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'prisma' is defined but never used.","line":4,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":7,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":31}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/db\";\nimport crypto from \"crypto\";\n\nexport async function POST(req: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { error: \"Unauthorized\" },\n        { status: 401 }\n      );\n    }\n\n    // TODO: Implement VerificationToken model in Prisma schema\n    // For now, this endpoint is disabled until the model is added\n\n    // Delete any existing verification tokens for this email\n    // await prisma.verificationToken.deleteMany({\n    //   where: { identifier: session.user.email },\n    // });\n\n    // Generate a random token\n    const token = crypto.randomBytes(32).toString(\"hex\");\n\n    // Create verification token (expires in 24 hours)\n    const expiresAt = new Date();\n    expiresAt.setHours(expiresAt.getHours() + 24);\n\n    // await prisma.verificationToken.create({\n    //   data: {\n    //     identifier: session.user.email,\n    //     token,\n    //     expires: expiresAt,\n    //   },\n    // });\n\n    // In a real app, you would send an email here\n    // For now, we'll return the verification link\n    const verificationUrl = `${process.env.NEXTAUTH_URL}/auth/verify?token=${token}`;\n\n    // TODO: Send email with verification link\n    // await sendVerificationEmail(session.user.email, verificationUrl);\n\n    return NextResponse.json({\n      success: true,\n      message: \"Verification email feature is currently disabled - VerificationToken model needs to be added to Prisma schema\",\n      // In production, remove this - only for development\n      verificationUrl,\n    });\n  } catch (error) {\n    console.error(\"Send verification error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\auth\\verify-email\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[465,468],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[465,468],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[822,825],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[822,825],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1491,1494],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1491,1494],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/db\";\n\nexport async function GET(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const token = searchParams.get(\"token\");\n\n    if (!token) {\n      return NextResponse.json(\n        { error: \"Verification token is required\" },\n        { status: 400 }\n      );\n    }\n\n    // Find the verification token\n    const verificationToken = await (prisma as any).verificationToken.findUnique({\n      where: { token },\n    });\n\n    if (!verificationToken) {\n      return NextResponse.json(\n        { error: \"Invalid verification token\" },\n        { status: 400 }\n      );\n    }\n\n    // Check if token has expired\n    if (new Date() > verificationToken.expires) {\n      // Delete expired token\n      await (prisma as any).verificationToken.delete({\n        where: { token },\n      });\n\n      return NextResponse.json(\n        { error: \"Verification token has expired\" },\n        { status: 400 }\n      );\n    }\n\n    // Find user by email (identifier)\n    const user = await prisma.user.findUnique({\n      where: { email: verificationToken.identifier },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: \"User not found\" },\n        { status: 404 }\n      );\n    }\n\n    // Mark user's login verification complete\n    await prisma.user.update({\n      where: { id: user.id },\n      data: { isActive: true },\n    });\n\n    // Delete the used token\n    await (prisma as any).verificationToken.delete({\n      where: { token },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: \"Email verified successfully!\",\n    });\n  } catch (error) {\n    console.error(\"Email verification error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\businesses\\[id]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\businesses\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":12,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1190,1193],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1190,1193],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\n/**\n * GET /api/businesses\n * Get all businesses for the logged-in user\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    // Get all businesses for this user through their Client records\n    const businesses = await prisma.businessEntity.findMany({\n      where: {\n        client: {\n          userId: session.user.id\n        }\n      },\n      include: {\n        client: {\n          select: {\n            firstName: true,\n            lastName: true,\n            email: true\n          }\n        },\n        addresses: true,\n        registeredAgent: true,\n        managersOfficers: true\n      },\n      orderBy: {\n        createdAt: 'desc'\n      }\n    });\n\n    return NextResponse.json({\n      success: true,\n      businesses\n    });\n\n  } catch (error: any) {\n    console.error('Error fetching businesses:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch businesses' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\check-name\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\create-test-user\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":6,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport bcrypt from 'bcryptjs';\nimport { prisma } from '@/lib/db';\nimport { UserRole } from '@/generated/prisma';\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Check authentication\n    const existingUser = await prisma.user.findUnique({\n      where: { email: 'admin@legalops.com' }\n    });\n\n    if (existingUser) {\n      return NextResponse.json({\n        success: false,\n        message: 'Test user already exists',\n        credentials: {\n          email: 'admin@legalops.com',\n          password: 'password123'\n        }\n      });\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash('password123', 12);\n\n    // Create test user with hashed password\n    const user = await prisma.user.create({\n      data: {\n        email: 'admin@legalops.com',\n        firstName: 'Admin',\n        lastName: 'User',\n        passwordHash: hashedPassword,\n        userType: 'SITE_ADMIN',\n        role: UserRole.ADMIN,\n      },\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n        role: true,\n        userType: true,\n        createdAt: true,\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Test user created successfully!',\n      user: user,\n      credentials: {\n        email: 'admin@legalops.com',\n        password: 'password123'\n      },\n      timestamp: new Date().toISOString(),\n    });\n  } catch (error) {\n    console.error('User creation error:', error);\n    \n    return NextResponse.json(\n      {\n        success: false,\n        message: 'Failed to create test user',\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString(),\n      },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\dba\\certify-publication\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\dba\\get-draft\\[token]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1336,1339],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1336,1339],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - DBA Draft Retrieval API\n * \n * Retrieves saved DBA form data using magic link token\n * Allows guests to resume their DBA registration after newspaper publication\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: { token: string } }\n) {\n  try {\n    const { token } = params;\n\n    if (!token) {\n      return NextResponse.json(\n        { error: 'Missing token' },\n        { status: 400 }\n      );\n    }\n\n    // Find draft by token\n    const draft = await prisma.dBADraft.findUnique({\n      where: { token },\n    });\n\n    if (!draft) {\n      return NextResponse.json(\n        { error: 'Draft not found. The link may be invalid or expired.' },\n        { status: 404 }\n      );\n    }\n\n    // Check if expired\n    if (new Date() > draft.expiresAt) {\n      return NextResponse.json(\n        { error: 'This link has expired. Please start a new DBA registration.' },\n        { status: 410 } // 410 Gone\n      );\n    }\n\n    // Parse form data\n    const formData = JSON.parse(draft.formData);\n\n    return NextResponse.json({\n      success: true,\n      formData,\n      email: draft.email,\n      createdAt: draft.createdAt,\n      expiresAt: draft.expiresAt,\n    }, { status: 200 });\n\n  } catch (error: any) {\n    console.error('DBA draft retrieval error:', error);\n    \n    return NextResponse.json(\n      { error: 'Failed to retrieve draft. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\dba\\save-draft-authenticated\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4683,4686],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4683,4686],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - DBA Draft Save API (Authenticated Users)\n * \n * Saves DBA form data for authenticated users and:\n * 1. Saves to FormDraft table (for auto-resume and dashboard display)\n * 2. Sends magic link email (same as guest workflow)\n * 3. Creates Important Notice in dashboard\n * 4. Provides calendar reminder (.ics file)\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\nimport { sendEmail } from '@/lib/services/email-service';\n\nexport async function POST(request: NextRequest) {\n  try {\n    console.log('[API] save-draft-authenticated called');\n\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    console.log('[API] Session user ID:', session?.user?.id);\n\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized. Please log in.' },\n        { status: 401 }\n      );\n    }\n\n    const body = await request.json();\n    const { formData, currentStep, email } = body;\n    console.log('[API] Request data:', {\n      fictitiousName: formData?.fictitiousName,\n      currentStep,\n      email\n    });\n\n    // Validation\n    if (!formData || !email) {\n      return NextResponse.json(\n        { error: 'Missing required fields: formData and email' },\n        { status: 400 }\n      );\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      return NextResponse.json(\n        { error: 'Invalid email address' },\n        { status: 400 }\n      );\n    }\n\n    // 1. Save to FormDraft table (for dashboard Incomplete Filings)\n    console.log('[API] Saving to FormDraft table...');\n    const formDraft = await prisma.formDraft.upsert({\n      where: {\n        userId_formType: {\n          userId: session.user.id,\n          formType: 'DBA_REGISTRATION',\n        },\n      },\n      create: {\n        userId: session.user.id,\n        formType: 'DBA_REGISTRATION',\n        formData: formData,\n        currentStep: currentStep || 4,\n        totalSteps: 5,\n        displayName: formData.fictitiousName || 'DBA Registration',\n        emailRemindersEnabled: true,\n      },\n      update: {\n        formData: formData,\n        currentStep: currentStep || 4,\n        displayName: formData.fictitiousName || 'DBA Registration',\n        emailRemindersEnabled: true,\n      },\n    });\n    console.log('[API] FormDraft saved:', formDraft.id);\n\n    // 2. Create Important Notice in dashboard (only if one doesn't already exist)\n    console.log('[API] Creating Important Notice...');\n\n    // Check if notice already exists for this user and DBA\n    const existingNotice = await prisma.notice.findFirst({\n      where: {\n        userId: session.user.id,\n        type: 'DEADLINE_APPROACHING',\n        title: 'Complete Your Fictitious Name (DBA) Registration',\n        isDismissed: false,\n      },\n    });\n\n    if (!existingNotice) {\n      await prisma.notice.create({\n        data: {\n          userId: session.user.id,\n          type: 'DEADLINE_APPROACHING',\n          priority: 'ATTENTION',\n          title: 'Complete Your Fictitious Name (DBA) Registration',\n          message: `Your Fictitious Name (DBA) registration for \"${formData.fictitiousName}\" is waiting for newspaper publication. Once published, return to complete your filing.`,\n          actionUrl: '/services/fictitious-name-registration',\n          actionLabel: 'Complete Registration',\n        },\n      });\n      console.log('[API] Notice created');\n    } else {\n      console.log('[API] Notice already exists, skipping creation');\n    }\n\n    // 3. Send magic link email (same as guest workflow)\n    console.log('[API] Sending email...');\n    const magicLink = `${process.env.NEXTAUTH_URL}/services/fictitious-name-registration`;\n\n    const emailSent = await sendDBADraftEmail(\n      email,\n      formData.fictitiousName,\n      magicLink,\n      session.user.name || 'there'\n    );\n\n    if (emailSent) {\n      console.log('[API] ‚úÖ Email sent successfully');\n    } else {\n      console.log('[API] ‚ö†Ô∏è  Email not sent (check SendGrid configuration)');\n    }\n\n    // 4. Generate calendar reminder (.ics file content)\n    console.log('[API] Generating calendar event...');\n    const calendarEvent = generateCalendarReminder(formData.fictitiousName);\n    console.log('[API] Calendar event generated');\n\n    return NextResponse.json({\n      success: true,\n      message: 'Draft saved successfully. Check your email for the link to resume.',\n      draftId: formDraft.id,\n      calendarEvent, // Return .ics content for download\n    }, { status: 201 });\n\n  } catch (error: any) {\n    console.error('DBA draft save error (authenticated):', error);\n    console.error('Error details:', error.message, error.stack);\n\n    return NextResponse.json(\n      { error: `Failed to save draft: ${error.message}` },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Send DBA draft email with magic link (authenticated user version)\n */\nasync function sendDBADraftEmail(\n  email: string,\n  fictitiousName: string,\n  magicLink: string,\n  userName: string\n) {\n  const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <style>\n          body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #374151;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n          }\n          .container {\n            background: #ffffff;\n            border-radius: 12px;\n            padding: 32px;\n            border: 1px solid #E5E7EB;\n          }\n          .header {\n            text-align: center;\n            margin-bottom: 32px;\n          }\n          .logo {\n            font-size: 24px;\n            font-weight: 700;\n            color: #0EA5E9;\n            margin-bottom: 8px;\n          }\n          h1 {\n            font-size: 24px;\n            font-weight: 600;\n            color: #111827;\n            margin: 0 0 16px 0;\n          }\n          .highlight-box {\n            background: #F0F9FF;\n            border: 2px solid #0EA5E9;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 24px 0;\n          }\n          .highlight-box strong {\n            color: #0EA5E9;\n            font-size: 18px;\n          }\n          .button {\n            display: inline-block;\n            background: #0EA5E9;\n            color: #ffffff;\n            padding: 14px 32px;\n            text-decoration: none;\n            border-radius: 8px;\n            font-weight: 600;\n            margin: 24px 0;\n          }\n          .button:hover {\n            background: #0284C7;\n          }\n          .steps {\n            background: #F9FAFB;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 24px 0;\n          }\n          .steps ol {\n            margin: 0;\n            padding-left: 20px;\n          }\n          .steps li {\n            margin-bottom: 12px;\n            color: #6B7280;\n          }\n          .footer {\n            text-align: center;\n            margin-top: 32px;\n            padding-top: 24px;\n            border-top: 1px solid #E5E7EB;\n            color: #9CA3AF;\n            font-size: 14px;\n          }\n          .warning {\n            background: #FEF3C7;\n            border: 1px solid #FDE68A;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 24px 0;\n            color: #92400E;\n            font-size: 14px;\n          }\n          .dashboard-box {\n            background: #DBEAFE;\n            border: 2px solid #0EA5E9;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 24px 0;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <div class=\"logo\">LegalOps</div>\n            <h1>Your DBA Registration is Saved</h1>\n          </div>\n\n          <p>Hi ${userName},</p>\n\n          <p>We've saved your DBA registration for:</p>\n\n          <div class=\"highlight-box\">\n            <strong>${fictitiousName}</strong>\n          </div>\n\n          <p>As you know, Florida law requires you to publish your fictitious name in a newspaper before we can file with the state. Here's what to do next:</p>\n\n          <div class=\"steps\">\n            <ol>\n              <li><strong>Contact a local newspaper</strong> and request to publish a \"fictitious name notice\"</li>\n              <li><strong>Publish the advertisement</strong> (typically costs $50-$150)</li>\n              <li><strong>Return to complete your registration</strong> using one of the methods below</li>\n            </ol>\n          </div>\n\n          <div class=\"dashboard-box\">\n            <p style=\"margin: 0 0 12px 0;\"><strong>üìã Three Ways to Resume:</strong></p>\n            <ol style=\"margin: 0; padding-left: 20px;\">\n              <li><strong>Dashboard:</strong> Log in and check \"Incomplete Filings\"</li>\n              <li><strong>Email Link:</strong> Click the button below</li>\n              <li><strong>Important Notices:</strong> Check your dashboard notifications</li>\n            </ol>\n          </div>\n\n          <div style=\"text-align: center;\">\n            <a href=\"${magicLink}\" class=\"button\">Complete My DBA Registration</a>\n          </div>\n\n          <p>All your information is saved and ready to go. When you log in, you'll pick up right where you left off.</p>\n\n          <div class=\"footer\">\n            <p><strong>LegalOps</strong> - Florida Business Formation Services</p>\n            <p>Questions? Reply to this email or contact us at support@legalops.com</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n\n  return sendEmail({\n    to: email,\n    subject: `Complete Your DBA Registration - ${fictitiousName}`,\n    html,\n  });\n}\n\n/**\n * Generate .ics calendar reminder file content\n */\nfunction generateCalendarReminder(fictitiousName: string): string {\n  const now = new Date();\n  const reminderDate = new Date(now);\n  reminderDate.setDate(reminderDate.getDate() + 7); // Remind in 7 days\n\n  // Format dates for .ics file (YYYYMMDDTHHMMSSZ)\n  const formatICSDate = (date: Date) => {\n    return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';\n  };\n\n  const icsContent = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//LegalOps//DBA Registration Reminder//EN\nBEGIN:VEVENT\nUID:dba-${Date.now()}@legalops.com\nDTSTAMP:${formatICSDate(now)}\nDTSTART:${formatICSDate(reminderDate)}\nSUMMARY:Complete DBA Registration - ${fictitiousName}\nDESCRIPTION:Reminder to complete your DBA registration for \"${fictitiousName}\". Make sure you've published your newspaper advertisement, then log in to LegalOps to finish your filing.\nLOCATION:https://legalops.com/services/fictitious-name-registration\nSTATUS:CONFIRMED\nBEGIN:VALARM\nTRIGGER:-PT1H\nACTION:DISPLAY\nDESCRIPTION:Complete DBA Registration - ${fictitiousName}\nEND:VALARM\nEND:VEVENT\nEND:VCALENDAR`;\n\n  return icsContent;\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\dba\\save-draft\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2197,2200],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2197,2200],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - DBA Draft Save API\n * \n * Saves DBA form data as a draft and sends magic link to guest email\n * Allows guests to pause at Step 4 (newspaper publication) and return later\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\nimport { sendEmail } from '@/lib/services/email-service';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { formData, email } = body;\n\n    // Validation\n    if (!formData || !email) {\n      return NextResponse.json(\n        { error: 'Missing required fields: formData and email' },\n        { status: 400 }\n      );\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      return NextResponse.json(\n        { error: 'Invalid email address' },\n        { status: 400 }\n      );\n    }\n\n    // Generate secure token for magic link\n    const token = `dba_${Date.now()}_${Math.random().toString(36).substring(2, 15)}`;\n    \n    // Calculate expiration (7 days from now - plenty of time for newspaper publication)\n    const expiresAt = new Date();\n    expiresAt.setDate(expiresAt.getDate() + 7);\n\n    // Save draft to database\n    const draft = await prisma.dBADraft.create({\n      data: {\n        email: email.toLowerCase(),\n        formData: JSON.stringify(formData),\n        token,\n        expiresAt,\n      },\n    });\n\n    // Send magic link email\n    const magicLink = `${process.env.NEXTAUTH_URL}/dba/resume/${token}`;\n\n    const emailSent = await sendDBADraftEmail(email, formData.fictitiousName, magicLink);\n\n    if (emailSent) {\n      console.log('[API] ‚úÖ Email sent successfully');\n    } else {\n      console.log('[API] ‚ö†Ô∏è  Email not sent (check SendGrid configuration)');\n    }\n\n    // Generate calendar reminder (.ics file content)\n    const calendarEvent = generateCalendarReminder(formData.fictitiousName);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Draft saved successfully. Check your email for the link to resume.',\n      draftId: draft.id,\n      calendarEvent, // Return .ics content for download\n    }, { status: 201 });\n\n  } catch (error: any) {\n    console.error('DBA draft save error:', error);\n    \n    return NextResponse.json(\n      { error: 'Failed to save draft. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Generate .ics calendar reminder file content\n */\nfunction generateCalendarReminder(fictitiousName: string): string {\n  const now = new Date();\n  const reminderDate = new Date(now);\n  reminderDate.setDate(reminderDate.getDate() + 7); // Remind in 7 days\n\n  // Format dates for .ics file (YYYYMMDDTHHMMSSZ)\n  const formatICSDate = (date: Date) => {\n    return date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';\n  };\n\n  const icsContent = `BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//LegalOps//DBA Registration Reminder//EN\nBEGIN:VEVENT\nUID:dba-${Date.now()}@legalops.com\nDTSTAMP:${formatICSDate(now)}\nDTSTART:${formatICSDate(reminderDate)}\nSUMMARY:Complete DBA Registration - ${fictitiousName}\nDESCRIPTION:Reminder to complete your DBA registration for \"${fictitiousName}\". Make sure you've published your newspaper advertisement, then use the link in your email to finish your filing.\nLOCATION:https://legalops.com/services/fictitious-name-registration\nSTATUS:CONFIRMED\nBEGIN:VALARM\nTRIGGER:-PT1H\nACTION:DISPLAY\nDESCRIPTION:Complete DBA Registration - ${fictitiousName}\nEND:VALARM\nEND:VEVENT\nEND:VCALENDAR`;\n\n  return icsContent;\n}\n\n/**\n * Send DBA draft email with magic link\n */\nasync function sendDBADraftEmail(email: string, fictitiousName: string, magicLink: string) {\n  const html = `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <style>\n          body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            line-height: 1.6;\n            color: #374151;\n            max-width: 600px;\n            margin: 0 auto;\n            padding: 20px;\n          }\n          .container {\n            background: #ffffff;\n            border-radius: 12px;\n            padding: 32px;\n            border: 1px solid #E5E7EB;\n          }\n          .header {\n            text-align: center;\n            margin-bottom: 32px;\n          }\n          .logo {\n            font-size: 24px;\n            font-weight: 700;\n            color: #0EA5E9;\n            margin-bottom: 8px;\n          }\n          h1 {\n            font-size: 24px;\n            font-weight: 600;\n            color: #111827;\n            margin: 0 0 16px 0;\n          }\n          .highlight-box {\n            background: #F0F9FF;\n            border: 2px solid #0EA5E9;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 24px 0;\n          }\n          .highlight-box strong {\n            color: #0EA5E9;\n            font-size: 18px;\n          }\n          .button {\n            display: inline-block;\n            background: #0EA5E9;\n            color: #ffffff;\n            padding: 14px 32px;\n            text-decoration: none;\n            border-radius: 8px;\n            font-weight: 600;\n            margin: 24px 0;\n          }\n          .button:hover {\n            background: #0284C7;\n          }\n          .steps {\n            background: #F9FAFB;\n            border-radius: 8px;\n            padding: 20px;\n            margin: 24px 0;\n          }\n          .steps ol {\n            margin: 0;\n            padding-left: 20px;\n          }\n          .steps li {\n            margin-bottom: 12px;\n            color: #6B7280;\n          }\n          .footer {\n            text-align: center;\n            margin-top: 32px;\n            padding-top: 24px;\n            border-top: 1px solid #E5E7EB;\n            color: #9CA3AF;\n            font-size: 14px;\n          }\n          .warning {\n            background: #FEF3C7;\n            border: 1px solid #FDE68A;\n            border-radius: 8px;\n            padding: 16px;\n            margin: 24px 0;\n            color: #92400E;\n            font-size: 14px;\n          }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <div class=\"logo\">LegalOps</div>\n            <h1>Your DBA Registration is Saved</h1>\n          </div>\n\n          <p>Hi there,</p>\n\n          <p>We've saved your DBA registration for:</p>\n\n          <div class=\"highlight-box\">\n            <strong>${fictitiousName}</strong>\n          </div>\n\n          <p>As you know, Florida law requires you to publish your fictitious name in a newspaper before we can file with the state. Here's what to do next:</p>\n\n          <div class=\"steps\">\n            <ol>\n              <li><strong>Contact a local newspaper</strong> and request to publish a \"fictitious name notice\"</li>\n              <li><strong>Publish the advertisement</strong> (typically costs $50-$150)</li>\n              <li><strong>Click the button below</strong> to return and complete your registration</li>\n            </ol>\n          </div>\n\n          <div style=\"text-align: center;\">\n            <a href=\"${magicLink}\" class=\"button\">Complete My DBA Registration</a>\n          </div>\n\n          <div class=\"warning\">\n            <strong>‚è∞ This link expires in 7 days.</strong> That should give you plenty of time to publish your newspaper ad and return to complete your filing.\n          </div>\n\n          <p>All your information is saved and ready to go. When you click the link above, you'll pick up right where you left off.</p>\n\n          <div class=\"footer\">\n            <p><strong>LegalOps</strong> - Florida Business Formation Services</p>\n            <p>Questions? Reply to this email or contact us at support@legalops.com</p>\n            <p style=\"margin-top: 16px; font-size: 12px;\">\n              This link is unique to you. Don't share it with anyone.\n            </p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n\n  return sendEmail({\n    to: email,\n    subject: `Complete Your DBA Registration - ${fictitiousName}`,\n    html,\n  });\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\feedback\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[959,962],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[959,962],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Feedback API\n * Phase 7: Smart + Safe Experience Overhaul\n *\n * POST /api/feedback\n * Collect user feedback from FeedbackBeacon components\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\ninterface FeedbackRequest {\n  feedbackId: string;\n  positive: boolean;\n  comment?: string;\n  timestamp: string;\n  url: string;\n}\n\n/**\n * GET /api/feedback\n * Query params:\n * - feedbackId: Filter by specific page/component\n * - positive: Filter by positive/negative (true/false)\n * - limit: Number of results (default: 50)\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const feedbackId = searchParams.get('feedbackId');\n    const positive = searchParams.get('positive');\n    const limit = parseInt(searchParams.get('limit') || '50');\n\n    const where: any = {};\n    if (feedbackId) where.feedbackId = feedbackId;\n    if (positive !== null) where.positive = positive === 'true';\n\n    const feedback = await prisma.feedback.findMany({\n      where,\n      take: limit,\n      orderBy: { createdAt: 'desc' },\n      include: {\n        user: {\n          select: {\n            id: true,\n            email: true,\n            firstName: true,\n            lastName: true,\n          },\n        },\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      count: feedback.length,\n      feedback,\n    });\n  } catch (error) {\n    console.error('Error fetching feedback:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch feedback' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * POST /api/feedback\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const body: FeedbackRequest = await request.json();\n\n    // Validate required fields\n    if (!body.feedbackId || typeof body.positive !== 'boolean') {\n      return NextResponse.json(\n        { error: 'Missing required fields: feedbackId, positive' },\n        { status: 400 }\n      );\n    }\n\n    // Get current user session (if logged in)\n    const session = await getServerSession(authOptions);\n\n    // Get user agent and IP for spam detection\n    const userAgent = request.headers.get('user-agent') || undefined;\n    const ipAddress = request.headers.get('x-forwarded-for') ||\n                      request.headers.get('x-real-ip') ||\n                      undefined;\n\n    // Save feedback to database\n    const feedback = await prisma.feedback.create({\n      data: {\n        feedbackId: body.feedbackId,\n        positive: body.positive,\n        comment: body.comment,\n        url: body.url,\n        userId: session?.user?.id || null,\n        userAgent,\n        ipAddress,\n        createdAt: new Date(body.timestamp),\n      },\n    });\n\n    // Log for monitoring\n    console.log('Feedback saved:', {\n      id: feedback.id,\n      feedbackId: feedback.feedbackId,\n      positive: feedback.positive,\n      userId: feedback.userId || 'guest',\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Feedback received',\n      feedbackId: feedback.id,\n    });\n  } catch (error) {\n    console.error('Error saving feedback:', error);\n    return NextResponse.json(\n      { error: 'Failed to save feedback' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filing\\approve\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'notes' is assigned a value but never used.","line":32,"column":37,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":42},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1177,1180],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1177,1180],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: Approve and Submit Filing\n * \n * Staff reviews the filled form and approves for submission\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Only staff can approve filings\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email! },\n    });\n\n    if (!user || (user.userType !== 'EMPLOYEE' && user.userType !== 'SITE_ADMIN')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    const body = await request.json();\n    const { submissionId, approved, notes } = body;\n\n    if (!submissionId) {\n      return NextResponse.json({ error: 'Submission ID required' }, { status: 400 });\n    }\n\n    // Get submission\n    const submission = await (prisma as any).filingSubmission.findUnique({\n      where: { id: submissionId },\n      include: {\n        order: true,\n      },\n    });\n\n    if (!submission) {\n      return NextResponse.json({ error: 'Submission not found' }, { status: 404 });\n    }\n\n    if (submission.status !== 'FORM_FILLED') {\n      return NextResponse.json(\n        { error: 'Submission not ready for review' },\n        { status: 400 }\n      );\n    }\n\n    if (approved) {\n      // Update submission as reviewed and ready\n      // TODO: FilingSubmission model not yet implemented\n      // await prisma.filingSubmission.update({\n      //   where: { id: submissionId },\n      //   data: {\n      //     status: 'REVIEWED',\n      //     reviewedBy: user.id,\n      //     reviewedAt: new Date(),\n      //     reviewNotes: notes,\n      //   },\n      // });\n\n      // TODO: Trigger actual submission to Sunbiz\n      // For now, we'll mark it as ready for manual submission\n      // In production, this would call agent.submitForm(page)\n\n      return NextResponse.json({\n        success: true,\n        message: 'Filing approved and ready for submission',\n      });\n    } else {\n      // Rejected - mark as failed\n      // TODO: FilingSubmission model not yet implemented\n      // await prisma.filingSubmission.update({\n      //   where: { id: submissionId },\n      //   data: {\n      //     status: 'FAILED',\n      //     reviewedBy: user.id,\n      //     reviewedAt: new Date(),\n      //     reviewNotes: notes,\n      //     errorMessage: 'Rejected by staff reviewer',\n      //   },\n      // });\n\n      return NextResponse.json({\n        success: true,\n        message: 'Filing rejected',\n      });\n    }\n\n  } catch (error) {\n    console.error('Error approving filing:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filing\\pending\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":14,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1490,1493],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1490,1493],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: Get Pending Filings\n * \n * Returns all filings that need staff review\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Only staff can view pending filings\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email! },\n    });\n\n    if (!user || (user.userType !== 'EMPLOYEE' && user.userType !== 'SITE_ADMIN')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    // Get all pending filings\n    // TODO: FilingSubmission model not yet implemented\n    // const filings = await prisma.filingSubmission.findMany({\n    //   where: {\n    //     status: 'FORM_FILLED', // Only show filings ready for review\n    //   },\n    //   include: {\n    //     order: {\n    //       include: {\n    //         user: {\n    //           select: {\n    //             name: true,\n    //             email: true,\n    //           },\n    //         },\n    //       },\n    //     },\n    //   },\n    //   orderBy: {\n    //     createdAt: 'desc',\n    //   },\n    // });\n    const filings: any[] = []; // Temporary placeholder\n\n    return NextResponse.json({\n      filings,\n      count: filings.length,\n    });\n\n  } catch (error) {\n    console.error('Error fetching pending filings:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filing\\submit\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1620,1623],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1620,1623],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":71,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2031,2034],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2031,2034],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2123,2126],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2123,2126],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":87,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":87,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2416,2419],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2416,2419],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":92,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":92,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2602,2605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2602,2605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":98,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":98,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2772,2775],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2772,2775],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":99,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":99,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2842,2845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2842,2845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3008,3011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3008,3011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":104,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3070,3073],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3070,3073],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":112,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3466,3469],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3466,3469],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":113,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":113,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3542,3545],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3542,3545],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":119,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":119,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3712,3715],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3712,3715],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":120,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3782,3785],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3782,3785],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":124,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3952,3955],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3952,3955],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":127,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":127,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4095,4098],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4095,4098],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4176,4179],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4176,4179],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4238,4241],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4238,4241],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":148,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":148,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4873,4876],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4873,4876],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":18,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: Submit Filing to Sunbiz\n * \n * Triggers AI agent to fill form and prepare for staff review\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\nimport { SunbizFilingAgent, LLCFormationData, CorporationFormationData } from '@/lib/sunbiz-agent';\nimport { writeFile } from 'fs/promises';\nimport { join } from 'path';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Only staff can trigger filings\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email! },\n    });\n\n    if (!user || (user.userType !== 'EMPLOYEE' && user.userType !== 'SITE_ADMIN')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    const body = await request.json();\n    const { orderId } = body;\n\n    if (!orderId) {\n      return NextResponse.json({ error: 'Order ID required' }, { status: 400 });\n    }\n\n    // Get order with all data\n    const order = await prisma.order.findUnique({\n      where: { id: orderId },\n      include: {\n        user: true,\n      },\n    });\n\n    if (!order) {\n      return NextResponse.json({ error: 'Order not found' }, { status: 404 });\n    }\n\n    // Check if already has a pending submission\n    const existingSubmission = await (prisma as any).filingSubmission.findFirst({\n      where: {\n        orderId,\n        status: {\n          in: ['PENDING', 'FORM_FILLED', 'REVIEWED', 'SUBMITTING'],\n        },\n      },\n    });\n\n    if (existingSubmission) {\n      return NextResponse.json(\n        { error: 'Filing already in progress' },\n        { status: 400 }\n      );\n    }\n\n    // Create filing submission record\n    const submission = await (prisma as any).filingSubmission.create({\n      data: {\n        orderId,\n        filingType: (order as any).type,\n        status: 'PENDING',\n        agentUsed: true,\n        requiresReview: true,\n      },\n    });\n\n    // Initialize AI agent\n    const agent = new SunbizFilingAgent('./public/filing-screenshots');\n\n    let result;\n\n    // Fill form based on order type\n  const orderAny = order as any;\n\n  if (orderAny.type === 'LLC_FORMATION') {\n      const formData: LLCFormationData = {\n        businessName: orderAny.businessName,\n        principalAddress: (orderAny.orderData as any)?.principalAddress || {\n          street: '',\n          city: '',\n          state: 'FL',\n          zip: '',\n        },\n        mailingAddress: (orderAny.orderData as any)?.mailingAddress,\n        registeredAgent: (orderAny.orderData as any)?.registeredAgent || {\n          name: '',\n          address: { street: '', city: '', state: 'FL', zip: '' },\n        },\n        managers: (orderAny.orderData as any)?.managers,\n        effectiveDate: (orderAny.orderData as any)?.effectiveDate,\n        correspondenceEmail: order.user?.email || order.guestEmail || '',\n      };\n\n      result = await agent.fillLLCFormation(formData, false); // headless=false for debugging\n  } else if (orderAny.type === 'CORP_FORMATION') {\n      const formData: CorporationFormationData = {\n        corporationName: orderAny.businessName,\n        numberOfShares: (orderAny.orderData as any)?.numberOfShares || 1,\n        principalAddress: (orderAny.orderData as any)?.principalAddress || {\n          street: '',\n          city: '',\n          state: 'FL',\n          zip: '',\n        },\n        mailingAddress: (orderAny.orderData as any)?.mailingAddress,\n        registeredAgent: (orderAny.orderData as any)?.registeredAgent || {\n          name: '',\n          address: { street: '', city: '', state: 'FL', zip: '' },\n        },\n        incorporator: (orderAny.orderData as any)?.incorporator || {\n          name: order.user?.email || order.guestEmail || 'Unknown',\n        },\n        purpose: (orderAny.orderData as any)?.purpose || 'any lawful business',\n        officers: (orderAny.orderData as any)?.officers,\n        effectiveDate: (orderAny.orderData as any)?.effectiveDate,\n        correspondenceEmail: order.user?.email || order.guestEmail || '',\n      };\n\n      result = await agent.fillCorporationFormation(formData, false);\n    } else {\n      await agent.close();\n      return NextResponse.json(\n        { error: 'Unsupported filing type' },\n        { status: 400 }\n      );\n    }\n\n    // Save screenshot\n    const screenshotFilename = `${orderId}-${Date.now()}.png`;\n    const screenshotPath = join(process.cwd(), 'public', 'filing-screenshots', screenshotFilename);\n    await writeFile(screenshotPath, result.screenshot);\n\n    // Update submission with results\n    await (prisma as any).filingSubmission.update({\n      where: { id: submission.id },\n      data: {\n        status: result.success ? 'FORM_FILLED' : 'FAILED',\n        agentConfidence: result.confidence,\n        formScreenshot: `/filing-screenshots/${screenshotFilename}`,\n        errorMessage: result.errors?.join(', '),\n      },\n    });\n\n    // Don't close browser yet - keep it open for submission\n    // Store browser/page reference in memory (for now)\n    // TODO: Implement proper session management for browser instances\n\n    return NextResponse.json({\n      success: result.success,\n      submissionId: submission.id,\n      screenshot: `/filing-screenshots/${screenshotFilename}`,\n      confidence: result.confidence,\n      errors: result.errors,\n      message: result.success\n        ? 'Form filled successfully. Ready for review.'\n        : 'Form filling failed. Please review errors.',\n    });\n\n  } catch (error) {\n    console.error('Error in filing submission:', error);\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filings\\[id]\\approve\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filings\\[id]\\request-revision\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":116,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":116,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3170,3173],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3170,3173],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Request Revision API\n * \n * POST /api/filings/[id]/request-revision - Customer requests revisions to staff changes\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const { id: filingId } = await params;\n    const body = await request.json();\n    const { revisionNotes } = body;\n\n    // Get user\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    // Get filing and verify ownership\n    const filing = await prisma.filing.findUnique({\n      where: { id: filingId },\n      include: {\n        businessEntity: {\n          include: {\n            client: {\n              include: {\n                user: {\n                  select: { email: true }\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\n    if (!filing) {\n      return NextResponse.json(\n        { success: false, error: 'Filing not found' },\n        { status: 404 }\n      );\n    }\n\n    if (filing.businessEntity.client.user.email !== session.user.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 403 }\n      );\n    }\n\n    // Update filing status back to IN_REVIEW with customer notes\n    const updatedFiling = await prisma.filing.update({\n      where: { id: filingId },\n      data: {\n        filingStatus: 'IN_REVIEW',\n        staffChangeReason: revisionNotes ? `Customer requested revision: ${revisionNotes}` : 'Customer requested revision',\n      }\n    });\n\n    // Dismiss the approval notice\n    await prisma.notice.updateMany({\n      where: {\n        filingId: filingId,\n        userId: user.id,\n        type: 'APPROVAL_REQUIRED',\n        isDismissed: false,\n      },\n      data: {\n        isDismissed: true,\n        isRead: true,\n      }\n    });\n\n    // Create a notice for the customer confirming revision request\n    await prisma.notice.create({\n      data: {\n        userId: user.id,\n        type: 'GENERAL_ALERT',\n        priority: 'ATTENTION',\n        title: 'Revision Request Submitted',\n        message: 'Your revision request has been sent to our team. We will review your feedback and make the necessary changes.',\n        filingId: filingId,\n        actionUrl: `/dashboard/filings/${filingId}`,\n        actionLabel: 'View Filing',\n      }\n    });\n\n    // Get all staff users (FULFILLMENT_WORKER, MANAGER, SITE_ADMIN)\n    const staffUsers = await prisma.user.findMany({\n      where: {\n        role: {\n          in: ['FULFILLMENT_WORKER', 'MANAGER', 'SITE_ADMIN'] as any\n        }\n      },\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n      }\n    });\n\n    // Create notices for all staff members\n    const staffNotices = staffUsers.map(staffUser => ({\n      userId: staffUser.id,\n      type: 'GENERAL_ALERT' as const,\n      priority: 'URGENT' as const,\n      title: `Customer Requested Revision: ${filing.businessEntity.legalName}`,\n      message: revisionNotes\n        ? `${user.firstName} ${user.lastName} requested changes: \"${revisionNotes}\"`\n        : `${user.firstName} ${user.lastName} requested changes to this filing.`,\n      filingId: filingId,\n      actionUrl: `/dashboard/staff/filings/${filingId}/review`,\n      actionLabel: 'Review Filing',\n    }));\n\n    await prisma.notice.createMany({\n      data: staffNotices\n    });\n\n    return NextResponse.json({\n      success: true,\n      filing: updatedFiling,\n      message: 'Revision request submitted. Our team will review and contact you.'\n    });\n  } catch (error) {\n    console.error('Error requesting revision:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to request revision' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filings\\[id]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\filings\\annual-report\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is assigned a value but never used.","line":20,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":20,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1190,1193],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1190,1193],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1671,1674],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1671,1674],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Annual Report Filing API\n * \n * POST /api/filings/annual-report\n * Creates an annual report filing for an existing business entity\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { PrismaClient } from '@/generated/prisma';\nimport { mapAnnualReportToDatabase } from '@/lib/mappers/form-to-database';\nimport { AnnualReportFormData } from '@/types/forms';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(request: NextRequest) {\n  try {\n    const formData: AnnualReportFormData = await request.json();\n    \n    // TODO: Get from session\n    const userId = 'temp-user-id';\n    \n    // Validate that the business entity exists\n    const businessEntity = await prisma.businessEntity.findUnique({\n      where: { id: formData.businessEntityId },\n      include: {\n        addresses: true,\n        registeredAgent: true,\n        managersOfficers: true,\n      },\n    });\n    \n    if (!businessEntity) {\n      return NextResponse.json(\n        { error: 'Business entity not found' },\n        { status: 404 }\n      );\n    }\n    \n    // Update business entity if FEI/EIN changed (if provided in changes)\n    const feiNumber = (formData.changes as any)?.feiNumber;\n    if (feiNumber !== undefined) {\n      await prisma.businessEntity.update({\n        where: { id: formData.businessEntityId },\n        data: {\n          feiNumber: feiNumber || null,\n        },\n      });\n    }\n\n    // Map form data to database format\n    const filingData = mapAnnualReportToDatabase(\n      formData,\n      formData.businessEntityId\n    );\n\n    // Create the filing record\n    const filing = await prisma.filing.create({\n      data: filingData as any,\n      include: {\n        businessEntity: {\n          include: {\n            addresses: true,\n            registeredAgent: true,\n            managersOfficers: true,\n          },\n        },\n      },\n    });\n    \n    return NextResponse.json({\n      success: true,\n      filing,\n      message: 'Annual report filing created successfully',\n    });\n  } catch (error) {\n    console.error('Error creating annual report filing:', error);\n    return NextResponse.json(\n      { error: 'Failed to create annual report filing' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * GET /api/filings/annual-report?clientId=xxx\n * Get all business entities for a client that need annual reports\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    let clientId = searchParams.get('clientId');\n\n    // For testing: if no clientId provided, use the test client\n    if (!clientId) {\n      clientId = 'test-client-001';\n    }\n    \n    // Get all business entities for this client\n    const entities = await prisma.businessEntity.findMany({\n      where: {\n        clientId,\n        // Only active entities\n        status: 'ACTIVE',\n      },\n      include: {\n        addresses: true,\n        registeredAgent: true,\n        managersOfficers: true,\n        filings: {\n          where: {\n            filingType: 'ANNUAL_REPORT',\n          },\n          orderBy: {\n            createdAt: 'desc',\n          },\n          take: 1, // Get most recent annual report\n        },\n      },\n    });\n    \n    return NextResponse.json({\n      success: true,\n      entities,\n    });\n  } catch (error) {\n    console.error('Error fetching entities for annual report:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch entities' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\form-drafts\\delete\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":71,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1790,1793],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1790,1793],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n/**\n * DELETE /api/form-drafts/delete\n * Delete a saved form draft for authenticated user\n */\nexport async function DELETE(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session || !session.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized. Please log in to delete your draft.' },\n        { status: 401 }\n      );\n    }\n\n    const { draftId, formType } = await request.json();\n\n    if (!draftId && !formType) {\n      return NextResponse.json(\n        { error: 'Missing required field: draftId or formType' },\n        { status: 400 }\n      );\n    }\n\n    // Delete by ID or by formType\n    if (draftId) {\n      // Verify ownership before deleting\n      const draft = await prisma.formDraft.findUnique({\n        where: { id: draftId },\n      });\n\n      if (!draft) {\n        return NextResponse.json(\n          { error: 'Draft not found' },\n          { status: 404 }\n        );\n      }\n\n      if (draft.userId !== session.user.id) {\n        return NextResponse.json(\n          { error: 'Unauthorized. You can only delete your own drafts.' },\n          { status: 403 }\n        );\n      }\n\n      await prisma.formDraft.delete({\n        where: { id: draftId },\n      });\n    } else if (formType) {\n      // Delete by formType\n      await prisma.formDraft.delete({\n        where: {\n          userId_formType: {\n            userId: session.user.id,\n            formType,\n          },\n        },\n      });\n    }\n\n    return NextResponse.json({\n      success: true,\n      message: 'Draft deleted successfully',\n    });\n\n  } catch (error: any) {\n    console.error('Error deleting form draft:', error);\n    \n    // Handle case where draft doesn't exist\n    if (error.code === 'P2025') {\n      return NextResponse.json(\n        { error: 'Draft not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: 'Failed to delete draft. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\form-drafts\\list\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":10,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":34},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1536,1539],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1536,1539],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n/**\n * GET /api/form-drafts/list\n * List all saved form drafts for authenticated user\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session || !session.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized. Please log in to view your drafts.' },\n        { status: 401 }\n      );\n    }\n\n    // Find all drafts for this user\n    const drafts = await prisma.formDraft.findMany({\n      where: {\n        userId: session.user.id,\n      },\n      orderBy: {\n        updatedAt: 'desc',\n      },\n    });\n\n    // Format the response\n    const formattedDrafts = drafts.map(draft => ({\n      id: draft.id,\n      formType: draft.formType,\n      displayName: draft.displayName,\n      currentStep: draft.currentStep,\n      totalSteps: draft.totalSteps,\n      progress: Math.round((draft.currentStep / draft.totalSteps) * 100),\n      emailRemindersEnabled: draft.emailRemindersEnabled,\n      createdAt: draft.createdAt,\n      updatedAt: draft.updatedAt,\n      // Calculate days since last update\n      daysSinceUpdate: Math.floor((Date.now() - new Date(draft.updatedAt).getTime()) / (1000 * 60 * 60 * 24)),\n    }));\n\n    return NextResponse.json({\n      success: true,\n      drafts: formattedDrafts,\n      count: formattedDrafts.length,\n    });\n\n  } catch (error: any) {\n    console.error('Error listing form drafts:', error);\n    return NextResponse.json(\n      { error: 'Failed to load drafts. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\form-drafts\\load\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1644,1647],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1644,1647],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n/**\n * GET /api/form-drafts/load?formType=DBA_REGISTRATION\n * Load a saved form draft for authenticated users\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session || !session.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized. Please log in to load your draft.' },\n        { status: 401 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const formType = searchParams.get('formType');\n\n    if (!formType) {\n      return NextResponse.json(\n        { error: 'Missing required parameter: formType' },\n        { status: 400 }\n      );\n    }\n\n    // Find the draft\n    const draft = await prisma.formDraft.findUnique({\n      where: {\n        userId_formType: {\n          userId: session.user.id,\n          formType,\n        },\n      },\n    });\n\n    if (!draft) {\n      return NextResponse.json(\n        { error: 'No draft found for this form type' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      draft: {\n        id: draft.id,\n        formType: draft.formType,\n        formData: draft.formData,\n        currentStep: draft.currentStep,\n        totalSteps: draft.totalSteps,\n        displayName: draft.displayName,\n        emailRemindersEnabled: draft.emailRemindersEnabled,\n        createdAt: draft.createdAt,\n        updatedAt: draft.updatedAt,\n      },\n    });\n\n  } catch (error: any) {\n    console.error('Error loading form draft:', error);\n    return NextResponse.json(\n      { error: 'Failed to load draft. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\form-drafts\\save\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2186,2189],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2186,2189],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n/**\n * POST /api/form-drafts/save\n * Save or update a form draft for authenticated users\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session || !session.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized. Please log in to save your progress.' },\n        { status: 401 }\n      );\n    }\n\n    const { formType, formData, currentStep, totalSteps, displayName, emailRemindersEnabled } = await request.json();\n\n    // Validate required fields\n    if (!formType || !formData) {\n      return NextResponse.json(\n        { error: 'Missing required fields: formType and formData are required' },\n        { status: 400 }\n      );\n    }\n\n    // Validate formType\n    const validFormTypes = ['DBA_REGISTRATION', 'LLC_FORMATION', 'ANNUAL_REPORT', 'CORPORATION_FORMATION'];\n    if (!validFormTypes.includes(formType)) {\n      return NextResponse.json(\n        { error: `Invalid formType. Must be one of: ${validFormTypes.join(', ')}` },\n        { status: 400 }\n      );\n    }\n\n    // Upsert the draft (create or update)\n    const draft = await prisma.formDraft.upsert({\n      where: {\n        userId_formType: {\n          userId: session.user.id,\n          formType,\n        },\n      },\n      update: {\n        formData,\n        currentStep: currentStep || 1,\n        totalSteps: totalSteps || 5,\n        displayName: displayName || null,\n        emailRemindersEnabled: emailRemindersEnabled || false,\n        updatedAt: new Date(),\n      },\n      create: {\n        userId: session.user.id,\n        formType,\n        formData,\n        currentStep: currentStep || 1,\n        totalSteps: totalSteps || 5,\n        displayName: displayName || null,\n        emailRemindersEnabled: emailRemindersEnabled || false,\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Draft saved successfully',\n      draftId: draft.id,\n      updatedAt: draft.updatedAt,\n    });\n\n  } catch (error: any) {\n    console.error('Error saving form draft:', error);\n    return NextResponse.json(\n      { error: 'Failed to save draft. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\forms\\drafts\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\health-score\\[businessId]\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1659,1662],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1659,1662],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":129,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":129,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3222,3225],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3222,3225],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Business Health Score API\n * \n * GET /api/health-score/[businessId] - Calculate and return health score\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { calculateHealthScore, updateHealthScore } from '@/lib/healthScore';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(\n  request: NextRequest,\n  { params }: { params: Promise<{ businessId: string }> }\n) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const { businessId } = await params;\n\n    // Verify user owns this business\n    const business = await prisma.businessEntity.findUnique({\n      where: { id: businessId },\n      include: {\n        client: {\n          select: {\n            userId: true\n          }\n        }\n      }\n    });\n\n    if (!business) {\n      return NextResponse.json(\n        { success: false, error: 'Business not found' },\n        { status: 404 }\n      );\n    }\n\n    if (business.client.userId !== session.user.id) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized - not your business' },\n        { status: 403 }\n      );\n    }\n\n    // Calculate health score with full breakdown\n    const breakdown = await calculateHealthScore(businessId);\n\n    return NextResponse.json({\n      success: true,\n      businessId,\n      healthScore: breakdown.totalScore,\n      breakdown\n    });\n\n  } catch (error: any) {\n    console.error('Error calculating health score:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to calculate health score' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * POST /api/health-score/[businessId] - Update and save health score to database\n */\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<{ businessId: string }> }\n) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const { businessId } = await params;\n\n    // Verify user owns this business\n    const business = await prisma.businessEntity.findUnique({\n      where: { id: businessId },\n      include: {\n        client: {\n          select: {\n            userId: true\n          }\n        }\n      }\n    });\n\n    if (!business) {\n      return NextResponse.json(\n        { success: false, error: 'Business not found' },\n        { status: 404 }\n      );\n    }\n\n    if (business.client.userId !== session.user.id) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized - not your business' },\n        { status: 403 }\n      );\n    }\n\n    // Update health score in database\n    const score = await updateHealthScore(businessId);\n\n    return NextResponse.json({\n      success: true,\n      businessId,\n      healthScore: score,\n      message: 'Health score updated successfully'\n    });\n\n  } catch (error: any) {\n    console.error('Error updating health score:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to update health score' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\internal\\alert-staff-error\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2145,2148],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2145,2148],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Internal Staff Alert API\n * \n * POST /api/internal/alert-staff-error - Alert staff about critical system errors\n * \n * This endpoint is called automatically when the system detects critical errors\n * that require immediate staff attention. It creates urgent notices for all\n * fulfillment staff and updates the filing status.\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Check authentication\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const body = await request.json();\n    const { errorType, filingId, businessName, filingType } = body;\n\n    if (!errorType || !filingId) {\n      return NextResponse.json(\n        { success: false, error: 'Missing required fields' },\n        { status: 400 }\n      );\n    }\n\n    // Get the filing to verify it exists and get customer info\n    const filing = await prisma.filing.findUnique({\n      where: { id: filingId },\n      include: {\n        businessEntity: {\n          include: {\n            client: {\n              include: {\n                user: {\n                  select: {\n                    id: true,\n                    email: true,\n                    firstName: true,\n                    lastName: true,\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\n    if (!filing) {\n      return NextResponse.json(\n        { success: false, error: 'Filing not found' },\n        { status: 404 }\n      );\n    }\n\n    // Handle different error types\n    if (errorType === 'CHANGES_NOT_LOGGED') {\n      // Get all staff users who can fix this\n      const staffUsers = await prisma.user.findMany({\n        where: {\n          role: {\n            in: ['FULFILLMENT_WORKER', 'MANAGER', 'SITE_ADMIN'] as any\n          }\n        },\n        select: {\n          id: true,\n          email: true,\n          firstName: true,\n          lastName: true,\n        }\n      });\n\n      // Create urgent notices for all staff\n      const staffNotices = staffUsers.map(staffUser => ({\n        userId: staffUser.id,\n        type: 'GENERAL_ALERT' as const,\n        priority: 'URGENT' as const,\n        title: `üö® CRITICAL: Changes Not Logged - ${businessName}`,\n        message: `Customer ${filing.businessEntity.client.user.firstName} ${filing.businessEntity.client.user.lastName} tried to review their ${filingType.replace(/_/g, ' ')} but NO CHANGES were logged. This filing is marked as requiring approval but has an empty staffChanges array. Please immediately: 1) Review the filing, 2) Document all changes made, 3) Update the filing with proper change logs. Customer is waiting.`,\n        filingId: filingId,\n        actionUrl: `/dashboard/staff/filings/${filingId}/review`,\n        actionLabel: 'Fix Now',\n      }));\n\n      await prisma.notice.createMany({\n        data: staffNotices\n      });\n\n      // Update filing status to IN_REVIEW so it doesn't stay in limbo\n      await prisma.filing.update({\n        where: { id: filingId },\n        data: {\n          filingStatus: 'IN_REVIEW',\n          staffChangeReason: `SYSTEM ERROR: Filing was marked PENDING_CUSTOMER_APPROVAL but no changes were logged. Automatically moved back to IN_REVIEW for staff to document changes. Error detected at ${new Date().toISOString()}.`\n        }\n      });\n\n      // Dismiss the customer's approval notice since it's invalid\n      await prisma.notice.updateMany({\n        where: {\n          filingId: filingId,\n          userId: filing.businessEntity.client.user.id,\n          type: 'APPROVAL_REQUIRED',\n          isDismissed: false,\n        },\n        data: {\n          isDismissed: true,\n          isRead: true,\n        }\n      });\n\n      // Create a notice for the customer explaining the delay\n      await prisma.notice.create({\n        data: {\n          userId: filing.businessEntity.client.user.id,\n          type: 'GENERAL_ALERT',\n          priority: 'ATTENTION',\n          title: 'Filing Review Delayed - We\\'re Working On It',\n          message: `We're finalizing the documentation for your ${filingType.replace(/_/g, ' ')} filing. Our team is ensuring all changes are properly recorded for your review. We'll notify you as soon as it's ready (typically within 1 hour). Thank you for your patience!`,\n          filingId: filingId,\n          actionUrl: `/dashboard/filings/${filingId}`,\n          actionLabel: 'View Filing',\n        }\n      });\n\n      console.error(`üö® CRITICAL ERROR: Changes not logged for filing ${filingId}. Staff alerted.`);\n\n      return NextResponse.json({\n        success: true,\n        message: 'Staff alerted and filing status updated',\n        staffNotified: staffUsers.length,\n        filingStatus: 'IN_REVIEW',\n      });\n    }\n\n    // Handle other error types here in the future\n    return NextResponse.json({\n      success: false,\n      error: 'Unknown error type'\n    }, { status: 400 });\n\n  } catch (error) {\n    console.error('Error alerting staff:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to alert staff' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\notices\\[id]\\dismiss\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\notices\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":13,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Notices API\n * \n * GET /api/notices - Get all notices for current user\n * POST /api/notices - Create a new notice (staff only)\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    // Get user\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    // Get all active notices for this user\n    const notices = await prisma.notice.findMany({\n      where: {\n        userId: user.id,\n        isDismissed: false,\n        OR: [\n          { expiresAt: null },\n          { expiresAt: { gt: new Date() } }\n        ]\n      },\n      include: {\n        filing: {\n          include: {\n            businessEntity: {\n              select: {\n                legalName: true,\n                documentNumber: true,\n              }\n            }\n          }\n        }\n      },\n      orderBy: [\n        { priority: 'asc' }, // URGENT first\n        { createdAt: 'desc' }\n      ]\n    });\n\n    return NextResponse.json({\n      success: true,\n      notices\n    });\n  } catch (error) {\n    console.error('Error fetching notices:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch notices' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    // TODO: Check if user is staff\n    // For now, allow any authenticated user\n\n    const body = await request.json();\n    const { userId, type, priority, title, message, filingId, actionUrl, actionLabel, expiresAt } = body;\n\n    const notice = await prisma.notice.create({\n      data: {\n        userId,\n        type,\n        priority,\n        title,\n        message,\n        filingId,\n        actionUrl,\n        actionLabel,\n        expiresAt: expiresAt ? new Date(expiresAt) : null,\n      }\n    });\n\n    return NextResponse.json({\n      success: true,\n      notice\n    });\n  } catch (error) {\n    console.error('Error creating notice:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to create notice' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\add-items\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":84,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":84,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2430,2433],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2430,2433],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\nimport { getServiceDataRequirements } from '@/config/service-data-requirements';\n\n/**\n * POST /api/orders/[orderId]/add-items\n * Add upsell items to an existing order (before payment)\n */\nexport async function POST(\n  request: NextRequest,\n  { params }: { params: Promise<{ orderId: string }> }\n) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session) {\n      return NextResponse.json(\n        { error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const { orderId } = await params;\n    const body = await request.json();\n    const { items } = body; // Array of { description, price }\n\n    if (!items || !Array.isArray(items) || items.length === 0) {\n      return NextResponse.json(\n        { error: 'Items array is required' },\n        { status: 400 }\n      );\n    }\n\n    // Fetch the order\n    const order = await prisma.order.findUnique({\n      where: { id: orderId },\n      include: { orderItems: true },\n    });\n\n    if (!order) {\n      return NextResponse.json(\n        { error: 'Order not found' },\n        { status: 404 }\n      );\n    }\n\n    // Check if user owns this order\n    if (order.userId !== session.user.id) {\n      return NextResponse.json(\n        { error: 'Forbidden' },\n        { status: 403 }\n      );\n    }\n\n    // Check if order is still pending (not paid)\n    if (order.paymentStatus !== 'PENDING') {\n      return NextResponse.json(\n        { error: 'Cannot modify a paid order' },\n        { status: 400 }\n      );\n    }\n\n    // Add new items to the order\n    const newOrderItems = items.map((item: { description: string; price: number; serviceType?: string }) => {\n      const serviceType = item.serviceType || 'REGISTERED_AGENT';\n      const dataRequirements = getServiceDataRequirements(serviceType);\n\n      return {\n        orderId: order.id,\n        serviceType,\n        description: item.description,\n        quantity: 1,\n        unitPrice: item.price,\n        totalPrice: item.price,\n        requiresAdditionalData: dataRequirements?.requiresAdditionalData || false,\n        dataCollectionFormType: dataRequirements?.dataCollectionFormType || undefined,\n      };\n    });\n\n    // Create order items\n    await prisma.orderItem.createMany({\n      data: newOrderItems as any,\n    });\n\n    // Calculate new totals\n    const newSubtotal = Number(order.subtotal) + items.reduce((sum: number, item: { price: number }) => sum + item.price, 0);\n    const newTax = Number(order.tax); // Tax calculation would go here if needed\n    const newTotal = newSubtotal + newTax;\n\n    // Update order totals\n    const updatedOrder = await prisma.order.update({\n      where: { id: orderId },\n      data: {\n        subtotal: newSubtotal,\n        total: newTotal,\n      },\n      include: {\n        orderItems: true,\n        package: true,\n      },\n    });\n\n    // Convert Decimal fields to numbers for JSON serialization\n    const orderResponse = {\n      ...updatedOrder,\n      subtotal: Number(updatedOrder.subtotal),\n      tax: Number(updatedOrder.tax),\n      total: Number(updatedOrder.total),\n      orderItems: updatedOrder.orderItems?.map(item => ({\n        ...item,\n        unitPrice: Number(item.unitPrice),\n        totalPrice: Number(item.totalPrice),\n      })),\n    };\n\n    return NextResponse.json(orderResponse);\n  } catch (error) {\n    console.error('Error adding items to order:', error);\n    return NextResponse.json(\n      { error: 'Failed to add items to order' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\items\\[itemId]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\pay\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\remove-items\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\[orderId]\\save-document-data\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\create-with-risk-check\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":124,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":124,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4304,4307],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4304,4307],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":189,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6650,6653],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6650,6653],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":256,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":256,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8955,8958],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8955,8958],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: /api/orders/create-with-risk-check\n * \n * Creates order with AI risk assessment BEFORE payment processing\n * This prevents fraudulent orders from being charged\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/db';\nimport { aiRiskScoring, CustomerData, OrderData } from '@/lib/services/ai-risk-scoring';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { userId, orderData } = body;\n\n    // Validate required fields\n    if (!userId || !orderData) {\n      return NextResponse.json(\n        { error: 'Missing required fields: userId, orderData' },\n        { status: 400 }\n      );\n    }\n\n    // ========================================================================\n    // STEP 1: Get user information\n    // ========================================================================\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      include: {\n        orders: {\n          select: {\n            id: true,\n            paymentStatus: true,\n            orderStatus: true,\n            createdAt: true\n          }\n        }\n      }\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    // Calculate account age in days\n    const accountAge = Math.floor(\n      (Date.now() - user.createdAt.getTime()) / (1000 * 60 * 60 * 24)\n    );\n\n    // Count previous orders and chargebacks\n    const previousOrders = user.orders.filter(\n      o => o.paymentStatus === 'PAID' && o.orderStatus !== 'CANCELLED'\n    ).length;\n    \n    const previousChargebacks = user.orders.filter(\n      o => o.paymentStatus === 'REFUNDED'\n    ).length;\n\n    // ========================================================================\n    // STEP 2: Prepare data for risk assessment\n    // ========================================================================\n    \n    // Capture IP address and user agent\n    const ipAddress = request.headers.get('x-forwarded-for') || \n                     request.headers.get('x-real-ip') || \n                     'unknown';\n    const userAgent = request.headers.get('user-agent') || 'unknown';\n\n    const customerData: CustomerData = {\n      id: user.id,\n      name: user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : undefined,\n      email: user.email,\n      phone: user.phone || undefined,\n      ipAddress,\n      userAgent,\n      accountAge,\n      previousOrders,\n      previousChargebacks\n    };\n\n    const orderDataForAssessment: OrderData = {\n      amount: parseFloat(orderData.total),\n      services: orderData.services || [],\n      isRushOrder: orderData.isRushOrder || false,\n      paymentMethod: orderData.paymentMethod || 'stripe',\n      billingAddress: orderData.billingAddress\n    };\n\n    // ========================================================================\n    // STEP 3: RUN RISK ASSESSMENT (BEFORE creating order or charging payment)\n    // ========================================================================\n    console.log('üîç Running risk assessment for user:', user.email);\n    \n    const riskAssessment = await aiRiskScoring.assessRisk(\n      customerData,\n      orderDataForAssessment\n    );\n\n    console.log('üìä Risk Assessment Result:', {\n      score: riskAssessment.riskScore,\n      level: riskAssessment.riskLevel,\n      recommendation: riskAssessment.recommendation\n    });\n\n    // ========================================================================\n    // STEP 4: Handle CRITICAL risk - DECLINE immediately (before payment)\n    // ========================================================================\n    if (riskAssessment.recommendation === 'DECLINE') {\n      console.log('üö® Order DECLINED due to critical fraud risk');\n      \n      // Log the declined attempt (for audit trail)\n      await prisma.riskAssessment.create({\n        data: {\n          orderId: 'DECLINED_BEFORE_ORDER', // No order was created\n          riskScore: riskAssessment.riskScore,\n          riskLevel: riskAssessment.riskLevel,\n          recommendation: riskAssessment.recommendation,\n          aiReasoning: riskAssessment.reasoning,\n          aiModel: 'gpt-4-turbo',\n          riskFactors: riskAssessment.riskFactors as any,\n          customerEmail: user.email,\n          customerName: customerData.name,\n          customerPhone: user.phone,\n          accountAge,\n          previousOrders,\n          previousChargebacks,\n          orderAmount: orderData.total,\n          paymentMethod: orderData.paymentMethod || 'stripe',\n          isRushOrder: orderData.isRushOrder || false,\n          ipAddress,\n          userAgent,\n          billingAddress: orderData.billingAddress,\n          requiresReview: true\n        }\n      });\n\n      return NextResponse.json(\n        {\n          success: false,\n          declined: true,\n          reason: 'fraud_risk',\n          message: 'We are unable to process your order at this time. Please contact support for assistance.',\n          riskScore: riskAssessment.riskScore,\n          requiresVerification: true\n        },\n        { status: 403 }\n      );\n    }\n\n    // ========================================================================\n    // STEP 5: Handle HIGH risk - Require verification (before payment)\n    // ========================================================================\n    if (riskAssessment.recommendation === 'VERIFY') {\n      console.log('‚ö†Ô∏è Order requires verification before processing');\n      \n      // Create order in PENDING_VERIFICATION status (no payment yet)\n      const order = await prisma.order.create({\n        data: {\n          userId,\n          orderNumber: generateOrderNumber(),\n          orderStatus: 'PENDING', // Will stay pending until verified\n          subtotal: orderData.subtotal,\n          tax: orderData.tax,\n          total: orderData.total,\n          paymentStatus: 'PENDING',\n          paymentMethod: orderData.paymentMethod,\n          ipAddress,\n          userAgent,\n          isRushOrder: orderData.isRushOrder || false,\n          riskScore: riskAssessment.riskScore,\n          riskLevel: riskAssessment.riskLevel,\n          requiresReview: true\n        }\n      });\n\n      // Save risk assessment\n      await prisma.riskAssessment.create({\n        data: {\n          orderId: order.id,\n          riskScore: riskAssessment.riskScore,\n          riskLevel: riskAssessment.riskLevel,\n          recommendation: riskAssessment.recommendation,\n          aiReasoning: riskAssessment.reasoning,\n          aiModel: 'gpt-4-turbo',\n          riskFactors: riskAssessment.riskFactors as any,\n          customerEmail: user.email,\n          customerName: customerData.name,\n          customerPhone: user.phone,\n          accountAge,\n          previousOrders,\n          previousChargebacks,\n          orderAmount: orderData.total,\n          paymentMethod: orderData.paymentMethod || 'stripe',\n          isRushOrder: orderData.isRushOrder || false,\n          ipAddress,\n          userAgent,\n          billingAddress: orderData.billingAddress,\n          requiresReview: true\n        }\n      });\n\n      // TODO: Send email to customer requesting verification\n      // TODO: Send notification to admin for review\n\n      return NextResponse.json({\n        success: true,\n        requiresVerification: true,\n        orderId: order.id,\n        orderNumber: order.orderNumber,\n        message: 'Your order requires additional verification before processing. Our team will contact you shortly.',\n        riskScore: riskAssessment.riskScore\n      });\n    }\n\n    // ========================================================================\n    // STEP 6: LOW/MEDIUM risk - Proceed with order creation and payment\n    // ========================================================================\n    console.log('‚úÖ Order approved - proceeding with payment');\n\n    // Generate unique order number\n    const orderNumber = generateOrderNumber();\n\n    // Create order\n    const order = await prisma.order.create({\n      data: {\n        userId,\n        orderNumber,\n        orderStatus: 'PENDING',\n        subtotal: orderData.subtotal,\n        tax: orderData.tax,\n        total: orderData.total,\n        paymentStatus: 'PENDING',\n        paymentMethod: orderData.paymentMethod,\n        ipAddress,\n        userAgent,\n        isRushOrder: orderData.isRushOrder || false,\n        riskScore: riskAssessment.riskScore,\n        riskLevel: riskAssessment.riskLevel,\n        requiresReview: riskAssessment.requiresReview\n      }\n    });\n\n    // Save risk assessment\n    await prisma.riskAssessment.create({\n      data: {\n        orderId: order.id,\n        riskScore: riskAssessment.riskScore,\n        riskLevel: riskAssessment.riskLevel,\n        recommendation: riskAssessment.recommendation,\n        aiReasoning: riskAssessment.reasoning,\n        aiModel: 'gpt-4-turbo',\n        riskFactors: riskAssessment.riskFactors as any,\n        customerEmail: user.email,\n        customerName: customerData.name,\n        customerPhone: user.phone,\n        accountAge,\n        previousOrders,\n        previousChargebacks,\n        orderAmount: orderData.total,\n        paymentMethod: orderData.paymentMethod || 'stripe',\n        isRushOrder: orderData.isRushOrder || false,\n        ipAddress,\n        userAgent,\n        billingAddress: orderData.billingAddress,\n        requiresReview: riskAssessment.requiresReview\n      }\n    });\n\n    // Return success - frontend can now proceed with payment\n    return NextResponse.json({\n      success: true,\n      orderId: order.id,\n      orderNumber: order.orderNumber,\n      proceedWithPayment: true,\n      riskScore: riskAssessment.riskScore,\n      riskLevel: riskAssessment.riskLevel,\n      message: 'Order created successfully. Proceeding to payment.'\n    });\n\n  } catch (error) {\n    console.error('Order creation error:', error);\n    return NextResponse.json(\n      { \n        error: 'Failed to create order',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * Generate unique order number\n */\nfunction generateOrderNumber(): string {\n  const timestamp = Date.now().toString(36).toUpperCase();\n  const random = Math.random().toString(36).substring(2, 6).toUpperCase();\n  return `LO-${timestamp}-${random}`;\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\guest\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":117,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3445,3448],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3445,3448],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Guest Order Creation API\n * \n * Creates orders for guest checkout (no account required)\n * Used for one-time services like Operating Agreement, Bylaws, Certificate of Status, etc.\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const {\n      serviceType,\n      guestInfo,\n      tosAcceptedAt,\n      privacyPolicyAcceptedAt,\n      emailRemindersConsent,\n      smsRemindersConsent,\n    } = body;\n\n    // Validation\n    if (!serviceType) {\n      return NextResponse.json(\n        { error: 'Missing required field: serviceType' },\n        { status: 400 }\n      );\n    }\n\n    if (!guestInfo || !guestInfo.firstName || !guestInfo.lastName || !guestInfo.email) {\n      return NextResponse.json(\n        { error: 'Missing required guest information: firstName, lastName, email' },\n        { status: 400 }\n      );\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(guestInfo.email)) {\n      return NextResponse.json(\n        { error: 'Invalid email address' },\n        { status: 400 }\n      );\n    }\n\n    // Get service from database\n    const service = await prisma.service.findFirst({\n      where: { orderType: serviceType },\n    });\n\n    if (!service) {\n      return NextResponse.json(\n        { error: 'Service not found' },\n        { status: 404 }\n      );\n    }\n\n    // Generate order number\n    const orderNumber = `LO-${Date.now()}-${Math.random().toString(36).substring(2, 9).toUpperCase()}`;\n\n    // Calculate totals (no tax for now - will add tax calculation later)\n    const subtotal = Number(service.totalPrice);\n    const tax = 0;\n    const total = subtotal + tax;\n\n    // Create guest order\n    const now = new Date();\n    const order = await prisma.order.create({\n      data: {\n        orderNumber,\n        isGuestOrder: true,\n        guestEmail: guestInfo.email.toLowerCase(),\n        guestFirstName: guestInfo.firstName,\n        guestLastName: guestInfo.lastName,\n        guestPhone: guestInfo.phone || null,\n        tosAcceptedAt: tosAcceptedAt ? new Date(tosAcceptedAt) : now,\n        privacyPolicyAcceptedAt: privacyPolicyAcceptedAt ? new Date(privacyPolicyAcceptedAt) : now,\n        emailRemindersConsent: emailRemindersConsent || false,\n        emailRemindersConsentAt: emailRemindersConsent ? now : null,\n        smsRemindersConsent: smsRemindersConsent || false,\n        smsRemindersConsentAt: smsRemindersConsent ? now : null,\n        orderStatus: 'PENDING',\n        paymentStatus: 'PENDING',\n        subtotal,\n        tax,\n        total,\n        orderItems: {\n          create: [\n            {\n              serviceType,\n              description: service.name,\n              quantity: 1,\n              unitPrice: service.totalPrice,\n              totalPrice: service.totalPrice,\n              requiresAdditionalData: true,\n              additionalDataCollected: false,\n              dataCollectionFormType: serviceType,\n            },\n          ],\n        },\n      },\n      include: {\n        orderItems: true,\n      },\n    });\n\n    // Return order data\n    return NextResponse.json({\n      success: true,\n      orderId: order.id,\n      orderNumber: order.orderNumber,\n      total: order.total,\n      message: 'Guest order created successfully',\n    }, { status: 201 });\n\n  } catch (error: any) {\n    console.error('Guest order creation error:', error);\n    \n    return NextResponse.json(\n      { error: 'Failed to create order. Please try again.' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\orders\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":9,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'subtotal' is assigned a value but never used.","line":125,"column":57,"nodeType":null,"messageId":"unusedVar","endLine":125,"endColumn":65},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'tax' is assigned a value but never used.","line":125,"column":67,"nodeType":null,"messageId":"unusedVar","endLine":125,"endColumn":70},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'total' is assigned a value but never used.","line":125,"column":72,"nodeType":null,"messageId":"unusedVar","endLine":125,"endColumn":77}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/prisma\";\n\n/**\n * GET /api/orders - Get all orders for the current user\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { error: \"Unauthorized\" },\n        { status: 401 }\n      );\n    }\n\n    // Get user from database\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: \"User not found\" },\n        { status: 404 }\n      );\n    }\n\n    // Get orders based on user role\n    let orders;\n    if (user.role === \"ADMIN\" || user.userType === \"EMPLOYEE\" || user.userType === \"SITE_ADMIN\") {\n      // Admins and employees can see all orders\n      orders = await prisma.order.findMany({\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              email: true,\n            },\n          },\n          orderItems: {\n            select: {\n              serviceType: true,\n              description: true,\n              additionalData: true,\n            },\n          },\n        },\n        orderBy: {\n          createdAt: 'desc',\n        },\n      });\n    } else {\n      // Regular users can only see their own orders\n      orders = await prisma.order.findMany({\n        where: {\n          userId: user.id,\n        },\n        include: {\n          orderItems: {\n            select: {\n              serviceType: true,\n              description: true,\n              additionalData: true,\n            },\n          },\n        },\n        orderBy: {\n          createdAt: 'desc',\n        },\n      });\n    }\n\n    // Convert Decimal fields to numbers for JSON serialization\n    const ordersResponse = orders.map(order => ({\n      ...order,\n      subtotal: Number(order.subtotal),\n      tax: Number(order.tax),\n      total: Number(order.total),\n    }));\n\n    return NextResponse.json({ orders: ordersResponse });\n  } catch (error) {\n    console.error(\"Error fetching orders:\", error);\n    return NextResponse.json(\n      { error: \"Failed to fetch orders\" },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * POST /api/orders - Create a new order\n * Supports both old and new order creation patterns\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { error: \"Unauthorized\" },\n        { status: 401 }\n      );\n    }\n\n    // Get user from database\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: \"User not found\" },\n        { status: 404 }\n      );\n    }\n\n    const body = await request.json();\n    const { serviceId, orderType, orderData, packageId, subtotal, tax, total } = body;\n\n    // Generate unique order number\n    const orderNumber = `ORD-${Date.now()}-${Math.random().toString(36).substring(2, 7).toUpperCase()}`;\n\n    // Map orderType to ServiceType enum\n    const mapOrderTypeToServiceType = (orderType: string): string => {\n      // Map specific order types to ServiceType enum values\n      const mapping: Record<string, string> = {\n        'LLC_ANNUAL_REPORT': 'ANNUAL_REPORT',\n        'CORP_ANNUAL_REPORT': 'ANNUAL_REPORT',\n        'NONPROFIT_ANNUAL_REPORT': 'ANNUAL_REPORT',\n        'LP_ANNUAL_REPORT': 'ANNUAL_REPORT',\n        'LLC_FORMATION': 'LLC_FORMATION',\n        'CORP_FORMATION': 'CORP_FORMATION',\n        'NONPROFIT_FORMATION': 'CORP_FORMATION',\n        'REGISTERED_AGENT': 'REGISTERED_AGENT',\n        'EIN_APPLICATION': 'EIN_APPLICATION',\n        'OPERATING_AGREEMENT': 'OPERATING_AGREEMENT',\n        'CORPORATE_BYLAWS': 'CORPORATE_BYLAWS',\n        'CERTIFICATE_OF_STATUS': 'CERTIFICATE_OF_STATUS',\n        'FICTITIOUS_NAME_REGISTRATION': 'FICTITIOUS_NAME_REGISTRATION',\n        'DISSOLUTION': 'DISSOLUTION',\n        'REINSTATEMENT': 'REINSTATEMENT',\n        'NAME_RESERVATION': 'NAME_RESERVATION',\n      };\n      return mapping[orderType] || orderType;\n    };\n\n    const serviceType = mapOrderTypeToServiceType(orderType || 'LLC_FORMATION');\n\n    // Handle new service-based orders (with serviceId)\n    if (serviceId && orderData) {\n      console.log('[API /api/orders] Creating order with serviceId:', serviceId);\n      console.log('[API /api/orders] orderData:', orderData);\n\n      // Fetch service to get pricing\n      const service = await prisma.service.findUnique({\n        where: { id: serviceId },\n      });\n\n      console.log('[API /api/orders] Service found:', service?.name);\n\n      if (!service) {\n        console.error('[API /api/orders] Service not found for ID:', serviceId);\n        return NextResponse.json(\n          { error: \"Service not found\" },\n          { status: 404 }\n        );\n      }\n\n      // Fetch package if packageId is provided\n      let selectedPackage = null;\n      if (packageId) {\n        selectedPackage = await prisma.package.findUnique({\n          where: { id: packageId },\n        });\n      }\n\n      // Calculate total based on package or individual service\n      let orderTotal = 0;\n      let orderItems = [];\n\n      if (selectedPackage) {\n        // Package pricing\n        orderTotal = Number(selectedPackage.price) + Number(service.stateFee);\n\n        // Add package as line item\n        orderItems.push({\n          serviceType: orderType || \"LLC_FORMATION\",\n          description: `${selectedPackage.name} Package`,\n          quantity: 1,\n          unitPrice: Number(selectedPackage.price),\n          totalPrice: Number(selectedPackage.price),\n        });\n\n        // Add state fee\n        orderItems.push({\n          serviceType: orderType || \"LLC_FORMATION\",\n          description: \"Florida State Filing Fee\",\n          quantity: 1,\n          unitPrice: Number(service.stateFee),\n          totalPrice: Number(service.stateFee),\n        });\n\n        // Add rush fee if applicable\n        if (orderData.rushProcessing && service.rushFeeAvailable && Number(service.rushFee) > 0) {\n          orderTotal += Number(service.rushFee);\n          orderItems.push({\n            serviceType: \"EXPEDITED_PROCESSING\" as const,\n            description: \"Rush Processing Fee\",\n            quantity: 1,\n            unitPrice: Number(service.rushFee),\n            totalPrice: Number(service.rushFee),\n          });\n        }\n      } else {\n        // Individual service pricing\n        orderTotal = Number(service.totalPrice);\n        if (orderData.rushProcessing && service.rushFeeAvailable) {\n          orderTotal += Number(service.rushFee) || 0;\n        }\n\n        // Build order items for individual service\n        orderItems = [\n          // LegalOps Service Fee (store form data here)\n          {\n            serviceType: serviceType,\n            description: \"LegalOps Service Fee\",\n            quantity: 1,\n            unitPrice: Number(service.serviceFee),\n            totalPrice: Number(service.serviceFee),\n            additionalData: orderData, // Store the complete form data\n          },\n          // Florida State Filing Fee\n          {\n            serviceType: serviceType,\n            description: \"Florida State Filing Fee\",\n            quantity: 1,\n            unitPrice: Number(service.stateFee),\n            totalPrice: Number(service.stateFee),\n          },\n          // Registered Agent Fee (if applicable)\n          ...(Number(service.registeredAgentFee) > 0 ? [{\n            serviceType: \"REGISTERED_AGENT\" as const,\n            description: \"Registered Agent Service\",\n            quantity: 1,\n            unitPrice: Number(service.registeredAgentFee),\n            totalPrice: Number(service.registeredAgentFee),\n          }] : []),\n          // Rush Fee (if applicable)\n          ...(orderData.rushProcessing && service.rushFeeAvailable && Number(service.rushFee) > 0 ? [{\n            serviceType: \"EXPEDITED_PROCESSING\" as const,\n            description: \"Rush Processing Fee\",\n            quantity: 1,\n            unitPrice: Number(service.rushFee),\n            totalPrice: Number(service.rushFee),\n          }] : []),\n        ];\n      }\n\n      // Calculate RA renewal tracking\n      const includesRA = selectedPackage?.includesRA || false;\n      const raRenewalDate = includesRA ? new Date(Date.now() + 365 * 24 * 60 * 60 * 1000) : null; // 1 year from now\n      const raRenewalPrice = includesRA ? 125.00 : null; // $125/year renewal\n\n      console.log('[API /api/orders] About to create order with:', {\n        userId: user.id,\n        packageId,\n        orderNumber,\n        orderTotal,\n        includesRA,\n        orderItemsCount: orderItems.length,\n      });\n\n      // Create order with new schema AND order items for proper breakdown\n      const order = await prisma.order.create({\n        data: {\n          user: {\n            connect: { id: user.id },\n          },\n          ...(packageId && {\n            package: {\n              connect: { id: packageId },\n            },\n          }),\n          orderNumber,\n          orderStatus: \"PENDING\",\n          subtotal: orderTotal,\n          tax: 0,\n          total: orderTotal,\n          paymentStatus: \"PENDING\",\n          isRushOrder: orderData.rushProcessing || false,\n          includesRegisteredAgent: includesRA,\n          raRenewalDate: raRenewalDate,\n          raAutoRenew: includesRA, // Default to true if RA is included\n          raRenewalPrice: raRenewalPrice,\n          raRenewalNotificationSent: false,\n          orderItems: {\n            create: orderItems,\n          },\n        },\n      });\n\n      console.log('[API /api/orders] Order created successfully with ID:', order.id);\n\n      // Convert Decimal fields to numbers for JSON serialization\n      const orderResponse = {\n        ...order,\n        subtotal: Number(order.subtotal),\n        tax: Number(order.tax),\n        total: Number(order.total),\n      };\n\n      return NextResponse.json(\n        {\n          message: \"Order created successfully\",\n          order: orderResponse,\n          orderId: order.id,\n        },\n        { status: 201 }\n      );\n    }\n\n    // Fallback for old pattern (if needed for backward compatibility)\n    const { businessName, entityType, state } = body;\n    if (!businessName || !entityType || !orderType || !state) {\n      return NextResponse.json(\n        { error: \"Missing required fields\" },\n        { status: 400 }\n      );\n    }\n\n    // Calculate pricing based on entity type\n    let basePrice = 299.00;\n    if (entityType === 'NONPROFIT_CORPORATION') {\n      basePrice = 399.00;\n    } else if (entityType === 'PROFESSIONAL_LLC' || entityType === 'PROFESSIONAL_CORPORATION') {\n      basePrice = 349.00;\n    } else if (\n      entityType === 'LIMITED_PARTNERSHIP' ||\n      entityType === 'LIMITED_LIABILITY_PARTNERSHIP' ||\n      entityType === 'LIMITED_LIABILITY_LIMITED_PARTNERSHIP' ||\n      entityType === 'GENERAL_PARTNERSHIP'\n    ) {\n      basePrice = 279.00;\n    } else if (entityType === 'SOLE_PROPRIETORSHIP') {\n      basePrice = 149.00;\n    }\n\n    // Create order with old schema (for backward compatibility)\n    const order = await prisma.order.create({\n      data: {\n        userId: user.id,\n        orderNumber,\n        orderStatus: \"PENDING\",\n        subtotal: basePrice,\n        tax: 0,\n        total: basePrice,\n        paymentStatus: \"PENDING\",\n      },\n    });\n\n    return NextResponse.json(\n      {\n        message: \"Order created successfully\",\n        order,\n        orderId: order.id,\n      },\n      { status: 201 }\n    );\n  } catch (error) {\n    console.error(\"[API /api/orders] Error creating order:\", error);\n    console.error(\"[API /api/orders] Error details:\", {\n      message: error instanceof Error ? error.message : 'Unknown error',\n      stack: error instanceof Error ? error.stack : undefined,\n      error,\n    });\n    return NextResponse.json(\n      {\n        error: \"Failed to create order\",\n        details: error instanceof Error ? error.message : 'Unknown error',\n      },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\packages\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\risk\\assess\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2718,2721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2718,2721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: /api/risk/assess\n * \n * Assesses fraud risk for orders using AI\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/db';\nimport { aiRiskScoring, CustomerData, OrderData } from '@/lib/services/ai-risk-scoring';\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { orderId, userId, orderData } = body;\n\n    // Validate required fields\n    if (!orderId || !userId || !orderData) {\n      return NextResponse.json(\n        { error: 'Missing required fields: orderId, userId, orderData' },\n        { status: 400 }\n      );\n    }\n\n    // Get user data\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      include: {\n        orders: {\n          select: {\n            id: true,\n            paymentStatus: true,\n            createdAt: true\n          }\n        }\n      }\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    // Calculate account age in days\n    const accountAge = Math.floor(\n      (Date.now() - user.createdAt.getTime()) / (1000 * 60 * 60 * 24)\n    );\n\n    // Count previous orders and chargebacks\n    const previousOrders = user.orders.filter(o => o.paymentStatus === 'PAID').length;\n    const previousChargebacks = user.orders.filter(o => o.paymentStatus === 'REFUNDED').length;\n\n    // Prepare customer data for risk assessment\n    const customerData: CustomerData = {\n      id: user.id,\n      name: user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : undefined,\n      email: user.email,\n      phone: user.phone || undefined,\n      ipAddress: orderData.ipAddress,\n      userAgent: orderData.userAgent,\n      accountAge,\n      previousOrders,\n      previousChargebacks\n    };\n\n    // Prepare order data for risk assessment\n    const orderDataForAssessment: OrderData = {\n      amount: parseFloat(orderData.total),\n      services: orderData.services || [],\n      isRushOrder: orderData.isRushOrder || false,\n      paymentMethod: orderData.paymentMethod || 'stripe',\n      billingAddress: orderData.billingAddress\n    };\n\n    // Perform AI risk assessment\n    const assessment = await aiRiskScoring.assessRisk(\n      customerData,\n      orderDataForAssessment\n    );\n\n    // Save risk assessment to database\n    const savedAssessment = await prisma.riskAssessment.create({\n      data: {\n        orderId,\n        riskScore: assessment.riskScore,\n        riskLevel: assessment.riskLevel,\n        recommendation: assessment.recommendation,\n        aiReasoning: assessment.reasoning,\n        aiModel: 'gpt-4-turbo',\n        riskFactors: assessment.riskFactors as any,\n        \n        // Customer data snapshot\n        customerEmail: user.email,\n        customerName: customerData.name,\n        customerPhone: user.phone,\n        accountAge,\n        previousOrders,\n        previousChargebacks,\n        \n        // Order data snapshot\n        orderAmount: orderData.total,\n        paymentMethod: orderData.paymentMethod || 'stripe',\n        isRushOrder: orderData.isRushOrder || false,\n        \n        // Technical data\n        ipAddress: orderData.ipAddress,\n        userAgent: orderData.userAgent,\n        billingAddress: orderData.billingAddress,\n        \n        // Review status\n        requiresReview: assessment.requiresReview\n      }\n    });\n\n    // Update order with risk information\n    await prisma.order.update({\n      where: { id: orderId },\n      data: {\n        riskScore: assessment.riskScore,\n        riskLevel: assessment.riskLevel,\n        requiresReview: assessment.requiresReview,\n        ipAddress: orderData.ipAddress,\n        userAgent: orderData.userAgent,\n        isRushOrder: orderData.isRushOrder || false\n      }\n    });\n\n    return NextResponse.json({\n      success: true,\n      assessment: {\n        id: savedAssessment.id,\n        riskScore: assessment.riskScore,\n        riskLevel: assessment.riskLevel,\n        riskFactors: assessment.riskFactors,\n        recommendation: assessment.recommendation,\n        reasoning: assessment.reasoning,\n        requiresReview: assessment.requiresReview\n      }\n    });\n\n  } catch (error) {\n    console.error('Risk assessment error:', error);\n    return NextResponse.json(\n      { \n        error: 'Failed to assess risk',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * GET /api/risk/assess?orderId=xxx\n * \n * Retrieve existing risk assessment for an order\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const orderId = searchParams.get('orderId');\n\n    if (!orderId) {\n      return NextResponse.json(\n        { error: 'Missing orderId parameter' },\n        { status: 400 }\n      );\n    }\n\n    const assessment = await prisma.riskAssessment.findUnique({\n      where: { orderId },\n      include: {\n        order: {\n          select: {\n            orderNumber: true,\n            orderStatus: true,\n            total: true,\n            createdAt: true\n          }\n        }\n      }\n    });\n\n    if (!assessment) {\n      return NextResponse.json(\n        { error: 'Risk assessment not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      assessment\n    });\n\n  } catch (error) {\n    console.error('Error fetching risk assessment:', error);\n    return NextResponse.json(\n      { \n        error: 'Failed to fetch risk assessment',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\risk\\high-risk-orders\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[553,556],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[553,556],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Route: /api/risk/high-risk-orders\n * \n * Get list of high-risk orders requiring review\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/db';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const riskLevel = searchParams.get('riskLevel'); // Filter by risk level\n    const limit = parseInt(searchParams.get('limit') || '50');\n    const offset = parseInt(searchParams.get('offset') || '0');\n\n    // Build where clause\n    const where: any = {\n      requiresReview: true\n    };\n\n    if (riskLevel && ['LOW', 'MEDIUM', 'HIGH', 'CRITICAL'].includes(riskLevel)) {\n      where.riskLevel = riskLevel;\n    }\n\n    // Get high-risk orders\n    const assessments = await prisma.riskAssessment.findMany({\n      where,\n      include: {\n        order: {\n          select: {\n            id: true,\n            orderNumber: true,\n            orderStatus: true,\n            total: true,\n            createdAt: true,\n            user: {\n              select: {\n                id: true,\n                email: true,\n                firstName: true,\n                lastName: true,\n                phone: true\n              }\n            }\n          }\n        }\n      },\n      orderBy: {\n        createdAt: 'desc'\n      },\n      take: limit,\n      skip: offset\n    });\n\n    // Get total count\n    const totalCount = await prisma.riskAssessment.count({ where });\n\n    return NextResponse.json({\n      success: true,\n      assessments,\n      pagination: {\n        total: totalCount,\n        limit,\n        offset,\n        hasMore: offset + limit < totalCount\n      }\n    });\n\n  } catch (error) {\n    console.error('Error fetching high-risk orders:', error);\n    return NextResponse.json(\n      { \n        error: 'Failed to fetch high-risk orders',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * POST /api/risk/high-risk-orders\n * \n * Update review status for a risk assessment\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { assessmentId, reviewDecision, reviewNotes, reviewedBy } = body;\n\n    if (!assessmentId || !reviewDecision || !reviewedBy) {\n      return NextResponse.json(\n        { error: 'Missing required fields: assessmentId, reviewDecision, reviewedBy' },\n        { status: 400 }\n      );\n    }\n\n    // Validate review decision\n    if (!['APPROVED', 'DECLINED', 'VERIFIED', 'MONITORING'].includes(reviewDecision)) {\n      return NextResponse.json(\n        { error: 'Invalid reviewDecision. Must be: APPROVED, DECLINED, VERIFIED, or MONITORING' },\n        { status: 400 }\n      );\n    }\n\n    // Update risk assessment\n    const updatedAssessment = await prisma.riskAssessment.update({\n      where: { id: assessmentId },\n      data: {\n        reviewedAt: new Date(),\n        reviewedBy,\n        reviewDecision,\n        reviewNotes,\n        requiresReview: false // Mark as reviewed\n      },\n      include: {\n        order: true\n      }\n    });\n\n    // Update order status based on decision\n    if (reviewDecision === 'DECLINED') {\n      await prisma.order.update({\n        where: { id: updatedAssessment.orderId },\n        data: {\n          orderStatus: 'CANCELLED',\n          requiresReview: false,\n          reviewedAt: new Date(),\n          reviewedBy\n        }\n      });\n    } else if (reviewDecision === 'APPROVED' || reviewDecision === 'VERIFIED') {\n      await prisma.order.update({\n        where: { id: updatedAssessment.orderId },\n        data: {\n          requiresReview: false,\n          reviewedAt: new Date(),\n          reviewedBy\n        }\n      });\n    }\n\n    return NextResponse.json({\n      success: true,\n      assessment: updatedAssessment\n    });\n\n  } catch (error) {\n    console.error('Error updating risk assessment:', error);\n    return NextResponse.json(\n      { \n        error: 'Failed to update risk assessment',\n        details: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\services\\[slug]\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\services\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":10,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\n/**\n * GET /api/services\n * Fetch all active services\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const services = await prisma.service.findMany({\n      where: {\n        isActive: true,\n      },\n      orderBy: [\n        { isFeatured: 'desc' },\n        { displayOrder: 'asc' },\n        { name: 'asc' },\n      ],\n      select: {\n        id: true,\n        name: true,\n        slug: true,\n        orderType: true,\n        shortDescription: true,\n        totalPrice: true,\n        serviceFee: true,\n        stateFee: true,\n        icon: true,\n        isPopular: true,\n        isFeatured: true,\n        processingTime: true,\n        category: true,\n      },\n    });\n\n    // Convert Decimal fields to numbers for JSON serialization\n    const servicesResponse = services.map(service => ({\n      ...service,\n      totalPrice: Number(service.totalPrice),\n      serviceFee: Number(service.serviceFee),\n      stateFee: Number(service.stateFee),\n    }));\n\n    return NextResponse.json(servicesResponse);\n  } catch (error) {\n    console.error('Error fetching services:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch services' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\staff\\filings\\[id]\\review\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\stripe\\create-payment-intent\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\stripe\\webhook\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\test-db\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":4,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":34},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":33,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":33,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: NextRequest) {\n  try {\n    // Test 1: Check database connection\n    await prisma.$connect();\n    \n    // Test 2: Count existing users\n    const userCount = await prisma.user.count();\n    \n    // Test 3: Get all users (limit to 10 for safety)\n    const users = await prisma.user.findMany({\n      take: 10,\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n        role: true,\n        createdAt: true,\n      },\n    });\n    \n    // Test 4: Count orders\n    const orderCount = await prisma.order.count();\n    \n    // Test 5: Count documents\n    // `document` model may not exist; guard with try/catch below\n    let documentCount = 0;\n    try {\n      documentCount = await prisma.filingDocument.count();\n    } catch (e) {\n      // file/document model not present in schema\n      documentCount = 0;\n    }\n    \n    return NextResponse.json({\n      success: true,\n      message: 'Database connection successful!',\n      data: {\n        connection: 'Connected to Neon PostgreSQL',\n        statistics: {\n          totalUsers: userCount,\n          totalOrders: orderCount,\n          totalDocuments: documentCount,\n        },\n        users: users,\n      },\n      timestamp: new Date().toISOString(),\n    });\n  } catch (error) {\n    console.error('Database test error:', error);\n    \n    return NextResponse.json(\n      {\n        success: false,\n        message: 'Database connection failed',\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString(),\n      },\n      { status: 500 }\n    );\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    \n    // Create a test user\n    const user = await prisma.user.create({\n      data: {\n        email: body.email || `test-${Date.now()}@example.com`,\n        firstName: body.firstName || 'Test',\n        lastName: body.lastName || 'User',\n        passwordHash: body.password ? body.password : 'changeme',\n        role: 'INDIVIDUAL_CUSTOMER',\n      },\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n        role: true,\n        createdAt: true,\n      },\n    });\n    \n    return NextResponse.json({\n      success: true,\n      message: 'Test user created successfully!',\n      data: {\n        user: user,\n      },\n      timestamp: new Date().toISOString(),\n    });\n  } catch (error) {\n    console.error('User creation error:', error);\n    \n    return NextResponse.json(\n      {\n        success: false,\n        message: 'Failed to create test user',\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString(),\n      },\n      { status: 500 }\n    );\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\test-risk-assessment\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\test-upsells\\create-order\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":10,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\n/**\n * POST /api/test-upsells/create-order\n * Create a test individual service order for testing upsells\n */\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session || !session.user) {\n      return NextResponse.json(\n        { error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    // Find LLC Formation service\n    const llcService = await prisma.service.findFirst({\n      where: { slug: 'llc-formation' },\n    });\n\n    if (!llcService) {\n      return NextResponse.json(\n        { error: 'LLC Formation service not found' },\n        { status: 404 }\n      );\n    }\n\n    // Create order\n    const orderNumber = `TEST-${Date.now()}`;\n\n    const order = await prisma.order.create({\n      data: {\n        orderNumber,\n        userId: session.user.id,\n        subtotal: llcService.totalPrice,\n        tax: 0,\n        total: llcService.totalPrice,\n        paymentStatus: 'PENDING',\n        orderStatus: 'PENDING',\n        orderItems: {\n          create: [\n            {\n              serviceType: 'LLC_FORMATION',\n              description: 'Florida LLC Formation',\n              quantity: 1,\n              unitPrice: llcService.totalPrice,\n              totalPrice: llcService.totalPrice,\n            },\n          ],\n        },\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      orderId: order.id,\n      orderNumber: order.orderNumber,\n      total: Number(order.total),\n    });\n  } catch (error) {\n    console.error('Error creating test order:', error);\n    return NextResponse.json(\n      { error: 'Failed to create test order' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\user\\change-password\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\user\\info\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":12,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - User Info API\n * \n * GET /api/user/info - Get current user's information\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n        createdAt: true,\n        userType: true,\n        role: true,\n      }\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      user\n    });\n  } catch (error) {\n    console.error('Error fetching user info:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch user info' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\user\\profile\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'req' is defined but never used.","line":12,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextRequest, NextResponse } from \"next/server\";\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/lib/auth\";\nimport { prisma } from \"@/lib/db\";\nimport { z } from \"zod\";\n\nconst updateProfileSchema = z.object({\n  name: z.string().min(2, \"Name must be at least 2 characters\").optional(),\n  email: z.string().email(\"Invalid email address\").optional(),\n});\n\nexport async function GET(req: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: \"Unauthorized\" },\n        { status: 401 }\n      );\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { id: session.user.id },\n      select: {\n        id: true,\n        firstName: true,\n        lastName: true,\n        email: true,\n        role: true,\n        createdAt: true,\n        updatedAt: true,\n      },\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { error: \"User not found\" },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      user,\n    });\n  } catch (error) {\n    console.error(\"Profile fetch error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function PATCH(req: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: \"Unauthorized\" },\n        { status: 401 }\n      );\n    }\n\n    const body = await req.json();\n    const validatedData = updateProfileSchema.parse(body);\n\n    // Check if email is being changed and if it's already taken\n    if (validatedData.email) {\n      const existingUser = await prisma.user.findUnique({\n        where: { email: validatedData.email },\n      });\n\n      if (existingUser && existingUser.id !== session.user.id) {\n        return NextResponse.json(\n          { error: \"Email is already in use\" },\n          { status: 400 }\n        );\n      }\n    }\n\n    // Update user\n    const updatedUser = await prisma.user.update({\n      where: { id: session.user.id },\n      data: {\n        ...(validatedData.email && { email: validatedData.email }),\n      },\n      select: {\n        id: true,\n        firstName: true,\n        lastName: true,\n        email: true,\n        role: true,\n        updatedAt: true,\n      },\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: \"Profile updated successfully\",\n      user: updatedUser,\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: \"Invalid input\", details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    console.error(\"Profile update error:\", error);\n    return NextResponse.json(\n      { error: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\user\\settings\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'request' is defined but never used.","line":15,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":34}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - User Settings API\n * \n * GET /api/user/settings - Get user settings\n * POST /api/user/settings - Update user settings\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const user = await prisma.user.findUnique({\n      where: { email: session.user.email },\n      select: {\n        autoApproveMinorChanges: true,\n        autoApproveGrantedAt: true,\n        autoApproveAcknowledged: true,\n      }\n    });\n\n    if (!user) {\n      return NextResponse.json(\n        { success: false, error: 'User not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      settings: user\n    });\n\n  } catch (error) {\n    console.error('Error fetching user settings:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch settings' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    if (!session?.user?.email) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    const body = await request.json();\n    const { autoApproveMinorChanges, autoApproveAcknowledged } = body;\n\n    // Validate input\n    if (typeof autoApproveMinorChanges !== 'boolean') {\n      return NextResponse.json(\n        { success: false, error: 'Invalid input' },\n        { status: 400 }\n      );\n    }\n\n    // Update user settings\n    const updatedUser = await prisma.user.update({\n      where: { email: session.user.email },\n      data: {\n        autoApproveMinorChanges,\n        autoApproveAcknowledged: autoApproveAcknowledged || false,\n        autoApproveGrantedAt: autoApproveMinorChanges ? new Date() : null,\n      },\n      select: {\n        autoApproveMinorChanges: true,\n        autoApproveGrantedAt: true,\n        autoApproveAcknowledged: true,\n      }\n    });\n\n    console.log(`User ${session.user.email} ${autoApproveMinorChanges ? 'enabled' : 'disabled'} auto-approve for minor changes`);\n\n    return NextResponse.json({\n      success: true,\n      settings: updatedUser\n    });\n\n  } catch (error) {\n    console.error('Error updating user settings:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to update settings' },\n      { status: 500 }\n    );\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\api\\validate-address\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\auth\\signin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":41,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":41,"endColumn":19},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":233,"column":16,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8631,8666],"text":"\n            Don&apos;t have an account?"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8631,8666],"text":"\n            Don&lsquo;t have an account?"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8631,8666],"text":"\n            Don&#39;t have an account?"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8631,8666],"text":"\n            Don&rsquo;t have an account?"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, Suspense } from \"react\";\nimport { signIn } from \"next-auth/react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\n\n/**\n * Sign In Page - Jony Ive Design Philosophy\n * Principles: Clarity, Simplicity, Functionality First\n */\n\nfunction SignInForm() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const callbackUrl = searchParams?.get('callbackUrl') || '/dashboard';\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const result = await signIn(\"credentials\", {\n        email,\n        password,\n        redirect: false,\n      });\n\n      if (result?.error) {\n        setError(\"Invalid email or password\");\n      } else {\n        router.push(callbackUrl);\n        router.refresh();\n      }\n    } catch (error) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div\n      className=\"min-h-screen flex items-center justify-center page-enter\"\n      style={{\n        padding: '96px 24px',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}\n    >\n      <div className=\"w-full\" style={{ maxWidth: '480px' }}>\n\n        {/* Logo/Brand - Professional Legal Tech */}\n        <div className=\"text-center\" style={{ marginBottom: '48px' }}>\n          <div\n            className=\"inline-flex items-center justify-center\"\n            style={{\n              width: '64px',\n              height: '64px',\n              borderRadius: '16px',\n              background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n              boxShadow: '0 8px 24px rgba(14, 165, 233, 0.25)',\n              marginBottom: '24px'\n            }}\n          >\n            <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\">\n              <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\n              <polyline points=\"14 2 14 8 20 8\"/>\n              <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\n              <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\n              <polyline points=\"10 9 9 9 8 9\"/>\n            </svg>\n          </div>\n          <h1 className=\"font-semibold tracking-tight\" style={{ fontSize: '32px', marginBottom: '12px', color: '#0f172a' }}>\n            Welcome back\n          </h1>\n          <p style={{ fontSize: '16px', color: '#64748b' }}>\n            Sign in to your LegalOps account\n          </p>\n        </div>\n\n        {/* Main Card - Professional with subtle shadow */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '48px 40px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 20px 40px rgba(0, 0, 0, 0.08)',\n            border: '1px solid rgba(226, 232, 240, 0.8)'\n          }}\n        >\n          {/* Error Message - Subtle */}\n          {error && (\n            <div\n              className=\"rounded-lg text-center\"\n              style={{\n                marginBottom: '32px',\n                padding: '14px 18px',\n                background: '#fef2f2',\n                border: '1px solid #fecaca',\n                color: '#dc2626'\n              }}\n            >\n              <p style={{ fontSize: '14px', fontWeight: '500' }}>{error}</p>\n            </div>\n          )}\n\n          {/* Sign In Form - Apple/Notion Style: Minimal, HUGE Spacing */}\n          <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '28px' }}>\n\n            {/* Email Field */}\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block font-medium\"\n                style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n              >\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                className=\"w-full bg-white transition-all duration-200\"\n                style={{\n                  padding: '14px 16px',\n                  borderRadius: '10px',\n                  fontSize: '15px',\n                  border: '1.5px solid #e2e8f0',\n                  color: '#0f172a'\n                }}\n                placeholder=\"you@company.com\"\n                onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n              />\n            </div>\n\n            {/* Password Field */}\n            <div>\n              <label\n                htmlFor=\"password\"\n                className=\"block font-medium\"\n                style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n              >\n                Password\n              </label>\n              <input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"w-full bg-white transition-all duration-200\"\n                style={{\n                  padding: '14px 16px',\n                  borderRadius: '10px',\n                  fontSize: '15px',\n                  border: '1.5px solid #e2e8f0',\n                  color: '#0f172a'\n                }}\n                placeholder=\"Enter your password\"\n                onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n              />\n            </div>\n\n            {/* Submit Button - Professional gradient */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full text-white font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{\n                padding: '15px',\n                borderRadius: '10px',\n                fontSize: '15px',\n                marginTop: '12px',\n                background: loading ? '#94a3b8' : 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                boxShadow: loading ? 'none' : '0 4px 12px rgba(14, 165, 233, 0.3)',\n                border: 'none',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              }}\n              onMouseEnter={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.transform = 'translateY(-1px)';\n                  e.currentTarget.style.boxShadow = '0 6px 16px rgba(14, 165, 233, 0.4)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(14, 165, 233, 0.3)';\n                }\n              }}\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center\" style={{ gap: '10px' }}>\n                  <div className=\"animate-spin rounded-full border-2 border-white border-t-transparent\" style={{ width: '18px', height: '18px' }}></div>\n                  Signing in...\n                </span>\n              ) : (\n                \"Sign in\"\n              )}\n            </button>\n          </form>\n\n          {/* Security Badge - Trust indicator */}\n          <div className=\"flex items-center justify-center\" style={{ marginTop: '32px', gap: '8px' }}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#64748b\" strokeWidth=\"2\">\n              <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/>\n            </svg>\n            <span style={{ fontSize: '13px', color: '#64748b' }}>\n              256-bit SSL encrypted\n            </span>\n          </div>\n        </div>\n\n        {/* Divider - Subtle */}\n        <div className=\"flex items-center\" style={{ margin: '40px 0' }}>\n          <div className=\"flex-1\" style={{ borderTop: '1px solid #e2e8f0' }}></div>\n          <span style={{ padding: '0 16px', fontSize: '13px', color: '#94a3b8', fontWeight: '500' }}>OR</span>\n          <div className=\"flex-1\" style={{ borderTop: '1px solid #e2e8f0' }}></div>\n        </div>\n\n        {/* Sign Up Link - Professional */}\n        <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n          <p style={{ fontSize: '15px', color: '#64748b' }}>\n            Don't have an account?{\" \"}\n            <Link\n              href=\"/auth/signup\"\n              className=\"font-medium transition-colors duration-200\"\n              style={{ color: '#0ea5e9' }}\n              onMouseEnter={(e) => e.currentTarget.style.color = '#0284c7'}\n              onMouseLeave={(e) => e.currentTarget.style.color = '#0ea5e9'}\n            >\n              Create account ‚Üí\n            </Link>\n          </p>\n        </div>\n\n        {/* Back to Home - Subtle */}\n        <div className=\"text-center\">\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center transition-colors duration-200\"\n            style={{ gap: '6px', fontSize: '14px', color: '#94a3b8' }}\n            onMouseEnter={(e) => e.currentTarget.style.color = '#64748b'}\n            onMouseLeave={(e) => e.currentTarget.style.color = '#94a3b8'}\n          >\n            <svg style={{ width: '14px', height: '14px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n            Back to home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function SignInPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    }>\n      <SignInForm />\n    </Suspense>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\auth\\signout\\SignOutButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\auth\\signout\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\auth\\signup\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":66,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\n/**\n * Sign Up Page - Jony Ive Design Philosophy\n * Principles: Clarity, Simplicity, Single-page Form with Smart Sections\n */\n\nexport default function SignUpPage() {\n  const router = useRouter();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    // Validation\n    if (password !== confirmPassword) {\n      setError(\"Passwords do not match\");\n      return;\n    }\n\n    if (password.length < 6) {\n      setError(\"Password must be at least 6 characters\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Split full name into first and last name\n      const nameParts = name.trim().split(/\\s+/);\n      const firstName = nameParts[0] || '';\n      const lastName = nameParts.slice(1).join(' ') || '';\n\n      const response = await fetch(\"/api/auth/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          firstName,\n          lastName,\n          email,\n          password,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Registration failed\");\n        return;\n      }\n\n      // Registration successful, redirect to sign in\n      router.push(\"/auth/signin?registered=true\");\n    } catch (error) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div\n      className=\"min-h-screen flex items-center justify-center page-enter\"\n      style={{\n        padding: '96px 24px',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}\n    >\n      <div className=\"w-full\" style={{ maxWidth: '480px' }}>\n\n        {/* Logo/Brand - Professional Legal Tech */}\n        <div className=\"text-center\" style={{ marginBottom: '48px' }}>\n          <div\n            className=\"inline-flex items-center justify-center\"\n            style={{\n              width: '64px',\n              height: '64px',\n              borderRadius: '16px',\n              background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n              boxShadow: '0 8px 24px rgba(14, 165, 233, 0.25)',\n              marginBottom: '24px'\n            }}\n          >\n            <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\">\n              <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"/>\n              <polyline points=\"14 2 14 8 20 8\"/>\n              <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\n              <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\n              <polyline points=\"10 9 9 9 8 9\"/>\n            </svg>\n          </div>\n          <h1 className=\"font-semibold tracking-tight\" style={{ fontSize: '32px', marginBottom: '12px', color: '#0f172a' }}>\n            Create your account\n          </h1>\n          <p style={{ fontSize: '16px', color: '#64748b' }}>\n            Join LegalOps to streamline your legal operations\n          </p>\n        </div>\n\n        {/* Main Card - Professional with subtle shadow */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '48px 40px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 20px 40px rgba(0, 0, 0, 0.08)',\n            border: '1px solid rgba(226, 232, 240, 0.8)'\n          }}\n        >\n          {/* Error Message - Subtle */}\n          {error && (\n            <div\n              className=\"rounded-lg text-center\"\n              style={{\n                marginBottom: '32px',\n                padding: '14px 18px',\n                background: '#fef2f2',\n                border: '1px solid #fecaca',\n                color: '#dc2626'\n              }}\n            >\n              <p style={{ fontSize: '14px', fontWeight: '500' }}>{error}</p>\n            </div>\n          )}\n\n          {/* Sign Up Form - Professional with generous spacing */}\n          <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '28px' }}>\n\n            {/* Personal Information Section */}\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n              <div>\n                <label\n                  htmlFor=\"name\"\n                  className=\"block font-medium\"\n                  style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n                >\n                  Full name\n                </label>\n                <input\n                  id=\"name\"\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  required\n                  className=\"w-full bg-white transition-all duration-200\"\n                  style={{\n                    padding: '14px 16px',\n                    borderRadius: '10px',\n                    fontSize: '15px',\n                    border: '1.5px solid #e2e8f0',\n                    color: '#0f172a'\n                  }}\n                  placeholder=\"John Doe\"\n                  onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                  onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"email\"\n                  className=\"block font-medium\"\n                  style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n                >\n                  Email address\n                </label>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  className=\"w-full bg-white transition-all duration-200\"\n                  style={{\n                    padding: '14px 16px',\n                    borderRadius: '10px',\n                    fontSize: '15px',\n                    border: '1.5px solid #e2e8f0',\n                    color: '#0f172a'\n                  }}\n                  placeholder=\"you@company.com\"\n                  onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                  onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n                />\n              </div>\n            </div>\n\n            {/* Security Section - Subtle Divider */}\n            <div style={{ paddingTop: '28px', borderTop: '1px solid #f1f5f9', display: 'flex', flexDirection: 'column', gap: '24px' }}>\n              <div>\n                <label\n                  htmlFor=\"password\"\n                  className=\"block font-medium\"\n                  style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n                >\n                  Password\n                </label>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  className=\"w-full bg-white transition-all duration-200\"\n                  style={{\n                    padding: '14px 16px',\n                    borderRadius: '10px',\n                    fontSize: '15px',\n                    border: '1.5px solid #e2e8f0',\n                    color: '#0f172a'\n                  }}\n                  placeholder=\"Create a password\"\n                  onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                  onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n                />\n                <p style={{ marginTop: '8px', fontSize: '13px', color: '#64748b' }}>Minimum 6 characters</p>\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"confirmPassword\"\n                  className=\"block font-medium\"\n                  style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n                >\n                  Confirm password\n                </label>\n                <input\n                  id=\"confirmPassword\"\n                  type=\"password\"\n                  value={confirmPassword}\n                  onChange={(e) => setConfirmPassword(e.target.value)}\n                  required\n                  className=\"w-full bg-white transition-all duration-200\"\n                  style={{\n                    padding: '14px 16px',\n                    borderRadius: '10px',\n                    fontSize: '15px',\n                    border: '1.5px solid #e2e8f0',\n                    color: '#0f172a'\n                  }}\n                  placeholder=\"Confirm your password\"\n                  onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n                  onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n                />\n              </div>\n            </div>\n\n            {/* Submit Button - Professional gradient */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full text-white font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{\n                padding: '15px',\n                borderRadius: '10px',\n                fontSize: '15px',\n                marginTop: '12px',\n                background: loading ? '#94a3b8' : 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                boxShadow: loading ? 'none' : '0 4px 12px rgba(14, 165, 233, 0.3)',\n                border: 'none',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              }}\n              onMouseEnter={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.transform = 'translateY(-1px)';\n                  e.currentTarget.style.boxShadow = '0 6px 16px rgba(14, 165, 233, 0.4)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.transform = 'translateY(0)';\n                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(14, 165, 233, 0.3)';\n                }\n              }}\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center\" style={{ gap: '10px' }}>\n                  <div className=\"animate-spin rounded-full border-2 border-white border-t-transparent\" style={{ width: '18px', height: '18px' }}></div>\n                  Creating account...\n                </span>\n              ) : (\n                \"Create account\"\n              )}\n            </button>\n          </form>\n\n          {/* Security Badge - Trust indicator */}\n          <div className=\"flex items-center justify-center\" style={{ marginTop: '32px', gap: '8px' }}>\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#64748b\" strokeWidth=\"2\">\n              <path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\"/>\n            </svg>\n            <span style={{ fontSize: '13px', color: '#64748b' }}>\n              256-bit SSL encrypted\n            </span>\n          </div>\n        </div>\n\n        {/* Divider - Subtle */}\n        <div className=\"flex items-center\" style={{ margin: '40px 0' }}>\n          <div className=\"flex-1\" style={{ borderTop: '1px solid #e2e8f0' }}></div>\n          <span style={{ padding: '0 16px', fontSize: '13px', color: '#94a3b8', fontWeight: '500' }}>OR</span>\n          <div className=\"flex-1\" style={{ borderTop: '1px solid #e2e8f0' }}></div>\n        </div>\n\n        {/* Sign In Link - Professional */}\n        <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n          <p style={{ fontSize: '15px', color: '#64748b' }}>\n            Already have an account?{\" \"}\n            <Link\n              href=\"/auth/signin\"\n              className=\"font-medium transition-colors duration-200\"\n              style={{ color: '#0ea5e9' }}\n              onMouseEnter={(e) => e.currentTarget.style.color = '#0284c7'}\n              onMouseLeave={(e) => e.currentTarget.style.color = '#0ea5e9'}\n            >\n              Sign in ‚Üí\n            </Link>\n          </p>\n        </div>\n\n        {/* Back to Home - Subtle */}\n        <div className=\"text-center\">\n          <Link\n            href=\"/\"\n            className=\"inline-flex items-center transition-colors duration-200\"\n            style={{ gap: '6px', fontSize: '14px', color: '#94a3b8' }}\n            onMouseEnter={(e) => e.currentTarget.style.color = '#64748b'}\n            onMouseLeave={(e) => e.currentTarget.style.color = '#94a3b8'}\n          >\n            <svg style={{ width: '14px', height: '14px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n            Back to home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\auth\\verify\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":40,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":40,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function VerifyEmailPage() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    const token = searchParams.get(\"token\");\n\n    if (!token) {\n      setStatus(\"error\");\n      setMessage(\"No verification token provided\");\n      return;\n    }\n\n    // Verify the email\n    const verifyEmail = async () => {\n      try {\n        const response = await fetch(`/api/auth/verify-email?token=${token}`);\n        const data = await response.json();\n\n        if (response.ok) {\n          setStatus(\"success\");\n          setMessage(data.message || \"Email verified successfully!\");\n          \n          // Redirect to sign in after 3 seconds\n          setTimeout(() => {\n            router.push(\"/auth/signin?verified=true\");\n          }, 3000);\n        } else {\n          setStatus(\"error\");\n          setMessage(data.error || \"Verification failed\");\n        }\n      } catch (error) {\n        setStatus(\"error\");\n        setMessage(\"An error occurred during verification\");\n      }\n    };\n\n    verifyEmail();\n  }, [searchParams, router]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full\">\n        {/* Loading State */}\n        {status === \"loading\" && (\n          <div className=\"text-center\">\n            <div className=\"mb-6\">\n              <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto\"></div>\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Verifying Your Email\n            </h1>\n            <p className=\"text-gray-600\">\n              Please wait while we verify your email address...\n            </p>\n          </div>\n        )}\n\n        {/* Success State */}\n        {status === \"success\" && (\n          <div className=\"text-center\">\n            <div className=\"mb-6\">\n              <div className=\"bg-green-100 rounded-full p-4 inline-block\">\n                <svg className=\"w-16 h-16 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Email Verified! üéâ\n            </h1>\n            <p className=\"text-gray-600 mb-6\">\n              {message}\n            </p>\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n              <p className=\"text-sm text-blue-700\">\n                Redirecting to sign in page in 3 seconds...\n              </p>\n            </div>\n            <Link\n              href=\"/auth/signin\"\n              className=\"inline-block bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition shadow-lg hover:shadow-xl\"\n            >\n              Sign In Now\n            </Link>\n          </div>\n        )}\n\n        {/* Error State */}\n        {status === \"error\" && (\n          <div className=\"text-center\">\n            <div className=\"mb-6\">\n              <div className=\"bg-red-100 rounded-full p-4 inline-block\">\n                <svg className=\"w-16 h-16 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </div>\n            </div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Verification Failed\n            </h1>\n            <p className=\"text-gray-600 mb-6\">\n              {message}\n            </p>\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n              <p className=\"text-sm text-yellow-700 mb-2\">\n                <strong>Common reasons:</strong>\n              </p>\n              <ul className=\"text-sm text-yellow-700 text-left space-y-1\">\n                <li>‚Ä¢ Token has expired (valid for 24 hours)</li>\n                <li>‚Ä¢ Token has already been used</li>\n                <li>‚Ä¢ Invalid or malformed token</li>\n              </ul>\n            </div>\n            <div className=\"flex gap-4\">\n              <Link\n                href=\"/dashboard/profile\"\n                className=\"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition shadow-lg hover:shadow-xl text-center\"\n              >\n                Request New Link\n              </Link>\n              <Link\n                href=\"/\"\n                className=\"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition text-center\"\n              >\n                Go Home\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\checkout-example\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'disclaimerAccepted' is assigned a value but never used.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":28},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[500,503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[500,503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":199,"column":59,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7371,7652],"text":"\n                  Your order will be reviewed by our automated fraud prevention system \n                  before payment is processed. This protects both you and our business. \n                  If additional verification is needed, we&apos;ll contact you immediately.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7371,7652],"text":"\n                  Your order will be reviewed by our automated fraud prevention system \n                  before payment is processed. This protects both you and our business. \n                  If additional verification is needed, we&lsquo;ll contact you immediately.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7371,7652],"text":"\n                  Your order will be reviewed by our automated fraud prevention system \n                  before payment is processed. This protects both you and our business. \n                  If additional verification is needed, we&#39;ll contact you immediately.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7371,7652],"text":"\n                  Your order will be reviewed by our automated fraud prevention system \n                  before payment is processed. This protects both you and our business. \n                  If additional verification is needed, we&rsquo;ll contact you immediately.\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":294,"column":11,"nodeType":"JSXOpeningElement","endLine":297,"endColumn":12}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport ServiceRefusalDisclaimer from '@/components/ServiceRefusalDisclaimer';\nimport OrderDeclinedMessage from '@/components/OrderDeclinedMessage';\n\nexport default function CheckoutExamplePage() {\n  const [step, setStep] = useState<'disclaimer' | 'checkout' | 'processing' | 'declined' | 'verification' | 'success'>('disclaimer');\n  const [disclaimerAccepted, setDisclaimerAccepted] = useState(false);\n  const [orderResult, setOrderResult] = useState<any>(null);\n\n  // Example order data\n  const orderData = {\n    subtotal: 299.00,\n    tax: 20.93,\n    total: 319.93,\n    services: ['LLC_FORMATION'],\n    paymentMethod: 'credit_card',\n    isRushOrder: false,\n    billingAddress: {\n      street: '123 Main St',\n      city: 'Miami',\n      state: 'FL',\n      zip: '33101'\n    }\n  };\n\n  const handleDisclaimerAccept = () => {\n    setDisclaimerAccepted(true);\n    setStep('checkout');\n  };\n\n  const handlePlaceOrder = async () => {\n    setStep('processing');\n\n    try {\n      // Call the risk-checking order creation API\n      const response = await fetch('/api/orders/create-with-risk-check', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          userId: 'test-user-id', // TODO: Get from session\n          orderData\n        })\n      });\n\n      const result = await response.json();\n      setOrderResult(result);\n\n      if (!response.ok || result.declined) {\n        // Order was DECLINED due to fraud risk\n        setStep('declined');\n      } else if (result.requiresVerification) {\n        // Order requires VERIFICATION\n        setStep('verification');\n      } else if (result.proceedWithPayment) {\n        // Order APPROVED - proceed to payment\n        // In production, this would redirect to Stripe checkout\n        console.log('‚úÖ Proceeding to payment for order:', result.orderNumber);\n        \n        // Simulate payment processing\n        setTimeout(() => {\n          setStep('success');\n        }, 2000);\n      }\n    } catch (error) {\n      console.error('Order creation failed:', error);\n      alert('An error occurred. Please try again.');\n      setStep('checkout');\n    }\n  };\n\n  // ========================================================================\n  // STEP 1: Service Refusal Disclaimer\n  // ========================================================================\n  if (step === 'disclaimer') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\n            Checkout - Step 1 of 3\n          </h1>\n\n          <ServiceRefusalDisclaimer \n            onAccept={handleDisclaimerAccept}\n            required={true}\n          />\n\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Order Summary</h2>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between\">\n                <span>LLC Formation</span>\n                <span>${orderData.subtotal.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-gray-600\">\n                <span>Tax</span>\n                <span>${orderData.tax.toFixed(2)}</span>\n              </div>\n              <div className=\"border-t pt-2 flex justify-between font-bold text-lg\">\n                <span>Total</span>\n                <span>${orderData.total.toFixed(2)}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ========================================================================\n  // STEP 2: Checkout Form\n  // ========================================================================\n  if (step === 'checkout') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\n            Checkout - Step 2 of 3\n          </h1>\n\n          {/* Disclaimer Accepted Indicator */}\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex items-center gap-3\">\n            <svg className=\"w-6 h-6 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-green-800 text-sm font-medium\">\n              Service agreement accepted\n            </span>\n          </div>\n\n          {/* Order Summary */}\n          <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Order Summary</h2>\n            <div className=\"space-y-2 text-sm mb-6\">\n              <div className=\"flex justify-between\">\n                <span>LLC Formation</span>\n                <span>${orderData.subtotal.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-gray-600\">\n                <span>Tax</span>\n                <span>${orderData.tax.toFixed(2)}</span>\n              </div>\n              <div className=\"border-t pt-2 flex justify-between font-bold text-lg\">\n                <span>Total</span>\n                <span>${orderData.total.toFixed(2)}</span>\n              </div>\n            </div>\n\n            {/* Payment Form (Simplified) */}\n            <div className=\"border-t pt-6\">\n              <h3 className=\"font-semibold mb-4\">Payment Information</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Card Number\n                  </label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"4111 1111 1111 1111\"\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Expiry\n                    </label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"MM/YY\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      CVV\n                    </label>\n                    <input\n                      type=\"text\"\n                      placeholder=\"123\"\n                      className=\"w-full px-4 py-2 border border-gray-300 rounded-lg\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Important Notice */}\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-2xl\">üîí</div>\n              <div className=\"text-sm text-yellow-800\">\n                <p className=\"font-semibold mb-1\">Fraud Prevention Notice</p>\n                <p>\n                  Your order will be reviewed by our automated fraud prevention system \n                  before payment is processed. This protects both you and our business. \n                  If additional verification is needed, we'll contact you immediately.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Place Order Button */}\n          <button\n            onClick={handlePlaceOrder}\n            className=\"w-full px-6 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-bold text-lg\"\n          >\n            Review Order & Proceed to Payment\n          </button>\n\n          <p className=\"text-xs text-gray-600 text-center mt-4\">\n            By clicking above, you agree that your order will be reviewed for fraud prevention \n            and may be declined at our discretion.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // ========================================================================\n  // STEP 3: Processing (Risk Assessment Running)\n  // ========================================================================\n  if (step === 'processing') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-6\">\n        <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center\">\n          <div className=\"text-6xl mb-4 animate-pulse\">üîç</div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            Reviewing Your Order\n          </h2>\n          <p className=\"text-gray-600 mb-6\">\n            Our fraud prevention system is analyzing your order. This will only take a moment...\n          </p>\n          <div className=\"flex justify-center\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ========================================================================\n  // ORDER DECLINED\n  // ========================================================================\n  if (step === 'declined') {\n    return (\n      <OrderDeclinedMessage\n        reason=\"fraud_risk\"\n        orderNumber={orderResult?.orderNumber}\n        onContactSupport={() => {\n          alert('Opening support contact form...');\n        }}\n      />\n    );\n  }\n\n  // ========================================================================\n  // VERIFICATION REQUIRED\n  // ========================================================================\n  if (step === 'verification') {\n    return (\n      <OrderDeclinedMessage\n        reason=\"verification_required\"\n        orderNumber={orderResult?.orderNumber}\n        onContactSupport={() => {\n          alert('Opening support contact form...');\n        }}\n      />\n    );\n  }\n\n  // ========================================================================\n  // SUCCESS\n  // ========================================================================\n  if (step === 'success') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-6\">\n        <div className=\"max-w-2xl w-full bg-white rounded-lg shadow-lg p-8 text-center\">\n          <div className=\"text-6xl mb-4\">‚úÖ</div>\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            Order Successful!\n          </h2>\n          <p className=\"text-gray-600 mb-6\">\n            Your order has been approved and payment has been processed.\n          </p>\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-6 mb-6\">\n            <div className=\"text-sm text-green-800\">\n              <p className=\"font-semibold mb-2\">Order Number: {orderResult?.orderNumber}</p>\n              <p>Risk Score: {orderResult?.riskScore}/100 ({orderResult?.riskLevel})</p>\n            </div>\n          </div>\n          <a\n            href=\"/\"\n            className=\"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold\"\n          >\n            Return to Dashboard\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\checkout-router\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\checkout\\[orderId]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'OrderSummaryCard' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":26},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cardBase' is defined but never used.","line":12,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'updatingOrder' is assigned a value but never used.","line":66,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":66,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":109,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":109,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":171,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":171,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'price' is defined but never used.","line":178,"column":55,"nodeType":null,"messageId":"unusedVar","endLine":178,"endColumn":60},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":214,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":214,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":287,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":287,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'price' is defined but never used.","line":294,"column":74,"nodeType":null,"messageId":"unusedVar","endLine":294,"endColumn":79},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":332,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":332,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":782,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[30592,30652],"text":"\n                      What&apos;s Included:\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[30592,30652],"text":"\n                      What&lsquo;s Included:\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[30592,30652],"text":"\n                      What&#39;s Included:\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[30592,30652],"text":"\n                      What&rsquo;s Included:\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":921,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[37200,37308],"text":"\n                      If we can&apos;t complete your filing, we'll refund your service fee.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[37200,37308],"text":"\n                      If we can&lsquo;t complete your filing, we'll refund your service fee.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[37200,37308],"text":"\n                      If we can&#39;t complete your filing, we'll refund your service fee.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[37200,37308],"text":"\n                      If we can&rsquo;t complete your filing, we'll refund your service fee.\n                    "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":921,"column":59,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[37200,37308],"text":"\n                      If we can't complete your filing, we&apos;ll refund your service fee.\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[37200,37308],"text":"\n                      If we can't complete your filing, we&lsquo;ll refund your service fee.\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[37200,37308],"text":"\n                      If we can't complete your filing, we&#39;ll refund your service fee.\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[37200,37308],"text":"\n                      If we can't complete your filing, we&rsquo;ll refund your service fee.\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport { ShieldCheck, Lock, AlertCircle } from 'lucide-react';\nimport StripePaymentForm from '@/components/StripePaymentForm';\nimport { ProgressSteps } from '@/components/legalops/checkout/ProgressSteps';\nimport { OrderSummaryCard } from '@/components/legalops/cards/OrderSummaryCard';\nimport { cn, cardBase } from '@/components/legalops/theme';\nimport { CheckoutServiceUpsells } from '@/components/CheckoutServiceUpsells';\n\nconst stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY || '');\n\ninterface OrderItem {\n  id: string;\n  serviceType: string;\n  description: string;\n  quantity: number;\n  unitPrice: number;\n  totalPrice: number;\n}\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  description: string;\n  features: string[];\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  subtotal: number;\n  tax: number;\n  total: number;\n  paymentStatus: string;\n  orderStatus: string;\n  orderItems?: OrderItem[];\n  package?: Package | null;\n  packageId?: string | null;\n}\n\nexport default function CheckoutPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session } = useSession();\n  const orderId = (params?.orderId as string) || '';\n\n  const [order, setOrder] = useState<Order | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [acceptedTerms, setAcceptedTerms] = useState(false);\n  const [clientSecret, setClientSecret] = useState<string | null>(null);\n  const [addedUpsells, setAddedUpsells] = useState<string[]>([]);\n  const [updatingOrder, setUpdatingOrder] = useState(false);\n\n  useEffect(() => {\n    if (!orderId) {\n      setError('Order ID not found');\n      setLoading(false);\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const data = await response.json();\n          setOrder(data);\n\n          // For authenticated orders, verify the user owns the order\n          if (data.userId && session?.user?.id && data.userId !== session.user.id) {\n            setError('Unauthorized access to this order');\n            setLoading(false);\n            return;\n          }\n\n          // Create payment intent\n          const paymentResponse = await fetch('/api/stripe/create-payment-intent', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              orderId,\n              amount: data.total,\n              description: `Order ${data.orderNumber}`,\n            }),\n          });\n\n          if (paymentResponse.ok) {\n            const paymentData = await paymentResponse.json();\n            setClientSecret(paymentData.clientSecret);\n          } else {\n            setError('Failed to initialize payment');\n          }\n        } else {\n          setError('Order not found');\n        }\n      } catch (err) {\n        setError('Failed to load order');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [session, orderId, router]);\n\n  const handlePaymentSuccess = () => {\n    router.push(`/order-confirmation/${orderId}`);\n  };\n\n  const handlePaymentError = (errorMessage: string) => {\n    setError(errorMessage);\n  };\n\n  const handleAddUpsell = async (upsellId: string, price: number, serviceType?: string) => {\n    if (addedUpsells.includes(upsellId)) {\n      return; // Already added\n    }\n\n    setUpdatingOrder(true);\n    try {\n      const response = await fetch(`/api/orders/${orderId}/add-items`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          items: [\n            {\n              description: upsellId.replace(/-/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase()),\n              price,\n              serviceType: serviceType || 'REGISTERED_AGENT',\n            },\n          ],\n        }),\n      });\n\n      if (response.ok) {\n        const updatedOrder = await response.json();\n        setOrder(updatedOrder);\n        setAddedUpsells([...addedUpsells, upsellId]);\n\n        // Update payment intent with new amount\n        const paymentResponse = await fetch('/api/stripe/create-payment-intent', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            orderId,\n            amount: updatedOrder.total,\n            description: `Order ${updatedOrder.orderNumber}`,\n          }),\n        });\n\n        if (paymentResponse.ok) {\n          const paymentData = await paymentResponse.json();\n          setClientSecret(paymentData.clientSecret);\n        }\n      } else {\n        setError('Failed to add service to order');\n      }\n    } catch (err) {\n      setError('Failed to add service to order');\n    } finally {\n      setUpdatingOrder(false);\n    }\n  };\n\n  const handleRemoveUpsell = async (upsellId: string, price: number) => {\n    setUpdatingOrder(true);\n    try {\n      const description = upsellId.replace(/-/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase());\n\n      const response = await fetch(`/api/orders/${orderId}/remove-items`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          itemDescriptions: [description],\n        }),\n      });\n\n      if (response.ok) {\n        const updatedOrder = await response.json();\n        setOrder(updatedOrder);\n        setAddedUpsells(addedUpsells.filter((id) => id !== upsellId));\n\n        // Update payment intent with new amount\n        const paymentResponse = await fetch('/api/stripe/create-payment-intent', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            orderId,\n            amount: updatedOrder.total,\n            description: `Order ${updatedOrder.orderNumber}`,\n          }),\n        });\n\n        if (paymentResponse.ok) {\n          const paymentData = await paymentResponse.json();\n          setClientSecret(paymentData.clientSecret);\n        }\n      } else {\n        setError('Failed to remove service from order');\n      }\n    } catch (err) {\n      setError('Failed to remove service from order');\n    } finally {\n      setUpdatingOrder(false);\n    }\n  };\n\n  const handleAddBundle = async (bundleId: string, itemIds: string[], price: number, itemServiceTypes?: Record<string, string>) => {\n    setUpdatingOrder(true);\n    try {\n      // Check if any individual items from the bundle are already added\n      const alreadyAddedItems = itemIds.filter((id) => addedUpsells.includes(id));\n\n      // If any individual items are already added, remove them first\n      if (alreadyAddedItems.length > 0) {\n        const descriptionsToRemove = alreadyAddedItems.map((id) =>\n          id.replace(/-/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())\n        );\n\n        const removeResponse = await fetch(`/api/orders/${orderId}/remove-items`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            itemDescriptions: descriptionsToRemove,\n          }),\n        });\n\n        if (!removeResponse.ok) {\n          setError('Failed to update order');\n          setUpdatingOrder(false);\n          return;\n        }\n\n        // Update local state to remove individual items\n        setAddedUpsells(addedUpsells.filter((id) => !alreadyAddedItems.includes(id)));\n      }\n\n      // Now add the bundle\n      const items = itemIds.map((id) => ({\n        description: id.replace(/-/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase()),\n        price: price / itemIds.length, // Distribute bundle price evenly\n        serviceType: itemServiceTypes?.[id] || 'REGISTERED_AGENT',\n      }));\n\n      const response = await fetch(`/api/orders/${orderId}/add-items`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ items }),\n      });\n\n      if (response.ok) {\n        const updatedOrder = await response.json();\n        setOrder(updatedOrder);\n        setAddedUpsells([...addedUpsells.filter((id) => !alreadyAddedItems.includes(id)), ...itemIds]);\n\n        // Update payment intent\n        const paymentResponse = await fetch('/api/stripe/create-payment-intent', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            orderId,\n            amount: updatedOrder.total,\n            description: `Order ${updatedOrder.orderNumber}`,\n          }),\n        });\n\n        if (paymentResponse.ok) {\n          const paymentData = await paymentResponse.json();\n          setClientSecret(paymentData.clientSecret);\n        }\n      } else {\n        setError('Failed to add bundle to order');\n      }\n    } catch (err) {\n      setError('Failed to add bundle to order');\n    } finally {\n      setUpdatingOrder(false);\n    }\n  };\n\n  const handleRemoveBundle = async (bundleId: string, itemIds: string[], price: number) => {\n    setUpdatingOrder(true);\n    try {\n      const descriptions = itemIds.map((id) =>\n        id.replace(/-/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())\n      );\n\n      const response = await fetch(`/api/orders/${orderId}/remove-items`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          itemDescriptions: descriptions,\n        }),\n      });\n\n      if (response.ok) {\n        const updatedOrder = await response.json();\n        setOrder(updatedOrder);\n        setAddedUpsells(addedUpsells.filter((id) => !itemIds.includes(id)));\n\n        // Update payment intent\n        const paymentResponse = await fetch('/api/stripe/create-payment-intent', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            orderId,\n            amount: updatedOrder.total,\n            description: `Order ${updatedOrder.orderNumber}`,\n          }),\n        });\n\n        if (paymentResponse.ok) {\n          const paymentData = await paymentResponse.json();\n          setClientSecret(paymentData.clientSecret);\n        }\n      } else {\n        setError('Failed to remove bundle from order');\n      }\n    } catch (err) {\n      setError('Failed to remove bundle from order');\n    } finally {\n      setUpdatingOrder(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div\n            className=\"w-16 h-16 rounded-full animate-spin mx-auto mb-6\"\n            style={{\n              border: '4px solid #e2e8f0',\n              borderTopColor: '#0ea5e9',\n            }}\n          />\n          <p className=\"text-slate-600 font-medium\" style={{ fontSize: '18px' }}>\n            Loading checkout...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\">\n        <div\n          className=\"rounded-xl bg-white text-center\"\n          style={{\n            border: '2px solid #ef4444',\n            boxShadow: '0 4px 12px rgba(239, 68, 68, 0.15)',\n            padding: '48px',\n            maxWidth: '500px',\n          }}\n        >\n          <AlertCircle className=\"w-16 h-16 text-red-600 mx-auto mb-4\" />\n          <h2 className=\"font-bold text-red-900 mb-2\" style={{ fontSize: '24px' }}>\n            Order Not Found\n          </h2>\n          <p className=\"text-red-700\" style={{ fontSize: '16px' }}>\n            {error || 'The order you are looking for could not be found.'}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const checkoutSteps = [\n    { id: 'review', label: 'Review Order', description: 'Verify details' },\n    { id: 'payment', label: 'Payment', description: 'Secure checkout' },\n    { id: 'confirmation', label: 'Confirmation', description: 'Order complete' },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\" style={{ padding: '48px 24px' }}>\n      <div className=\"w-full max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-12 text-center\">\n          <h1 className=\"font-bold text-slate-900 mb-3\" style={{ fontSize: '40px', lineHeight: '1.2' }}>\n            Secure Checkout\n          </h1>\n          <p className=\"text-slate-600\" style={{ fontSize: '18px', lineHeight: '1.6' }}>\n            Order #{order.orderNumber}\n          </p>\n        </div>\n\n        {/* Progress Steps */}\n        <div className=\"mb-16\">\n          <ProgressSteps steps={checkoutSteps} currentStep={2} />\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3\" style={{ gap: '40px' }}>\n          {/* Main Content */}\n          <div className=\"lg:col-span-2\">\n            {/* Upsells - Only show for individual service orders (not packages) */}\n            {!order.package && order.orderItems && order.orderItems.length > 0 && (\n              <CheckoutServiceUpsells\n                serviceType={order.orderItems[0].serviceType}\n                onAddUpsell={handleAddUpsell}\n                onRemoveUpsell={handleRemoveUpsell}\n                onAddBundle={handleAddBundle}\n                onRemoveBundle={handleRemoveBundle}\n                addedUpsells={addedUpsells}\n              />\n            )}\n\n            {/* Service Agreement & Fraud Protection */}\n            <div\n              className=\"rounded-xl bg-white hover:shadow-lg transition-all duration-300\"\n              style={{\n                border: '1px solid #e2e8f0',\n                borderLeft: '4px solid #0ea5e9',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n                padding: '32px',\n                marginBottom: '48px',\n              }}\n            >\n              <h2 className=\"font-semibold text-slate-900 mb-8\" style={{ fontSize: '24px', lineHeight: '1.4' }}>\n                Service Agreement & Fraud Protection\n              </h2>\n\n              {/* Right to Refuse Service */}\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-sky-50 to-blue-50 hover:shadow-lg transition-all duration-300\"\n                style={{\n                  border: '2px solid #0ea5e9',\n                  boxShadow: '0 4px 12px rgba(14, 165, 233, 0.1)',\n                  padding: '24px',\n                  marginBottom: '32px',\n                }}\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0\"\n                    style={{\n                      background: 'linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%)',\n                      border: '2px solid #0ea5e9',\n                      boxShadow: '0 2px 8px rgba(14, 165, 233, 0.2)',\n                    }}\n                  >\n                    <ShieldCheck className=\"w-6 h-6 text-sky-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-sky-900 mb-2\" style={{ fontSize: '18px' }}>\n                      Right to Refuse Service\n                    </h3>\n                    <p className=\"text-sky-900\" style={{ fontSize: '15px', lineHeight: '1.6' }}>\n                      LegalOps reserves the right to refuse service to any customer at any time for any reason. If your order is declined, you will not be charged. We use advanced fraud detection to protect our business and customers.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* No Guarantee */}\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-amber-50 to-orange-50 hover:shadow-lg transition-all duration-300\"\n                style={{\n                  border: '2px solid #f59e0b',\n                  boxShadow: '0 4px 12px rgba(245, 158, 11, 0.1)',\n                  padding: '24px',\n                  marginBottom: '32px',\n                }}\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0\"\n                    style={{\n                      background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n                      border: '2px solid #f59e0b',\n                      boxShadow: '0 2px 8px rgba(245, 158, 11, 0.2)',\n                    }}\n                  >\n                    <AlertCircle className=\"w-6 h-6 text-amber-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-amber-900 mb-2\" style={{ fontSize: '18px' }}>\n                      No Guarantee\n                    </h3>\n                    <p className=\"text-amber-900\" style={{ fontSize: '15px', lineHeight: '1.6' }}>\n                      While we strive for accuracy, we cannot guarantee the acceptance of your filing by the Florida Department of State. If your filing is rejected, we will work with you to resolve the issue at no additional cost.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Fraud Detection */}\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-emerald-50 to-green-50 hover:shadow-lg transition-all duration-300\"\n                style={{\n                  border: '2px solid #10b981',\n                  boxShadow: '0 4px 12px rgba(16, 185, 129, 0.1)',\n                  padding: '24px',\n                  marginBottom: '32px',\n                }}\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0\"\n                    style={{\n                      background: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)',\n                      border: '2px solid #10b981',\n                      boxShadow: '0 2px 8px rgba(16, 185, 129, 0.2)',\n                    }}\n                  >\n                    <Lock className=\"w-6 h-6 text-emerald-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-emerald-900 mb-2\" style={{ fontSize: '18px' }}>\n                      Fraud Detection\n                    </h3>\n                    <p className=\"text-emerald-900\" style={{ fontSize: '15px', lineHeight: '1.6' }}>\n                      We use industry-standard fraud detection tools to verify all orders. This may include IP verification, address validation, and payment method verification. These checks help protect against fraudulent transactions.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Terms Acceptance */}\n              <div\n                className=\"pt-6 mt-6\"\n                style={{ borderTop: '2px solid #e2e8f0' }}\n              >\n                <label className=\"flex items-start cursor-pointer group\">\n                  <input\n                    type=\"checkbox\"\n                    checked={acceptedTerms}\n                    onChange={(e) => setAcceptedTerms(e.target.checked)}\n                    className=\"w-6 h-6 text-sky-600 rounded-lg flex-shrink-0 cursor-pointer\"\n                    style={{\n                      border: '2px solid #cbd5e1',\n                      marginTop: '4px',\n                      marginRight: '16px',\n                    }}\n                  />\n                  <span className=\"text-slate-700 group-hover:text-slate-900 transition-colors\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                    I understand and accept the service agreement, fraud protection policies, and terms above\n                  </span>\n                </label>\n                {!acceptedTerms && (\n                  <p className=\"text-red-600 ml-10 mt-2\" style={{ fontSize: '14px' }}>\n                    ‚ö†Ô∏è You must accept the terms to proceed with payment\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Payment Method */}\n            <div\n              className=\"rounded-xl bg-white hover:shadow-lg transition-all duration-300\"\n              style={{\n                border: '1px solid #e2e8f0',\n                borderLeft: '4px solid #10b981',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n                padding: '32px',\n                marginBottom: '48px',\n              }}\n            >\n              <h2 className=\"font-semibold text-slate-900 mb-8\" style={{ fontSize: '24px', lineHeight: '1.4' }}>\n                Payment Method\n              </h2>\n\n              {!acceptedTerms ? (\n                <div\n                  className=\"text-center rounded-xl bg-gradient-to-br from-slate-50 to-slate-100\"\n                  style={{\n                    border: '2px dashed #cbd5e1',\n                    padding: '48px 24px',\n                  }}\n                >\n                  <div\n                    className=\"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6\"\n                    style={{\n                      background: 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%)',\n                      border: '3px solid #94a3b8',\n                      boxShadow: '0 4px 12px rgba(148, 163, 184, 0.3)',\n                    }}\n                  >\n                    <Lock className=\"w-10 h-10 text-slate-600\" />\n                  </div>\n                  <p className=\"text-slate-600 font-medium\" style={{ fontSize: '16px' }}>\n                    Please accept the terms above to proceed with payment\n                  </p>\n                </div>\n              ) : clientSecret && stripePromise ? (\n                <Elements\n                  stripe={stripePromise}\n                  options={{\n                    clientSecret,\n                    appearance: {\n                      theme: 'stripe',\n                      variables: {\n                        colorPrimary: '#0ea5e9',\n                        colorBackground: '#ffffff',\n                        colorText: '#1e293b',\n                        colorDanger: '#ef4444',\n                        fontFamily: 'system-ui, sans-serif',\n                        spacingUnit: '4px',\n                        borderRadius: '12px',\n                      },\n                      rules: {\n                        '.Tab': {\n                          border: '2px solid #cbd5e1',\n                          borderRadius: '12px',\n                          boxShadow: '0 3px 10px rgba(100, 116, 139, 0.15)',\n                          padding: '14px 18px',\n                          transition: 'all 0.3s ease',\n                          background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\n                        },\n                        '.Tab:hover': {\n                          borderColor: '#0ea5e9',\n                          boxShadow: '0 5px 15px rgba(14, 165, 233, 0.25)',\n                          transform: 'translateY(-2px)',\n                          background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n                        },\n                        '.Tab--selected': {\n                          borderColor: '#0ea5e9',\n                          borderWidth: '3px',\n                          boxShadow: '0 6px 18px rgba(14, 165, 233, 0.35)',\n                          background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\n                        },\n                        '.Tab--selected:hover': {\n                          boxShadow: '0 8px 22px rgba(14, 165, 233, 0.4)',\n                        },\n                        '.TabIcon': {\n                          background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n                          border: '2px solid #0ea5e9',\n                          boxShadow: '0 3px 8px rgba(14, 165, 233, 0.25)',\n                          borderRadius: '10px',\n                          padding: '8px',\n                          display: 'inline-flex !important',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          width: '40px',\n                          height: '40px',\n                          marginRight: '12px',\n                        },\n                        '.TabIcon--selected': {\n                          background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\n                          borderColor: '#0369a1',\n                          boxShadow: '0 4px 10px rgba(14, 165, 233, 0.35)',\n                        },\n                        '.TabIcon svg': {\n                          display: 'block !important',\n                          width: '24px',\n                          height: '24px',\n                        },\n                        '.TabLabel': {\n                          fontWeight: '600',\n                          color: '#475569',\n                        },\n                        '.Tab--selected .TabLabel': {\n                          color: '#0369a1',\n                          fontWeight: '700',\n                        },\n                        '.Input': {\n                          borderRadius: '10px',\n                          border: '2px solid #e2e8f0',\n                          padding: '14px',\n                          boxShadow: '0 2px 6px rgba(0, 0, 0, 0.06)',\n                          transition: 'all 0.2s ease',\n                        },\n                        '.Input:hover': {\n                          borderColor: '#cbd5e1',\n                          boxShadow: '0 3px 8px rgba(0, 0, 0, 0.08)',\n                        },\n                        '.Input:focus': {\n                          borderColor: '#0ea5e9',\n                          boxShadow: '0 0 0 4px rgba(14, 165, 233, 0.15)',\n                        },\n                      },\n                    },\n                  }}\n                >\n                  <StripePaymentForm\n                    orderId={orderId}\n                    amount={order.total}\n                    onSuccess={handlePaymentSuccess}\n                    onError={handlePaymentError}\n                  />\n                </Elements>\n              ) : (\n                <div className=\"text-center\" style={{ padding: '48px 24px' }}>\n                  <div className=\"inline-flex items-center gap-3 text-slate-600\">\n                    <div\n                      className=\"w-8 h-8 rounded-full animate-spin\"\n                      style={{\n                        border: '3px solid #e2e8f0',\n                        borderTopColor: '#0ea5e9',\n                      }}\n                    />\n                    <span style={{ fontSize: '16px' }}>Initializing secure payment...</span>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Error Message */}\n            {error && (\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-red-50 to-rose-50\"\n                style={{\n                  border: '2px solid #ef4444',\n                  padding: '20px',\n                  marginBottom: '48px',\n                }}\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0\">\n                    <AlertCircle className=\"w-5 h-5 text-red-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-red-900 mb-1\" style={{ fontSize: '16px' }}>\n                      Payment Error\n                    </h3>\n                    <p className=\"text-red-800\" style={{ fontSize: '15px' }}>\n                      {error}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Sidebar - Order Summary */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"sticky top-4\" style={{ display: 'flex', flexDirection: 'column', gap: '32px' }}>\n              {/* Package Information (if applicable) */}\n              {order.package && (\n                <div\n                  className=\"rounded-xl bg-gradient-to-br from-emerald-50 to-green-50\"\n                  style={{\n                    border: '2px solid #10b981',\n                    boxShadow: '0 4px 12px rgba(16, 185, 129, 0.15)',\n                    padding: '28px',\n                  }}\n                >\n                  <div className=\"flex items-center gap-3 mb-4\">\n                    <div\n                      className=\"rounded-full\"\n                      style={{\n                        width: '48px',\n                        height: '48px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                        boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',\n                      }}\n                    >\n                      <ShieldCheck className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                      <h3 className=\"font-bold text-emerald-900\" style={{ fontSize: '20px', lineHeight: '1.2' }}>\n                        {order.package.name} Package\n                      </h3>\n                      <p className=\"text-emerald-700\" style={{ fontSize: '14px' }}>\n                        ${order.package.price} value included\n                      </p>\n                    </div>\n                  </div>\n\n                  <p className=\"text-slate-700 mb-4\" style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                    {order.package.description}\n                  </p>\n\n                  <div className=\"space-y-2\">\n                    <p className=\"text-emerald-800 font-semibold\" style={{ fontSize: '13px', marginBottom: '12px' }}>\n                      What's Included:\n                    </p>\n                    {order.package.features.slice(0, 5).map((feature, index) => (\n                      <div key={index} className=\"flex items-start gap-2\">\n                        <span className=\"text-emerald-600 font-bold\" style={{ fontSize: '16px', marginTop: '-2px' }}>‚úì</span>\n                        <span className=\"text-slate-700\" style={{ fontSize: '13px', lineHeight: '1.5' }}>\n                          {feature}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Order Summary Card */}\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-sky-50 to-blue-50\"\n                style={{\n                  border: '2px solid #0ea5e9',\n                  boxShadow: '0 4px 12px rgba(14, 165, 233, 0.15)',\n                  padding: '32px',\n                }}\n              >\n                <h3 className=\"font-semibold text-slate-900 mb-8\" style={{ fontSize: '24px', lineHeight: '1.4' }}>\n                  Order Summary\n                </h3>\n\n                {/* Line Items */}\n                <div className=\"space-y-4 mb-6\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                  {order.orderItems?.map((item, index) => (\n                    <div key={index}>\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <span className=\"text-slate-700 font-medium\">{item.description}</span>\n                          {item.description === 'LegalOps Service Fee' && (\n                            <p className=\"text-sm text-slate-600 mt-1\">Professional filing service</p>\n                          )}\n                          {item.description === 'Florida State Filing Fee' && (\n                            <p className=\"text-sm text-slate-600 mt-1\">Paid to Florida Division of Corporations</p>\n                          )}\n                          {item.description === 'Registered Agent Service' && (\n                            <p className=\"text-sm text-slate-600 mt-1\">First year included with formation</p>\n                          )}\n                        </div>\n                        <span className=\"text-slate-900 font-semibold ml-4\">\n                          ${Number(item.totalPrice).toFixed(2)}\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Subtotal */}\n                <div\n                  className=\"flex justify-between items-center py-3\"\n                  style={{ borderTop: '1px solid #cbd5e1' }}\n                >\n                  <span className=\"text-slate-600\" style={{ fontSize: '15px' }}>Subtotal</span>\n                  <span className=\"text-slate-900 font-medium\" style={{ fontSize: '15px' }}>\n                    ${Number(order.subtotal).toFixed(2)}\n                  </span>\n                </div>\n\n                {/* Tax */}\n                <div className=\"flex justify-between items-center py-3\">\n                  <span className=\"text-slate-600\" style={{ fontSize: '15px' }}>Tax</span>\n                  <span className=\"text-slate-900 font-medium\" style={{ fontSize: '15px' }}>\n                    ${Number(order.tax).toFixed(2)}\n                  </span>\n                </div>\n\n                {/* Total */}\n                <div\n                  className=\"flex justify-between items-center pt-4 mt-2\"\n                  style={{ borderTop: '2px solid #0ea5e9' }}\n                >\n                  <span className=\"text-slate-900 font-bold\" style={{ fontSize: '20px' }}>Total</span>\n                  <span className=\"text-sky-600 font-bold\" style={{ fontSize: '28px' }}>\n                    ${Number(order.total).toFixed(2)}\n                  </span>\n                </div>\n\n                {/* Security Badge */}\n                <div\n                  style={{\n                    borderTop: '2px solid #cbd5e1',\n                    marginTop: '12px',\n                    paddingTop: '24px',\n                  }}\n                >\n                  <div style={{ display: 'flex', alignItems: 'flex-start' }}>\n                    <div\n                      className=\"rounded-full\"\n                      style={{\n                        width: '40px',\n                        height: '40px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        flexShrink: 0,\n                        background: 'linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%)',\n                        border: '2px solid #64748b',\n                        boxShadow: '0 2px 8px rgba(100, 116, 139, 0.2)',\n                      }}\n                    >\n                      <Lock className=\"w-5 h-5 text-slate-600\" />\n                    </div>\n                    <p className=\"text-slate-700\" style={{ fontSize: '14px', lineHeight: '1.6', marginTop: '4px', paddingLeft: '16px', flex: 1 }}>\n                      Your payment information is encrypted and secure. We never store your full card details.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Money-Back Guarantee */}\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-emerald-50 to-green-50 hover:shadow-lg transition-all duration-300\"\n                style={{\n                  border: '2px solid #10b981',\n                  boxShadow: '0 4px 12px rgba(16, 185, 129, 0.15)',\n                  padding: '24px',\n                }}\n              >\n                <div className=\"flex items-start gap-4\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0\"\n                    style={{\n                      background: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)',\n                      border: '2px solid #10b981',\n                      boxShadow: '0 2px 8px rgba(16, 185, 129, 0.2)',\n                    }}\n                  >\n                    <ShieldCheck className=\"w-6 h-6 text-emerald-600\" />\n                  </div>\n                  <div>\n                    <p className=\"font-semibold text-emerald-900 mb-2\" style={{ fontSize: '18px' }}>\n                      Money-Back Guarantee\n                    </p>\n                    <p className=\"text-emerald-800\" style={{ fontSize: '15px', lineHeight: '1.6' }}>\n                      If we can't complete your filing, we'll refund your service fee.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\checkout\\create-account\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle2' is defined but never used.","line":14,"column":23,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":35},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array.","line":84,"column":6,"nodeType":"ArrayExpression","endLine":84,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [formData, formData.password]","fix":{"range":[3155,3174],"text":"[formData, formData.password]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":174,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":174,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5945,5948],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5945,5948],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":315,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[11591,11683],"text":"\n                We&apos;ll send order updates and important notices to this email\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[11591,11683],"text":"\n                We&lsquo;ll send order updates and important notices to this email\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[11591,11683],"text":"\n                We&#39;ll send order updates and important notices to this email\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[11591,11683],"text":"\n                We&rsquo;ll send order updates and important notices to this email\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":492,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[20134,20234],"text":"\n                You can unsubscribe at any time. We&apos;ll never share your information.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[20134,20234],"text":"\n                You can unsubscribe at any time. We&lsquo;ll never share your information.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[20134,20234],"text":"\n                You can unsubscribe at any time. We&#39;ll never share your information.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[20134,20234],"text":"\n                You can unsubscribe at any time. We&rsquo;ll never share your information.\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Create Account Checkout Page\n * \n * Account creation page for services that require customer accounts\n * (LLC Formation, Corporation Formation, Registered Agent, Annual Report)\n */\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { signIn, useSession } from 'next-auth/react';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\nimport { Eye, EyeOff, CheckCircle2, AlertCircle } from 'lucide-react';\n\nexport default function CreateAccountPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { data: session, status } = useSession();\n\n  // Get service info from URL params\n  const serviceType = searchParams.get('service') || '';\n  const serviceName = searchParams.get('name') || '';\n  const servicePrice = parseFloat(searchParams.get('price') || '0');\n  const orderId = searchParams.get('orderId') || ''; // If order already created\n\n  // Redirect authenticated users to service page\n  useEffect(() => {\n    if (status === 'authenticated' && session) {\n      // User is already signed in, redirect to service page\n      if (serviceType === 'LLC_FORMATION') {\n        router.push('/services/llc-formation');\n      } else if (serviceType === 'CORP_FORMATION') {\n        router.push('/services/corporation-formation');\n      } else if (serviceType === 'LLC_ANNUAL_REPORT') {\n        router.push('/services/llc-annual-report');\n      } else if (serviceType === 'CORP_ANNUAL_REPORT') {\n        router.push('/services/corporation-annual-report');\n      } else if (serviceType === 'ANNUAL_REPORT') {\n        router.push('/services/annual-report');\n      } else if (serviceType === 'REGISTERED_AGENT') {\n        router.push('/services/registered-agent');\n      } else {\n        router.push('/dashboard');\n      }\n    }\n  }, [status, session, serviceType, router]);\n\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    phone: '',\n  });\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [passwordStrength, setPasswordStrength] = useState<'weak' | 'medium' | 'strong'>('weak');\n  const [emailRemindersConsent, setEmailRemindersConsent] = useState(false);\n  const [smsRemindersConsent, setSmsRemindersConsent] = useState(false);\n\n  // Password strength checker\n  useEffect(() => {\n    const { password } = formData;\n    if (password.length === 0) {\n      setPasswordStrength('weak');\n      return;\n    }\n\n    let strength = 0;\n    if (password.length >= 8) strength++;\n    if (password.length >= 12) strength++;\n    if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;\n    if (/[0-9]/.test(password)) strength++;\n    if (/[^a-zA-Z0-9]/.test(password)) strength++;\n\n    if (strength <= 2) setPasswordStrength('weak');\n    else if (strength <= 4) setPasswordStrength('medium');\n    else setPasswordStrength('strong');\n  }, [formData.password]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n    setError(null);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    // Validation\n    if (!formData.firstName || !formData.lastName || !formData.email || !formData.password) {\n      setError('Please fill in all required fields.');\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match.');\n      return;\n    }\n\n    if (formData.password.length < 8) {\n      setError('Password must be at least 8 characters long.');\n      return;\n    }\n\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      setError('Please enter a valid email address.');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Create user account\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          email: formData.email,\n          password: formData.password,\n          phone: formData.phone,\n          tosAcceptedAt: new Date().toISOString(),\n          privacyPolicyAcceptedAt: new Date().toISOString(),\n          emailRemindersConsent,\n          smsRemindersConsent,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to create account');\n      }\n\n      // Sign in the user\n      const signInResult = await signIn('credentials', {\n        email: formData.email,\n        password: formData.password,\n        redirect: false,\n      });\n\n      if (signInResult?.error) {\n        throw new Error('Account created but sign-in failed. Please try signing in manually.');\n      }\n\n      // Redirect to service form or order page\n      if (orderId) {\n        router.push(`/orders/${orderId}`);\n      } else if (serviceType === 'LLC_FORMATION') {\n        router.push('/services/llc-formation');\n      } else if (serviceType === 'CORP_FORMATION') {\n        router.push('/services/corporation-formation');\n      } else if (serviceType === 'LLC_ANNUAL_REPORT') {\n        router.push('/services/llc-annual-report');\n      } else if (serviceType === 'CORP_ANNUAL_REPORT') {\n        router.push('/services/corporation-annual-report');\n      } else if (serviceType === 'ANNUAL_REPORT') {\n        router.push('/services/annual-report');\n      } else if (serviceType === 'REGISTERED_AGENT') {\n        router.push('/services/registered-agent');\n      } else {\n        router.push('/dashboard');\n      }\n    } catch (err: any) {\n      setError(err.message || 'An error occurred. Please try again.');\n      setLoading(false);\n    }\n  };\n\n  // Show loading while checking authentication\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(to bottom, #e8f0f7 0%, #f5f8fb 100%)' }}>\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-500 mx-auto mb-4\"></div>\n          <p className=\"text-slate-600\">Checking authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(to bottom, #e8f0f7 0%, #f5f8fb 100%)', padding: '48px 24px' }}>\n      <div className=\"max-w-2xl mx-auto w-full\">\n        {/* Header */}\n        <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n          <h1 className=\"font-bold text-slate-900\" style={{ fontSize: '32px', marginBottom: '8px' }}>\n            Create Your Account\n          </h1>\n          <p className=\"text-slate-600\" style={{ fontSize: '16px' }}>\n            {serviceName && `Complete your ${serviceName} order`}\n          </p>\n        </div>\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"minimal\" />\n        </div>\n\n        {/* Account Creation Form */}\n        <div className=\"bg-white rounded-lg\" style={{\n          border: '1px solid #e2e8f0',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          padding: '32px'\n        }}>\n          <form onSubmit={handleSubmit}>\n            {/* Error Message */}\n            {error && (\n              <div className=\"bg-red-50 rounded-lg\" style={{\n                border: '1px solid #fca5a5',\n                padding: '16px',\n                marginBottom: '24px'\n              }}>\n                <div className=\"flex items-center gap-2 text-red-800\">\n                  <AlertCircle className=\"w-5 h-5\" />\n                  <p className=\"font-semibold\">{error}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Name Fields */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2\" style={{ gap: '20px', marginBottom: '20px' }}>\n              <div>\n                <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                  First Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  className=\"w-full rounded-lg transition-colors\"\n                  style={{\n                    border: '1px solid #cbd5e1',\n                    padding: '12px 16px',\n                    fontSize: '15px'\n                  }}\n                  onFocus={(e) => {\n                    e.target.style.borderColor = '#0ea5e9';\n                    e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                  }}\n                  onBlur={(e) => {\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.outline = 'none';\n                  }}\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                  Last Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  className=\"w-full rounded-lg transition-colors\"\n                  style={{\n                    border: '1px solid #cbd5e1',\n                    padding: '12px 16px',\n                    fontSize: '15px'\n                  }}\n                  onFocus={(e) => {\n                    e.target.style.borderColor = '#0ea5e9';\n                    e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                  }}\n                  onBlur={(e) => {\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.outline = 'none';\n                  }}\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Email */}\n            <div style={{ marginBottom: '20px' }}>\n              <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                Email Address <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className=\"w-full rounded-lg transition-colors\"\n                style={{\n                  border: '1px solid #cbd5e1',\n                  padding: '12px 16px',\n                  fontSize: '15px'\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#0ea5e9';\n                  e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#cbd5e1';\n                  e.target.style.outline = 'none';\n                }}\n                required\n              />\n              <p className=\"text-slate-500\" style={{ fontSize: '12px', marginTop: '6px' }}>\n                We'll send order updates and important notices to this email\n              </p>\n            </div>\n\n            {/* Phone (Optional) */}\n            <div style={{ marginBottom: '20px' }}>\n              <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                Phone Number (Optional)\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleChange}\n                className=\"w-full rounded-lg transition-colors\"\n                style={{\n                  border: '1px solid #cbd5e1',\n                  padding: '12px 16px',\n                  fontSize: '15px'\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#0ea5e9';\n                  e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#cbd5e1';\n                  e.target.style.outline = 'none';\n                }}\n                placeholder=\"(555) 123-4567\"\n              />\n            </div>\n\n            {/* Password */}\n            <div style={{ marginBottom: '20px' }}>\n              <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                Password <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? 'text' : 'password'}\n                  name=\"password\"\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"w-full rounded-lg transition-colors\"\n                  style={{\n                    border: '1px solid #cbd5e1',\n                    padding: '12px 16px',\n                    paddingRight: '48px',\n                    fontSize: '15px'\n                  }}\n                  onFocus={(e) => {\n                    e.target.style.borderColor = '#0ea5e9';\n                    e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                  }}\n                  onBlur={(e) => {\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.outline = 'none';\n                  }}\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute text-slate-400 hover:text-slate-600\"\n                  style={{ right: '12px', top: '50%', transform: 'translateY(-50%)' }}\n                >\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n\n              {/* Password Strength Indicator */}\n              {formData.password && (\n                <div style={{ marginTop: '8px' }}>\n                  <div className=\"flex\" style={{ gap: '4px', marginBottom: '4px' }}>\n                    <div className={`h-1 flex-1 rounded ${passwordStrength === 'weak' ? 'bg-red-500' : passwordStrength === 'medium' ? 'bg-yellow-500' : 'bg-green-500'}`}></div>\n                    <div className={`h-1 flex-1 rounded ${passwordStrength === 'medium' || passwordStrength === 'strong' ? 'bg-yellow-500' : 'bg-slate-200'}`}></div>\n                    <div className={`h-1 flex-1 rounded ${passwordStrength === 'strong' ? 'bg-green-500' : 'bg-slate-200'}`}></div>\n                  </div>\n                  <p className={`${passwordStrength === 'weak' ? 'text-red-600' : passwordStrength === 'medium' ? 'text-yellow-600' : 'text-green-600'}`} style={{ fontSize: '12px' }}>\n                    Password strength: {passwordStrength}\n                  </p>\n                </div>\n              )}\n            </div>\n\n            {/* Confirm Password */}\n            <div style={{ marginBottom: '20px' }}>\n              <label className=\"block font-semibold text-slate-700\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                Confirm Password <span className=\"text-red-500\">*</span>\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showConfirmPassword ? 'text' : 'password'}\n                  name=\"confirmPassword\"\n                  value={formData.confirmPassword}\n                  onChange={handleChange}\n                  className=\"w-full rounded-lg transition-colors\"\n                  style={{\n                    border: '1px solid #cbd5e1',\n                    padding: '12px 16px',\n                    paddingRight: '48px',\n                    fontSize: '15px'\n                  }}\n                  onFocus={(e) => {\n                    e.target.style.borderColor = '#0ea5e9';\n                    e.target.style.outline = '2px solid rgba(14, 165, 233, 0.2)';\n                  }}\n                  onBlur={(e) => {\n                    e.target.style.borderColor = '#cbd5e1';\n                    e.target.style.outline = 'none';\n                  }}\n                  required\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  className=\"absolute text-slate-400 hover:text-slate-600\"\n                  style={{ right: '12px', top: '50%', transform: 'translateY(-50%)' }}\n                >\n                  {showConfirmPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {/* Marketing Consent */}\n            <div className=\"bg-amber-50 rounded-lg\" style={{\n              border: '1px solid #fcd34d',\n              padding: '20px',\n              marginBottom: '24px'\n            }}>\n              <h3 className=\"font-bold text-amber-900\" style={{ fontSize: '14px', marginBottom: '12px' }}>\n                üì¨ Stay Informed (Optional)\n              </h3>\n              <p className=\"text-amber-800\" style={{ fontSize: '12px', marginBottom: '16px' }}>\n                We can send you helpful reminders for important deadlines like annual reports, renewals, and compliance requirements.\n              </p>\n\n              {/* Email Reminders */}\n              <div className=\"flex items-start\" style={{ marginBottom: '12px' }}>\n                <input\n                  type=\"checkbox\"\n                  id=\"emailReminders\"\n                  checked={emailRemindersConsent}\n                  onChange={(e) => setEmailRemindersConsent(e.target.checked)}\n                  className=\"text-sky-600 border-amber-300 rounded focus:ring-sky-500\"\n                  style={{ marginTop: '4px', height: '16px', width: '16px' }}\n                />\n                <label htmlFor=\"emailReminders\" className=\"text-amber-900\" style={{ marginLeft: '12px', fontSize: '14px' }}>\n                  <span className=\"font-semibold\">Email Reminders</span>\n                  <span className=\"block text-amber-700\" style={{ fontSize: '12px', marginTop: '2px' }}>\n                    Get email notifications for upcoming deadlines and renewals\n                  </span>\n                </label>\n              </div>\n\n              {/* SMS Reminders */}\n              <div className=\"flex items-start\">\n                <input\n                  type=\"checkbox\"\n                  id=\"smsReminders\"\n                  checked={smsRemindersConsent}\n                  onChange={(e) => setSmsRemindersConsent(e.target.checked)}\n                  className=\"text-sky-600 border-amber-300 rounded focus:ring-sky-500\"\n                  style={{ marginTop: '4px', height: '16px', width: '16px' }}\n                  disabled={!formData.phone}\n                />\n                <label htmlFor=\"smsReminders\" className={!formData.phone ? 'text-amber-500' : 'text-amber-900'} style={{ marginLeft: '12px', fontSize: '14px' }}>\n                  <span className=\"font-semibold\">SMS Reminders</span>\n                  <span className=\"block text-amber-700\" style={{ fontSize: '12px', marginTop: '2px' }}>\n                    {formData.phone\n                      ? 'Get text message reminders for critical deadlines'\n                      : 'Enter a phone number above to enable SMS reminders'}\n                  </span>\n                </label>\n              </div>\n\n              <p className=\"text-amber-600 italic\" style={{ fontSize: '12px', marginTop: '12px' }}>\n                You can unsubscribe at any time. We'll never share your information.\n              </p>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full text-white font-semibold rounded-lg transition-all duration-200\"\n              style={{\n                background: loading ? '#cbd5e1' : '#0284c7',\n                padding: '14px 28px',\n                fontSize: '16px',\n                cursor: loading ? 'not-allowed' : 'pointer',\n                boxShadow: loading ? 'none' : '0 4px 6px rgba(0, 0, 0, 0.1)'\n              }}\n              onMouseEnter={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.background = '#0369a1';\n                  e.currentTarget.style.boxShadow = '0 6px 8px rgba(0, 0, 0, 0.15)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!loading) {\n                  e.currentTarget.style.background = '#0284c7';\n                  e.currentTarget.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';\n                }\n              }}\n            >\n              {loading ? 'Creating Account...' : 'Create Account & Continue'}\n            </button>\n          </form>\n        </div>\n\n        {/* Already Have Account */}\n        <div className=\"text-center\" style={{ marginTop: '24px' }}>\n          <p className=\"text-slate-600\" style={{ fontSize: '15px' }}>\n            Already have an account?{' '}\n            <button\n              onClick={() => router.push(`/auth/signin?service=${serviceType}&name=${serviceName}&price=${servicePrice}`)}\n              className=\"text-sky-600 hover:text-sky-700 font-semibold underline\"\n            >\n              Sign In\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\checkout\\guest\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2621,2624],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2621,2624],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":203,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7319,7400],"text":"\n                We&apos;ll send your completed documents to this email\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7319,7400],"text":"\n                We&lsquo;ll send your completed documents to this email\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7319,7400],"text":"\n                We&#39;ll send your completed documents to this email\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7319,7400],"text":"\n                We&rsquo;ll send your completed documents to this email\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":270,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10582,10682],"text":"\n                You can unsubscribe at any time. We&apos;ll never share your information.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10582,10682],"text":"\n                You can unsubscribe at any time. We&lsquo;ll never share your information.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10582,10682],"text":"\n                You can unsubscribe at any time. We&#39;ll never share your information.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10582,10682],"text":"\n                You can unsubscribe at any time. We&rsquo;ll never share your information.\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Guest Checkout Page\n * \n * Guest checkout page for services that allow guest purchases\n * (Operating Agreement, Bylaws, Certificate of Status, EIN Application, etc.)\n */\n\n'use client';\n\nimport { useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\nimport { AlertCircle, ShoppingCart } from 'lucide-react';\n\nexport default function GuestCheckoutPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  \n  // Get service info from URL params\n  const serviceType = searchParams.get('service') || '';\n  const serviceName = searchParams.get('name') || '';\n  const servicePrice = parseFloat(searchParams.get('price') || '0');\n\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n  });\n\n  const [emailRemindersConsent, setEmailRemindersConsent] = useState(false);\n  const [smsRemindersConsent, setSmsRemindersConsent] = useState(false);\n\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n    setError(null);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    // Validation\n    if (!formData.firstName || !formData.lastName || !formData.email) {\n      setError('Please fill in all required fields.');\n      return;\n    }\n\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      setError('Please enter a valid email address.');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Create guest order\n      const response = await fetch('/api/orders/guest', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          serviceType,\n          guestInfo: {\n            firstName: formData.firstName,\n            lastName: formData.lastName,\n            email: formData.email,\n            phone: formData.phone,\n          },\n          tosAcceptedAt: new Date().toISOString(),\n          privacyPolicyAcceptedAt: new Date().toISOString(),\n          emailRemindersConsent,\n          smsRemindersConsent,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to create order');\n      }\n\n      // Redirect to checkout page with order ID\n      router.push(`/checkout/${data.orderId}`);\n    } catch (err: any) {\n      setError(err.message || 'An error occurred. Please try again.');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(to bottom, #e8f0f7 0%, #f5f8fb 100%)', padding: '48px 24px' }}>\n      <div className=\"max-w-2xl mx-auto w-full\">\n        {/* Header */}\n        <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n          <div className=\"inline-flex items-center justify-center w-16 h-16 bg-sky-100 rounded-full mb-4\">\n            <ShoppingCart className=\"w-8 h-8 text-sky-600\" />\n          </div>\n          <h1 className=\"font-bold text-slate-900\" style={{ fontSize: '32px', marginBottom: '8px' }}>\n            Guest Checkout\n          </h1>\n          <p className=\"text-slate-600\" style={{ fontSize: '16px' }}>\n            {serviceName && `Complete your ${serviceName} order`}\n          </p>\n        </div>\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"minimal\" />\n        </div>\n\n        {/* Service Summary */}\n        <div className=\"bg-white rounded-lg\" style={{\n          border: '1px solid #e2e8f0',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          padding: '24px',\n          marginBottom: '24px'\n        }}>\n          <h2 className=\"font-bold text-slate-900\" style={{ fontSize: '18px', marginBottom: '16px' }}>Order Summary</h2>\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <p className=\"font-semibold text-slate-900\">{serviceName}</p>\n              <p className=\"text-sm text-slate-600\">One-time service</p>\n            </div>\n            <div className=\"font-bold text-sky-600\" style={{ fontSize: '24px' }}>\n              ${servicePrice.toFixed(2)}\n            </div>\n          </div>\n        </div>\n\n        {/* Guest Information Form */}\n        <div className=\"bg-white rounded-lg\" style={{\n          border: '1px solid #e2e8f0',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          padding: '32px'\n        }}>\n          <h2 className=\"text-2xl font-bold text-slate-900 mb-6\">Your Information</h2>\n          \n          <form onSubmit={handleSubmit}>\n            {/* Error Message */}\n            {error && (\n              <div className=\"bg-red-50 border-2 border-red-300 rounded-lg p-4 mb-6\">\n                <div className=\"flex items-center gap-2 text-red-800\">\n                  <AlertCircle className=\"w-5 h-5\" />\n                  <p className=\"font-semibold\">{error}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Name Fields */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              <div>\n                <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                  First Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  onChange={handleChange}\n                  className=\"w-full border-2 border-slate-300 rounded-lg focus:border-sky-500 focus:ring-2 focus:ring-sky-200 transition-colors\"\n                  style={{ padding: '12px 16px' }}\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                  Last Name <span className=\"text-red-500\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  onChange={handleChange}\n                  className=\"w-full border-2 border-slate-300 rounded-lg focus:border-sky-500 focus:ring-2 focus:ring-sky-200 transition-colors\"\n                  style={{ padding: '12px 16px' }}\n                  required\n                />\n              </div>\n            </div>\n\n            {/* Email */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                Email Address <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className=\"w-full border-2 border-slate-300 rounded-lg focus:border-sky-500 focus:ring-2 focus:ring-sky-200 transition-colors\"\n                style={{ padding: '12px 16px' }}\n                required\n              />\n              <p className=\"text-xs text-slate-500 mt-1\">\n                We'll send your completed documents to this email\n              </p>\n            </div>\n\n            {/* Phone (Optional) */}\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-semibold text-slate-700 mb-2\">\n                Phone Number (Optional)\n              </label>\n              <input\n                type=\"tel\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleChange}\n                className=\"w-full border-2 border-slate-300 rounded-lg focus:border-sky-500 focus:ring-2 focus:ring-sky-200 transition-colors\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"(555) 123-4567\"\n              />\n            </div>\n\n            {/* Marketing Consent */}\n            <div className=\"bg-amber-50 border-2 border-amber-200 rounded-lg\" style={{ padding: '20px', marginTop: '24px' }}>\n              <h3 className=\"font-bold text-amber-900 text-sm\" style={{ marginBottom: '12px' }}>\n                üì¨ Stay Informed (Optional)\n              </h3>\n              <p className=\"text-xs text-amber-800\" style={{ marginBottom: '16px' }}>\n                We can send you helpful reminders for important deadlines like annual reports, renewals, and compliance requirements.\n              </p>\n\n              {/* Email Reminders */}\n              <div className=\"flex items-start\" style={{ marginBottom: '12px' }}>\n                <input\n                  type=\"checkbox\"\n                  id=\"emailReminders\"\n                  checked={emailRemindersConsent}\n                  onChange={(e) => setEmailRemindersConsent(e.target.checked)}\n                  className=\"mt-1 h-4 w-4 text-sky-600 border-amber-300 rounded focus:ring-sky-500\"\n                />\n                <label htmlFor=\"emailReminders\" className=\"ml-3 text-sm text-amber-900\">\n                  <span className=\"font-semibold\">Email Reminders</span>\n                  <span className=\"block text-xs text-amber-700 mt-0.5\">\n                    Get email notifications for upcoming deadlines and renewals\n                  </span>\n                </label>\n              </div>\n\n              {/* SMS Reminders */}\n              <div className=\"flex items-start\">\n                <input\n                  type=\"checkbox\"\n                  id=\"smsReminders\"\n                  checked={smsRemindersConsent}\n                  onChange={(e) => setSmsRemindersConsent(e.target.checked)}\n                  className=\"mt-1 h-4 w-4 text-sky-600 border-amber-300 rounded focus:ring-sky-500\"\n                  disabled={!formData.phone}\n                />\n                <label htmlFor=\"smsReminders\" className={`ml-3 text-sm ${!formData.phone ? 'text-amber-500' : 'text-amber-900'}`}>\n                  <span className=\"font-semibold\">SMS Reminders</span>\n                  <span className=\"block text-xs text-amber-700 mt-0.5\">\n                    {formData.phone\n                      ? 'Get text message reminders for critical deadlines'\n                      : 'Enter a phone number above to enable SMS reminders'}\n                  </span>\n                </label>\n              </div>\n\n              <p className=\"text-xs text-amber-600 italic\" style={{ marginTop: '12px' }}>\n                You can unsubscribe at any time. We'll never share your information.\n              </p>\n            </div>\n\n            {/* Benefits of Creating Account */}\n            <div className=\"bg-sky-50 border-2 border-sky-200 rounded-lg\" style={{ padding: '24px', marginTop: '24px' }}>\n              <h3 className=\"font-bold text-sky-900\" style={{ marginBottom: '12px' }}>\n                üí° Want to save time on future orders?\n              </h3>\n              <p className=\"text-sm text-sky-800\" style={{ marginBottom: '12px' }}>\n                Create an account to:\n              </p>\n              <ul className=\"text-sm text-sky-800 list-disc\" style={{ marginLeft: '20px', marginBottom: '16px' }}>\n                <li style={{ marginBottom: '4px' }}>Access all your documents in one place</li>\n                <li style={{ marginBottom: '4px' }}>Track order status in real-time</li>\n                <li style={{ marginBottom: '4px' }}>Reuse your information for faster checkout</li>\n                <li>Receive important compliance reminders</li>\n              </ul>\n              <button\n                type=\"button\"\n                onClick={() => router.push(`/checkout/create-account?service=${serviceType}&name=${serviceName}&price=${servicePrice}`)}\n                className=\"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold rounded-lg transition-colors\"\n                style={{ padding: '12px 24px', marginTop: '16px' }}\n              >\n                Create Account Instead\n              </button>\n            </div>\n\n            {/* Submit Button */}\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full bg-green-600 hover:bg-green-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{ padding: '14px 28px', marginTop: '24px' }}\n            >\n              {loading ? 'Processing...' : 'Continue to Payment'}\n            </button>\n\n            <p className=\"text-xs text-slate-500 text-center mt-4\">\n              By continuing, you agree to our Terms of Service and Privacy Policy\n            </p>\n          </form>\n        </div>\n\n        {/* Back Link */}\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.back()}\n            className=\"text-slate-600 hover:text-slate-900 underline\"\n          >\n            ‚Üê Back\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\businesses\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":53,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[974,977],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[974,977],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1055,1058],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1055,1058],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1135,1138],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1135,1138],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":88,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":88,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":303,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10181,10184],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10181,10184],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":331,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":331,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11499,11502],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11499,11502],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":356,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":356,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12762,12765],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12762,12765],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":356,"column":194,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":356,"endColumn":197,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12885,12888],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12885,12888],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":381,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":381,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14151,14154],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14151,14154],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":400,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":400,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[14952,14955],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[14952,14955],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Business Detail Page\n * \n * Shows complete information about a specific business entity\n * Includes \"View on Sunbiz\" link to official Florida records\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Address {\n  street: string;\n  suite?: string;\n  city: string;\n  state: string;\n  zipCode: string;\n}\n\ninterface RegisteredAgent {\n  agentType: string;\n  firstName?: string;\n  lastName?: string;\n  companyName?: string;\n  email?: string;\n  phone?: string;\n  address?: Address;\n}\n\ninterface ManagerOfficer {\n  id: string;\n  firstName: string;\n  lastName: string;\n  title?: string;\n  roleType: string;\n  address: string;\n}\n\ninterface Filing {\n  id: string;\n  filingType: string;\n  status: string;\n  createdAt: string;\n}\n\ninterface HealthScoreBreakdown {\n  totalScore: number;\n  compliance: {\n    score: number;\n    maxScore: number;\n    factors: any[];\n  };\n  documents: {\n    score: number;\n    maxScore: number;\n    factors: any[];\n  };\n  payments: {\n    score: number;\n    maxScore: number;\n    factors: any[];\n  };\n  recommendations: string[];\n}\n\ninterface Business {\n  id: string;\n  legalName: string;\n  dbaName?: string;\n  entityType: string;\n  documentNumber?: string;\n  feiNumber?: string;\n  filingDate?: string;\n  status: string;\n  purpose?: string;\n  principalAddress?: Address;\n  mailingAddress?: Address;\n  registeredAgent?: RegisteredAgent;\n  managersOfficers: ManagerOfficer[];\n  filings: Filing[];\n  createdAt: string;\n}\n\nexport default function BusinessDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const businessId = params.id as string;\n\n  const [business, setBusiness] = useState<Business | null>(null);\n  const [healthScore, setHealthScore] = useState<HealthScoreBreakdown | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!businessId) return;\n\n    // Fetch business details and health score in parallel\n    Promise.all([\n      fetch(`/api/businesses/${businessId}`).then(res => res.json()),\n      fetch(`/api/health-score/${businessId}`).then(res => res.json())\n    ])\n      .then(([businessData, healthData]) => {\n        if (businessData.success) {\n          setBusiness(businessData.business);\n        } else {\n          setError(businessData.error || 'Failed to load business');\n        }\n\n        if (healthData.success) {\n          setHealthScore(healthData.breakdown);\n        }\n\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error fetching business:', err);\n        setError('Failed to load business details');\n        setLoading(false);\n      });\n  }, [businessId]);\n\n  // Generate Sunbiz URL\n  const getSunbizUrl = (documentNumber: string) => {\n    // Florida Sunbiz direct document lookup\n    return `https://search.sunbiz.org/Inquiry/CorporationSearch/SearchResultDetail?inquirytype=DocumentNumber&directionType=Initial&searchNameOrder=${documentNumber}&aggregateId=doml-${documentNumber.toLowerCase()}&searchTerm=${documentNumber}`;\n  };\n\n  const getStatusDisplay = (status: string | null | undefined) => {\n    const statusMap: { [key: string]: { bg: string; color: string; label: string } } = {\n      'DRAFT': { bg: '#f3f4f6', color: '#6b7280', label: 'Draft' },\n      'PENDING_PAYMENT': { bg: '#fef3c7', color: '#d97706', label: 'Pending Payment' },\n      'PAID': { bg: '#dbeafe', color: '#0284c7', label: 'Paid' },\n      'IN_REVIEW': { bg: '#e0e7ff', color: '#6366f1', label: 'In Review' },\n      'PENDING_CUSTOMER_APPROVAL': { bg: '#fed7aa', color: '#ea580c', label: 'Approval Required' },\n      'APPROVED_BY_CUSTOMER': { bg: '#d1fae5', color: '#059669', label: 'Approved' },\n      'READY_TO_FILE': { bg: '#dbeafe', color: '#0284c7', label: 'Ready to File' },\n      'SUBMITTED': { bg: '#e0e7ff', color: '#6366f1', label: 'Submitted' },\n      'COMPLETED': { bg: '#d1fae5', color: '#059669', label: 'Completed' },\n      'REJECTED': { bg: '#fee2e2', color: '#dc2626', label: 'Rejected' },\n      'CANCELLED': { bg: '#f3f4f6', color: '#6b7280', label: 'Cancelled' },\n    };\n\n    if (!status) {\n      return { bg: '#f3f4f6', color: '#6b7280', label: 'Draft' };\n    }\n\n    return statusMap[status] || { bg: '#dbeafe', color: '#0284c7', label: status.replace(/_/g, ' ') };\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '48px',\n          height: '48px',\n          border: '4px solid #e5e7eb',\n          borderTopColor: '#0ea5e9',\n          borderRadius: '50%',\n          margin: '0 auto 1rem',\n          animation: 'spin 1s linear infinite'\n        }}></div>\n        <p style={{ color: '#6b7280' }}>Loading business details...</p>\n      </div>\n    );\n  }\n\n  if (error || !business) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '64px',\n          height: '64px',\n          background: '#fee2e2',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          margin: '0 auto 1.5rem'\n        }}>\n          <svg style={{ width: '32px', height: '32px', color: '#dc2626' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n        </div>\n        <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '0.5rem' }}>\n          {error || 'Business not found'}\n        </h2>\n        <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '1.5rem' }}>\n          Unable to load business details\n        </p>\n        <Link\n          href=\"/dashboard/customer\"\n          style={{\n            background: '#0ea5e9',\n            color: 'white',\n            padding: '0.75rem 2rem',\n            borderRadius: '8px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            display: 'inline-block'\n          }}\n        >\n          ‚Üê Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Header with Back Button */}\n      <div style={{ marginBottom: '32px' }}>\n        <Link\n          href=\"/dashboard/customer\"\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            color: '#64748b',\n            fontSize: '14px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            marginBottom: '16px'\n          }}\n        >\n          <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back to Dashboard\n        </Link>\n\n        {/* Business Name and Status */}\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '16px' }}>\n          <div>\n            <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '12px' }}>\n              {business.legalName}\n            </h1>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', flexWrap: 'wrap' }}>\n              <span style={{\n                background: business.status === 'ACTIVE' ? '#d1fae5' : '#fef3c7',\n                color: business.status === 'ACTIVE' ? '#059669' : '#d97706',\n                padding: '6px 14px',\n                borderRadius: '12px',\n                fontSize: '13px',\n                fontWeight: '500'\n              }}>\n                {business.status === 'ACTIVE' ? '‚úÖ Active' : '‚è≥ Pending'}\n              </span>\n              <span style={{ fontSize: '14px', color: '#64748b' }}>\n                Florida {business.entityType}\n              </span>\n              {business.documentNumber && (\n                <span style={{ fontSize: '14px', color: '#64748b' }}>\n                  Doc #: {business.documentNumber}\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* View on Sunbiz Button */}\n          {business.documentNumber && (\n            <a\n              href={getSunbizUrl(business.documentNumber)}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: '8px',\n                background: '#f8fafc',\n                border: '1px solid #e2e8f0',\n                color: '#0f172a',\n                padding: '10px 20px',\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontWeight: '500',\n                textDecoration: 'none',\n                transition: 'all 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.background = '#0ea5e9';\n                e.currentTarget.style.borderColor = '#0ea5e9';\n                e.currentTarget.style.color = 'white';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.background = '#f8fafc';\n                e.currentTarget.style.borderColor = '#e2e8f0';\n                e.currentTarget.style.color = '#0f172a';\n              }}\n            >\n              <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n              </svg>\n              View on Sunbiz\n            </a>\n          )}\n        </div>\n\n        {/* Quick Actions */}\n        <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>\n          {/* CRITICAL: Reinstatement (if revoked and can be reinstated) - ONLY show this, nothing else */}\n          {healthScore && healthScore.compliance.factors.some((f: any) => f.name === 'Administratively Dissolved') ? (\n            <Link\n              href={`/dashboard/services/reinstatement?businessId=${businessId}`}\n              style={{\n                background: '#7c2d12',\n                color: 'white',\n                padding: '12px 24px',\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontWeight: '600',\n                textDecoration: 'none',\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: '8px',\n                animation: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',\n                boxShadow: '0 4px 12px rgba(124, 45, 18, 0.4)'\n              }}\n            >\n              <svg style={{ width: '18px', height: '18px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2.5}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n              </svg>\n              REINSTATE BUSINESS NOW\n            </Link>\n          ) : (\n            <>\n              {/* Show normal actions only if NOT revoked */}\n\n              {/* CRITICAL: Imminent Revocation */}\n              {healthScore && healthScore.compliance.factors.some((f: any) => f.name === 'Imminent Revocation Risk') && (\n                <Link\n                  href=\"/dashboard/filings/annual-report\"\n                  style={{\n                    background: '#dc2626',\n                    color: 'white',\n                    padding: '10px 20px',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    animation: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite'\n                  }}\n                >\n                  <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                  </svg>\n                  FILE NOW - REVOCATION IMMINENT\n                </Link>\n              )}\n\n              {/* CRITICAL: Annual Report Late */}\n              {healthScore && healthScore.compliance.factors.some((f: any) => f.name === 'Annual Report Late' || f.name === 'Annual Report Overdue') && !healthScore.compliance.factors.some((f: any) => f.name === 'Imminent Revocation Risk') && (\n                <Link\n                  href=\"/dashboard/filings/annual-report\"\n                  style={{\n                    background: '#dc2626',\n                    color: 'white',\n                    padding: '10px 20px',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    animation: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite'\n                  }}\n                >\n                  <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                  </svg>\n                  File Annual Report ($400 Late Fee)\n                </Link>\n              )}\n\n              {/* Normal: File Annual Report */}\n              {healthScore && !healthScore.compliance.factors.some((f: any) => f.name === 'Annual Report Late' || f.name === 'Annual Report Overdue' || f.name === 'Imminent Revocation Risk') && (\n                <Link\n                  href=\"/dashboard/filings/annual-report\"\n                  style={{\n                    background: '#0ea5e9',\n                    color: 'white',\n                    padding: '10px 20px',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    display: 'inline-block'\n                  }}\n                >\n                  File Annual Report\n                </Link>\n              )}\n\n              {/* Upsell: Apply for EIN if missing */}\n              {healthScore && healthScore.documents.factors.some((f: any) => f.name === 'Missing EIN') && (\n                <Link\n                  href=\"/dashboard/services\"\n                  style={{\n                    background: '#d97706',\n                    color: 'white',\n                    padding: '10px 20px',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    display: 'inline-block'\n                  }}\n                >\n                  Apply for EIN\n                </Link>\n              )}\n\n              {/* Standard Actions */}\n              <button\n                style={{\n                  background: 'white',\n                  border: '1px solid #e2e8f0',\n                  color: '#0f172a',\n                  padding: '10px 20px',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  cursor: 'pointer'\n                }}\n              >\n                Amend Business\n              </button>\n              <button\n                style={{\n                  background: 'white',\n                  border: '1px solid #e2e8f0',\n                  color: '#0f172a',\n                  padding: '10px 20px',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  cursor: 'pointer'\n                }}\n              >\n                Change Agent\n              </button>\n            </>\n          )}\n        </div>\n\n        <style jsx>{`\n          @keyframes pulse {\n            0%, 100% {\n              opacity: 1;\n            }\n            50% {\n              opacity: .8;\n            }\n          }\n        `}</style>\n      </div>\n\n      {/* Main Content Grid */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3\" style={{ gap: '24px' }}>\n        {/* Left Column - Main Info */}\n        <div className=\"lg:col-span-2\" style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n\n          {/* Data Accuracy Warning */}\n          <div style={{\n            background: '#fef3c7',\n            border: '1px solid #fbbf24',\n            borderRadius: '8px',\n            padding: '16px',\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px'\n          }}>\n            <svg style={{ width: '20px', height: '20px', color: '#d97706', flexShrink: 0, marginTop: '2px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n            </svg>\n            <div style={{ flex: 1 }}>\n              <p style={{ fontSize: '14px', fontWeight: '600', color: '#92400e', marginBottom: '8px' }}>\n                Verify Your Business Status\n              </p>\n              <p style={{ fontSize: '13px', color: '#78350f', lineHeight: '1.5', marginBottom: '12px' }}>\n                Our database may not reflect recent changes you made directly with the State of Florida or through another service.\n                Always verify your official business status on Sunbiz.org before making important decisions.\n              </p>\n              <a\n                href={`https://search.sunbiz.org/Inquiry/CorporationSearch/SearchResultDetail?inquirytype=DocumentNumber&aggregateId=domp-${business?.documentNumber}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  background: '#d97706',\n                  color: 'white',\n                  padding: '8px 16px',\n                  borderRadius: '6px',\n                  fontSize: '13px',\n                  fontWeight: '500',\n                  textDecoration: 'none',\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '6px'\n                }}\n              >\n                <svg style={{ width: '14px', height: '14px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n                Verify on Sunbiz.org\n                <svg style={{ width: '12px', height: '12px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                </svg>\n              </a>\n            </div>\n          </div>\n\n          {/* Health Score Card */}\n          {healthScore && (\n            <div\n              className=\"bg-white rounded-xl\"\n              style={{\n                padding: '24px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n                border: '1px solid #e2e8f0'\n              }}\n            >\n              <h2 style={{ fontSize: '18px', fontWeight: '600', color: '#0f172a', marginBottom: '20px' }}>\n                Business Health Score\n              </h2>\n\n              {/* Health Score Overview */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '24px', marginBottom: '24px' }}>\n                {/* Score Circle */}\n                <div\n                  style={{\n                    width: '100px',\n                    height: '100px',\n                    background: healthScore.totalScore >= 90 ? '#d1fae5' : healthScore.totalScore >= 75 ? '#dbeafe' : healthScore.totalScore >= 60 ? '#fef3c7' : '#fee2e2',\n                    border: `3px solid ${healthScore.totalScore >= 90 ? '#059669' : healthScore.totalScore >= 75 ? '#0284c7' : healthScore.totalScore >= 60 ? '#d97706' : '#dc2626'}`,\n                    borderRadius: '50%',\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0\n                  }}\n                >\n                  <span style={{ fontSize: '32px', fontWeight: '700', color: healthScore.totalScore >= 90 ? '#059669' : healthScore.totalScore >= 75 ? '#0284c7' : healthScore.totalScore >= 60 ? '#d97706' : '#dc2626', lineHeight: '1' }}>\n                    {healthScore.totalScore}\n                  </span>\n                  <span style={{ fontSize: '11px', fontWeight: '500', color: '#64748b', marginTop: '4px' }}>\n                    out of 100\n                  </span>\n                </div>\n\n                {/* Score Description */}\n                <div style={{ flex: 1 }}>\n                  <div style={{ fontSize: '18px', fontWeight: '600', color: healthScore.totalScore >= 90 ? '#059669' : healthScore.totalScore >= 75 ? '#0284c7' : healthScore.totalScore >= 60 ? '#d97706' : '#dc2626', marginBottom: '4px' }}>\n                    {healthScore.totalScore >= 90 ? 'Excellent Health' : healthScore.totalScore >= 75 ? 'Good Health' : healthScore.totalScore >= 60 ? 'Needs Attention' : 'Critical Issues'}\n                  </div>\n                  <p style={{ fontSize: '14px', color: '#64748b', lineHeight: '1.5' }}>\n                    {healthScore.totalScore >= 90 && 'Your business is in excellent standing with all compliance requirements met.'}\n                    {healthScore.totalScore >= 75 && healthScore.totalScore < 90 && 'Your business is in good health with minor improvements recommended.'}\n                    {healthScore.totalScore >= 60 && healthScore.totalScore < 75 && 'Your business needs attention in some areas to maintain compliance.'}\n                    {healthScore.totalScore < 60 && 'Your business has critical issues that require immediate attention.'}\n                  </p>\n                </div>\n              </div>\n\n              {/* Score Breakdown */}\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '16px' }}>\n                {/* Compliance */}\n                <div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: '#0f172a' }}>Compliance</span>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: healthScore.compliance.score / healthScore.compliance.maxScore >= 0.75 ? '#059669' : '#dc2626' }}>\n                      {healthScore.compliance.score}/{healthScore.compliance.maxScore}\n                    </span>\n                  </div>\n                  <div style={{ width: '100%', height: '6px', background: '#e2e8f0', borderRadius: '3px', overflow: 'hidden' }}>\n                    <div\n                      style={{\n                        width: `${(healthScore.compliance.score / healthScore.compliance.maxScore) * 100}%`,\n                        height: '100%',\n                        background: healthScore.compliance.score / healthScore.compliance.maxScore >= 0.75 ? '#059669' : '#dc2626',\n                        transition: 'width 0.3s ease-out'\n                      }}\n                    />\n                  </div>\n                </div>\n\n                {/* Documents */}\n                <div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: '#0f172a' }}>Documents</span>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: healthScore.documents.score / healthScore.documents.maxScore >= 0.75 ? '#059669' : '#d97706' }}>\n                      {healthScore.documents.score}/{healthScore.documents.maxScore}\n                    </span>\n                  </div>\n                  <div style={{ width: '100%', height: '6px', background: '#e2e8f0', borderRadius: '3px', overflow: 'hidden' }}>\n                    <div\n                      style={{\n                        width: `${(healthScore.documents.score / healthScore.documents.maxScore) * 100}%`,\n                        height: '100%',\n                        background: healthScore.documents.score / healthScore.documents.maxScore >= 0.75 ? '#059669' : '#d97706',\n                        transition: 'width 0.3s ease-out'\n                      }}\n                    />\n                  </div>\n                </div>\n\n                {/* Payments */}\n                <div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: '#0f172a' }}>Payments</span>\n                    <span style={{ fontSize: '13px', fontWeight: '600', color: healthScore.payments.score / healthScore.payments.maxScore >= 0.75 ? '#059669' : '#dc2626' }}>\n                      {healthScore.payments.score}/{healthScore.payments.maxScore}\n                    </span>\n                  </div>\n                  <div style={{ width: '100%', height: '6px', background: '#e2e8f0', borderRadius: '3px', overflow: 'hidden' }}>\n                    <div\n                      style={{\n                        width: `${(healthScore.payments.score / healthScore.payments.maxScore) * 100}%`,\n                        height: '100%',\n                        background: healthScore.payments.score / healthScore.payments.maxScore >= 0.75 ? '#059669' : '#dc2626',\n                        transition: 'width 0.3s ease-out'\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Recommendations */}\n              {healthScore.recommendations.length > 0 && (\n                <div\n                  style={{\n                    marginTop: '20px',\n                    padding: '16px',\n                    background: '#f0f9ff',\n                    border: '1px solid #0ea5e9',\n                    borderRadius: '8px'\n                  }}\n                >\n                  <div style={{ fontSize: '14px', fontWeight: '600', color: '#0f172a', marginBottom: '8px' }}>\n                    üìà Recommendations to Improve\n                  </div>\n                  <ul style={{ margin: 0, paddingLeft: '20px' }}>\n                    {healthScore.recommendations.slice(0, 3).map((rec, index) => (\n                      <li key={index} style={{ fontSize: '13px', color: '#334155', marginBottom: '4px', lineHeight: '1.5' }}>\n                        {rec}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Business Information Card */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üìã Business Information\n            </h2>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Document Number</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  {business.documentNumber || 'N/A'}\n                </p>\n              </div>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>FEI/EIN</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  {business.feiNumber || 'Not provided'}\n                </p>\n              </div>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Formation Date</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  {business.filingDate ? new Date(business.filingDate).toLocaleDateString() : 'N/A'}\n                </p>\n              </div>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Entity Type</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  Florida {business.entityType}\n                </p>\n              </div>\n              {business.dbaName && (\n                <div style={{ gridColumn: '1 / -1' }}>\n                  <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>DBA (Doing Business As)</p>\n                  <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                    {business.dbaName}\n                  </p>\n                </div>\n              )}\n              {business.purpose && (\n                <div style={{ gridColumn: '1 / -1' }}>\n                  <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Business Purpose</p>\n                  <p style={{ fontSize: '15px', color: '#0f172a' }}>\n                    {business.purpose}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Addresses Card */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üìç Addresses\n            </h2>\n            \n            {business.principalAddress && (\n              <div style={{ marginBottom: '20px' }}>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px', fontWeight: '500' }}>\n                  Principal Address\n                </p>\n                <p style={{ fontSize: '15px', color: '#0f172a' }}>\n                  {business.principalAddress.street}\n                  {business.principalAddress.suite && `, ${business.principalAddress.suite}`}\n                  <br />\n                  {business.principalAddress.city}, {business.principalAddress.state} {business.principalAddress.zipCode}\n                </p>\n              </div>\n            )}\n\n            {business.mailingAddress && (\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px', fontWeight: '500' }}>\n                  Mailing Address\n                </p>\n                <p style={{ fontSize: '15px', color: '#0f172a' }}>\n                  {business.mailingAddress.street}\n                  {business.mailingAddress.suite && `, ${business.mailingAddress.suite}`}\n                  <br />\n                  {business.mailingAddress.city}, {business.mailingAddress.state} {business.mailingAddress.zipCode}\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Registered Agent Card */}\n          {business.registeredAgent && (\n            <div\n              className=\"bg-white rounded-xl\"\n              style={{\n                padding: '24px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n                border: '1px solid #e2e8f0'\n              }}\n            >\n              <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n                üë§ Registered Agent\n              </h2>\n              <div style={{ marginBottom: '12px' }}>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  {business.registeredAgent.agentType === 'INDIVIDUAL'\n                    ? `${business.registeredAgent.firstName} ${business.registeredAgent.lastName}`\n                    : business.registeredAgent.companyName}\n                </p>\n                <p style={{ fontSize: '13px', color: '#64748b' }}>\n                  {business.registeredAgent.agentType === 'INDIVIDUAL' ? 'Individual' : 'Company'}\n                </p>\n              </div>\n              {business.registeredAgent.address && (\n                <p style={{ fontSize: '14px', color: '#0f172a', marginBottom: '12px' }}>\n                  {business.registeredAgent.address.street}\n                  {business.registeredAgent.address.suite && `, ${business.registeredAgent.address.suite}`}\n                  <br />\n                  {business.registeredAgent.address.city}, {business.registeredAgent.address.state} {business.registeredAgent.address.zipCode}\n                </p>\n              )}\n              {(business.registeredAgent.email || business.registeredAgent.phone) && (\n                <div style={{ fontSize: '14px', color: '#64748b' }}>\n                  {business.registeredAgent.email && <p>Email: {business.registeredAgent.email}</p>}\n                  {business.registeredAgent.phone && <p>Phone: {business.registeredAgent.phone}</p>}\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Managers/Officers Card */}\n          {business.managersOfficers.length > 0 && (\n            <div\n              className=\"bg-white rounded-xl\"\n              style={{\n                padding: '24px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n                border: '1px solid #e2e8f0'\n              }}\n            >\n              <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n                üë• Managers & Officers ({business.managersOfficers.length})\n              </h2>\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n                {business.managersOfficers.map((person) => (\n                  <div\n                    key={person.id}\n                    style={{\n                      padding: '16px',\n                      background: '#f8fafc',\n                      borderRadius: '8px',\n                      border: '1px solid #e2e8f0'\n                    }}\n                  >\n                    <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500', marginBottom: '4px' }}>\n                      {person.firstName} {person.lastName}\n                    </p>\n                    <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                      {person.title || person.roleType}\n                    </p>\n                    <p style={{ fontSize: '13px', color: '#64748b' }}>\n                      {person.address}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Right Column - Activity */}\n        <div>\n          {/* Recent Activity Card */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üìä Recent Activity\n            </h2>\n            {business.filings.length > 0 ? (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n                {business.filings.map((filing) => (\n                  <Link\n                    key={filing.id}\n                    href={`/dashboard/filings/${filing.id}`}\n                    style={{\n                      padding: '12px',\n                      background: '#f8fafc',\n                      borderRadius: '8px',\n                      borderLeft: '3px solid #0ea5e9',\n                      textDecoration: 'none',\n                      display: 'block',\n                      transition: 'all 0.2s',\n                      cursor: 'pointer'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.background = '#e0f2fe';\n                      e.currentTarget.style.transform = 'translateX(4px)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.background = '#f8fafc';\n                      e.currentTarget.style.transform = 'translateX(0)';\n                    }}\n                  >\n                    <p style={{ fontSize: '14px', color: '#0f172a', fontWeight: '500', marginBottom: '4px' }}>\n                      {filing.filingType.replace(/_/g, ' ')}\n                    </p>\n                    <p style={{ fontSize: '12px', color: '#64748b' }}>\n                      {new Date(filing.createdAt).toLocaleDateString()}\n                    </p>\n                    {(() => {\n                      const statusInfo = getStatusDisplay(filing.status);\n                      return (\n                        <span style={{\n                          display: 'inline-block',\n                          marginTop: '6px',\n                          padding: '2px 8px',\n                          background: statusInfo.bg,\n                          color: statusInfo.color,\n                          borderRadius: '6px',\n                          fontSize: '11px',\n                          fontWeight: '500'\n                        }}>\n                          {statusInfo.label}\n                        </span>\n                      );\n                    })()}\n                  </Link>\n                ))}\n              </div>\n            ) : (\n              <div style={{ textAlign: 'center', padding: '32px 0' }}>\n                <p style={{ fontSize: '14px', color: '#94a3b8' }}>No activity yet</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\businesses\\import\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":374,"column":16,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[14825,14875],"text":"\n            Don&apos;t have a business yet?\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[14825,14875],"text":"\n            Don&lsquo;t have a business yet?\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[14825,14875],"text":"\n            Don&#39;t have a business yet?\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[14825,14875],"text":"\n            Don&rsquo;t have a business yet?\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\nexport default function ImportBusinessPage() {\n  const router = useRouter();\n  const [documentNumber, setDocumentNumber] = useState('');\n  const [entityName, setEntityName] = useState('');\n  const [searchType, setSearchType] = useState<'DOCUMENT_NUMBER' | 'ENTITY_NAME'>('DOCUMENT_NUMBER');\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(to bottom, #f9fafb, #e5e7eb)'\n    }}>\n      <div style={{ padding: '32px 24px' }}>\n        <div style={{ maxWidth: '1280px', margin: '0 auto', width: '100%' }}>\n          {/* Header */}\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '2.5rem',\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n            marginBottom: '2rem'\n          }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem',\n            marginBottom: '1.5rem'\n          }}>\n            <button\n              onClick={() => router.back()}\n              style={{\n                background: '#f1f5f9',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '8px 12px',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px',\n                color: '#64748b',\n                fontSize: '14px',\n                fontWeight: '500'\n              }}\n            >\n              <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n              </svg>\n              Back\n            </button>\n          </div>\n\n          <div style={{\n            width: '64px',\n            height: '64px',\n            background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 1.5rem'\n          }}>\n            <svg style={{ width: '32px', height: '32px', color: 'white' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n\n          <h1 style={{ fontSize: '2rem', fontWeight: 'bold', marginBottom: '0.75rem', color: '#0f172a', textAlign: 'center' }}>\n            Import Your Business from Sunbiz\n          </h1>\n          <p style={{ color: '#64748b', fontSize: '1.125rem', lineHeight: '1.6', textAlign: 'center' }}>\n            Search for your existing Florida business and import it to your account\n          </p>\n        </div>\n\n        {/* Search Type Selector */}\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '2rem',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          marginBottom: '2rem'\n        }}>\n          <label style={{ display: 'block', fontSize: '14px', fontWeight: '600', color: '#0f172a', marginBottom: '12px' }}>\n            Search By\n          </label>\n          <div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>\n            <button\n              onClick={() => setSearchType('DOCUMENT_NUMBER')}\n              style={{\n                flex: 1,\n                padding: '12px 20px',\n                borderRadius: '8px',\n                border: searchType === 'DOCUMENT_NUMBER' ? '2px solid #0ea5e9' : '2px solid #e5e7eb',\n                background: searchType === 'DOCUMENT_NUMBER' ? '#eff6ff' : 'white',\n                color: searchType === 'DOCUMENT_NUMBER' ? '#0ea5e9' : '#64748b',\n                fontSize: '15px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s'\n              }}\n            >\n              Document Number\n            </button>\n            <button\n              onClick={() => setSearchType('ENTITY_NAME')}\n              style={{\n                flex: 1,\n                padding: '12px 20px',\n                borderRadius: '8px',\n                border: searchType === 'ENTITY_NAME' ? '2px solid #0ea5e9' : '2px solid #e5e7eb',\n                background: searchType === 'ENTITY_NAME' ? '#eff6ff' : 'white',\n                color: searchType === 'ENTITY_NAME' ? '#0ea5e9' : '#64748b',\n                fontSize: '15px',\n                fontWeight: '600',\n                cursor: 'pointer',\n                transition: 'all 0.2s'\n              }}\n            >\n              Business Name\n            </button>\n          </div>\n\n          {/* Search Input */}\n          {searchType === 'DOCUMENT_NUMBER' ? (\n            <div>\n              <label style={{ display: 'block', fontSize: '14px', fontWeight: '600', color: '#0f172a', marginBottom: '8px' }}>\n                Document Number\n              </label>\n              <input\n                type=\"text\"\n                value={documentNumber}\n                onChange={(e) => setDocumentNumber(e.target.value)}\n                placeholder=\"e.g., L12000012345\"\n                style={{\n                  width: '100%',\n                  padding: '12px 16px',\n                  borderRadius: '8px',\n                  border: '2px solid #e5e7eb',\n                  fontSize: '15px',\n                  outline: 'none',\n                  transition: 'all 0.2s'\n                }}\n                onFocus={(e) => {\n                  e.currentTarget.style.borderColor = '#0ea5e9';\n                }}\n                onBlur={(e) => {\n                  e.currentTarget.style.borderColor = '#e5e7eb';\n                }}\n              />\n              <p style={{ fontSize: '13px', color: '#64748b', marginTop: '8px' }}>\n                Your Document Number is a unique identifier (e.g., L12000012345 for LLCs, P12000012345 for Corporations)\n              </p>\n            </div>\n          ) : (\n            <div>\n              <label style={{ display: 'block', fontSize: '14px', fontWeight: '600', color: '#0f172a', marginBottom: '8px' }}>\n                Business Name\n              </label>\n              <input\n                type=\"text\"\n                value={entityName}\n                onChange={(e) => setEntityName(e.target.value)}\n                placeholder=\"e.g., Acme LLC\"\n                style={{\n                  width: '100%',\n                  padding: '12px 16px',\n                  borderRadius: '8px',\n                  border: '2px solid #e5e7eb',\n                  fontSize: '15px',\n                  outline: 'none',\n                  transition: 'all 0.2s'\n                }}\n                onFocus={(e) => {\n                  e.currentTarget.style.borderColor = '#0ea5e9';\n                }}\n                onBlur={(e) => {\n                  e.currentTarget.style.borderColor = '#e5e7eb';\n                }}\n              />\n              <p style={{ fontSize: '13px', color: '#64748b', marginTop: '8px' }}>\n                Enter your business name exactly as it appears on Sunbiz\n              </p>\n            </div>\n          )}\n\n          {/* Search Button */}\n          <button\n            disabled\n            style={{\n              width: '100%',\n              marginTop: '1.5rem',\n              padding: '12px 24px',\n              background: '#9ca3af',\n              color: 'white',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '16px',\n              fontWeight: '600',\n              cursor: 'not-allowed'\n            }}\n          >\n            Search Sunbiz (Coming Soon)\n          </button>\n        </div>\n\n        {/* Coming Soon Notice */}\n        <div style={{\n          background: '#fef3c7',\n          border: '2px solid #fbbf24',\n          borderRadius: '12px',\n          padding: '2rem',\n          marginBottom: '2rem'\n        }}>\n          <div style={{ display: 'flex', gap: '1rem' }}>\n            <div style={{\n              width: '24px',\n              height: '24px',\n              flexShrink: 0\n            }}>\n              <svg style={{ width: '24px', height: '24px', color: '#d97706' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <div>\n              <h3 style={{ fontSize: '1.125rem', fontWeight: '600', color: '#78350f', marginBottom: '0.5rem' }}>\n                Feature Coming in Month 3-4\n              </h3>\n              <p style={{ fontSize: '0.9375rem', color: '#92400e', lineHeight: '1.6', marginBottom: '1rem' }}>\n                Automatic Sunbiz integration is planned for Month 3-4 of our development roadmap. This feature will allow you to:\n              </p>\n              <ul style={{ fontSize: '0.9375rem', color: '#92400e', lineHeight: '1.8', marginLeft: '1.5rem', marginBottom: '1rem' }}>\n                <li>Search for your business by Document Number or Name</li>\n                <li>Automatically import all business details from Sunbiz</li>\n                <li>Verify your business status in real-time</li>\n                <li>Auto-fill forms with official state records</li>\n              </ul>\n              <p style={{ fontSize: '0.9375rem', color: '#92400e', lineHeight: '1.6' }}>\n                For now, please use the manual workaround below.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Manual Workaround */}\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '2rem',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          marginBottom: '2rem'\n        }}>\n          <h2 style={{ fontSize: '1.5rem', fontWeight: '600', color: '#0f172a', marginBottom: '1rem' }}>\n            Manual Workaround\n          </h2>\n          <p style={{ fontSize: '0.9375rem', color: '#64748b', lineHeight: '1.6', marginBottom: '1.5rem' }}>\n            Until automatic import is available, you can manually add your business information:\n          </p>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            <div style={{\n              background: '#f8fafc',\n              border: '1px solid #e2e8f0',\n              borderRadius: '8px',\n              padding: '1.25rem',\n              display: 'flex',\n              alignItems: 'start',\n              gap: '1rem'\n            }}>\n              <div style={{\n                width: '32px',\n                height: '32px',\n                background: '#dbeafe',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0\n              }}>\n                <span style={{ color: '#0ea5e9', fontWeight: '700', fontSize: '14px' }}>1</span>\n              </div>\n              <div>\n                <h3 style={{ fontSize: '1rem', fontWeight: '600', color: '#0f172a', marginBottom: '0.5rem' }}>\n                  Look up your business on Sunbiz.org\n                </h3>\n                <p style={{ fontSize: '0.875rem', color: '#64748b', lineHeight: '1.6', marginBottom: '0.75rem' }}>\n                  Visit the official Florida Sunbiz website to find your business details\n                </p>\n                <a\n                  href=\"https://search.sunbiz.org/Inquiry/CorporationSearch/ByName\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  style={{\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    color: '#0ea5e9',\n                    fontSize: '0.875rem',\n                    fontWeight: '500',\n                    textDecoration: 'none'\n                  }}\n                >\n                  Search Sunbiz.org\n                  <svg style={{ width: '14px', height: '14px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                  </svg>\n                </a>\n              </div>\n            </div>\n\n            <div style={{\n              background: '#f8fafc',\n              border: '1px solid #e2e8f0',\n              borderRadius: '8px',\n              padding: '1.25rem',\n              display: 'flex',\n              alignItems: 'start',\n              gap: '1rem'\n            }}>\n              <div style={{\n                width: '32px',\n                height: '32px',\n                background: '#dbeafe',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0\n              }}>\n                <span style={{ color: '#0ea5e9', fontWeight: '700', fontSize: '14px' }}>2</span>\n              </div>\n              <div>\n                <h3 style={{ fontSize: '1rem', fontWeight: '600', color: '#0f172a', marginBottom: '0.5rem' }}>\n                  File your Annual Report with the information from Sunbiz\n                </h3>\n                <p style={{ fontSize: '0.875rem', color: '#64748b', lineHeight: '1.6', marginBottom: '0.75rem' }}>\n                  Use the Annual Report service and manually enter your business details\n                </p>\n                <Link\n                  href=\"/services/annual-report\"\n                  style={{\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    color: '#0ea5e9',\n                    fontSize: '0.875rem',\n                    fontWeight: '500',\n                    textDecoration: 'none'\n                  }}\n                >\n                  Go to Annual Report Service\n                  <svg style={{ width: '14px', height: '14px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Alternative: Form New Business */}\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '2rem',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          textAlign: 'center'\n        }}>\n          <h2 style={{ fontSize: '1.25rem', fontWeight: '600', color: '#0f172a', marginBottom: '0.75rem' }}>\n            Don't have a business yet?\n          </h2>\n          <p style={{ fontSize: '0.9375rem', color: '#64748b', lineHeight: '1.6', marginBottom: '1.5rem' }}>\n            Start a new LLC, Corporation, or other business entity in Florida\n          </p>\n          <Link\n            href=\"/services?category=FORMATION\"\n            style={{\n              display: 'inline-flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '12px 24px',\n              background: '#10b981',\n              color: 'white',\n              borderRadius: '8px',\n              fontSize: '15px',\n              fontWeight: '600',\n              textDecoration: 'none',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.background = '#059669';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.background = '#10b981';\n            }}\n          >\n            Browse Formation Services\n            <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </Link>\n        </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\businesses\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\calendar\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":48,"column":95,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[1416,1622],"text":"\n          Your compliance calendar will automatically track all important deadlines including\n          annual reports, tax filings, and license renewals - with smart reminders before they&apos;re due.\n        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[1416,1622],"text":"\n          Your compliance calendar will automatically track all important deadlines including\n          annual reports, tax filings, and license renewals - with smart reminders before they&lsquo;re due.\n        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[1416,1622],"text":"\n          Your compliance calendar will automatically track all important deadlines including\n          annual reports, tax filings, and license renewals - with smart reminders before they&#39;re due.\n        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[1416,1622],"text":"\n          Your compliance calendar will automatically track all important deadlines including\n          annual reports, tax filings, and license renewals - with smart reminders before they&rsquo;re due.\n        "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Calendar } from 'lucide-react';\n\nexport default function CalendarPage() {\n  return (\n    <div>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '8px' }}>\n          Compliance Calendar\n        </h1>\n        <p style={{ fontSize: '16px', color: '#64748b' }}>\n          Never miss a deadline with smart reminders\n        </p>\n      </div>\n\n      {/* Coming Soon Card */}\n      <div\n        style={{\n          background: 'white',\n          border: '1px solid #e2e8f0',\n          borderRadius: '16px',\n          padding: '48px',\n          textAlign: 'center',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n        }}\n      >\n        <div\n          style={{\n            width: '80px',\n            height: '80px',\n            background: '#f0fdf4',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 24px'\n          }}\n        >\n          <Calendar size={40} color=\"#10b981\" />\n        </div>\n\n        <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '12px' }}>\n          Compliance Calendar Coming Soon\n        </h2>\n\n        <p style={{ fontSize: '16px', color: '#64748b', marginBottom: '32px', maxWidth: '600px', margin: '0 auto 32px' }}>\n          Your compliance calendar will automatically track all important deadlines including\n          annual reports, tax filings, and license renewals - with smart reminders before they're due.\n        </p>\n\n        {/* Features Preview */}\n        <div\n          className=\"grid grid-cols-1 md:grid-cols-3\"\n          style={{ gap: '24px', maxWidth: '900px', margin: '0 auto', textAlign: 'left' }}\n        >\n          <div style={{ padding: '20px', background: '#f8fafc', borderRadius: '12px' }}>\n            <p className=\"font-semibold\" style={{ fontSize: '14px', color: '#0f172a', marginBottom: '8px' }}>\n              üìÖ Auto-Populated Deadlines\n            </p>\n            <p style={{ fontSize: '13px', color: '#64748b' }}>\n              State-specific deadlines added automatically for each business\n            </p>\n          </div>\n\n          <div style={{ padding: '20px', background: '#f8fafc', borderRadius: '12px' }}>\n            <p className=\"font-semibold\" style={{ fontSize: '14px', color: '#0f172a', marginBottom: '8px' }}>\n              üîî Smart Reminders\n            </p>\n            <p style={{ fontSize: '13px', color: '#64748b' }}>\n              Email and SMS reminders 30, 14, and 7 days before deadlines\n            </p>\n          </div>\n\n          <div style={{ padding: '20px', background: '#f8fafc', borderRadius: '12px' }}>\n            <p className=\"font-semibold\" style={{ fontSize: '14px', color: '#0f172a', marginBottom: '8px' }}>\n              ü§ñ AI Deadline Detection\n            </p>\n            <p style={{ fontSize: '13px', color: '#64748b' }}>\n              AI extracts deadlines from registered agent mail automatically\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\customer\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":173,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":173,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4122,4125],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4122,4125],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":182,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4446,4449],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4446,4449],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":250,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":250,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6674,6677],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6674,6677],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Individual Customer Dashboard\n * \n * Dashboard for individual customers managing their own businesses.\n * Shows: My Businesses, Quick Stats, Popular Services, Recent Activity\n */\n\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { redirect } from 'next/navigation';\nimport { PrismaClient } from '@/generated/prisma';\nimport DashboardClient from '@/components/DashboardClient';\nimport { calculateHealthScore } from '@/lib/healthScore';\n\nconst prisma = new PrismaClient();\n\nexport default async function CustomerDashboard() {\n  const session = await getServerSession(authOptions);\n\n  if (!session?.user?.id) {\n    redirect('/auth/signin');\n  }\n\n  // Fetch all dashboard data in parallel\n  const [user, businesses, orders, formDrafts, recentOrders, recentDrafts, recentBusinesses] = await Promise.all([\n    // Get user details\n    prisma.user.findUnique({\n      where: { id: session.user.id },\n      select: {\n        firstName: true,\n        lastName: true,\n        email: true\n      }\n    }),\n    // Get user's businesses\n    prisma.businessEntity.findMany({\n      where: {\n        client: {\n          userId: session.user.id\n        }\n      },\n      select: {\n        id: true,\n        legalName: true,\n        documentNumber: true,\n        entityType: true,\n        status: true,\n        filingDate: true\n      },\n      orderBy: {\n        createdAt: 'desc'\n      }\n    }),\n\n    // Get pending orders\n    prisma.order.findMany({\n      where: {\n        userId: session.user.id,\n        orderStatus: {\n          in: ['PENDING', 'PROCESSING']\n        }\n      },\n      select: {\n        id: true,\n        orderStatus: true,\n        createdAt: true\n      }\n    }),\n\n    // Get incomplete filings (form drafts)\n    prisma.formDraft.findMany({\n      where: {\n        userId: session.user.id\n      },\n      select: {\n        id: true,\n        formType: true,\n        currentStep: true,\n        totalSteps: true,\n        displayName: true,\n        updatedAt: true\n      },\n      orderBy: {\n        updatedAt: 'desc'\n      }\n    }),\n\n    // Get recent orders for activity feed\n    prisma.order.findMany({\n      where: {\n        userId: session.user.id\n      },\n      select: {\n        id: true,\n        orderNumber: true,\n        orderStatus: true,\n        total: true,\n        createdAt: true,\n        orderItems: {\n          select: {\n            serviceType: true,\n            description: true,\n            additionalData: true\n          }\n        }\n      },\n      orderBy: {\n        createdAt: 'desc'\n      },\n      take: 5\n    }),\n\n    // Get recent form drafts for activity feed\n    prisma.formDraft.findMany({\n      where: {\n        userId: session.user.id\n      },\n      select: {\n        id: true,\n        formType: true,\n        displayName: true,\n        currentStep: true,\n        totalSteps: true,\n        updatedAt: true\n      },\n      orderBy: {\n        updatedAt: 'desc'\n      },\n      take: 5\n    }),\n\n    // Get recent businesses for activity feed\n    prisma.businessEntity.findMany({\n      where: {\n        client: {\n          userId: session.user.id\n        }\n      },\n      select: {\n        id: true,\n        legalName: true,\n        entityType: true,\n        createdAt: true\n      },\n      orderBy: {\n        createdAt: 'desc'\n      },\n      take: 5\n    })\n  ]);\n\n  await prisma.$disconnect();\n\n  // Calculate health scores for all businesses and count pending actions\n  const healthScoresAndActions = await Promise.all(\n    businesses.map(async (business) => {\n      const fullBusiness = await prisma.businessEntity.findUnique({\n        where: { id: business.id },\n        include: {\n          registeredAgent: true,\n          managersOfficers: true\n        }\n      });\n      if (!fullBusiness) return { score: null, actions: 0 };\n\n      const healthScore = await calculateHealthScore(fullBusiness.id);\n\n      // Count pending actions for this business\n      let businessActions = 0;\n\n      // Check compliance factors for critical issues\n      if (healthScore.compliance?.factors) {\n        healthScore.compliance.factors.forEach((factor: any) => {\n          if (factor.status === 'critical') {\n            businessActions++; // Overdue annual report, dissolved, etc.\n          }\n        });\n      }\n\n      // Check document factors for missing critical documents\n      if (healthScore.documents?.factors) {\n        healthScore.documents.factors.forEach((factor: any) => {\n          if (factor.status === 'critical') {\n            businessActions++; // Missing EIN, etc.\n          }\n        });\n      }\n\n      return { score: healthScore.totalScore, actions: businessActions };\n    })\n  );\n\n  // Calculate average health score\n  const validScores = healthScoresAndActions\n    .map(item => item.score)\n    .filter((score): score is number => score !== null);\n  const averageHealthScore = validScores.length > 0\n    ? validScores.reduce((sum, score) => sum + score, 0) / validScores.length\n    : null;\n\n  // Count total pending actions (things customer needs to do)\n  const pendingActions =\n    healthScoresAndActions.reduce((sum, item) => sum + item.actions, 0) + // Critical health issues\n    formDrafts.length; // Incomplete form drafts\n\n  // Calculate stats\n  const stats = {\n    activeBusinesses: businesses.filter(b => b.status === 'ACTIVE').length,\n    pendingOrders: orders.length,\n    documents: 0, // TODO: Implement when Document model is created\n    incompleteFiling: formDrafts.length\n  };\n\n  // Combine and format recent activity\n  type Activity = {\n    id: string;\n    type: 'order' | 'draft' | 'business';\n    action: string;\n    description: string;\n    subtitle?: string;\n    thirdLine?: string;\n    metadata?: string;\n    timestamp: Date;\n  };\n\n  const activities: Activity[] = [\n    // Orders\n    ...recentOrders.map(order => {\n      // Get a user-friendly description from the service type\n      let serviceName = 'Order';\n      let subtitle = '';\n      let thirdLine = '';\n\n      if (order.orderItems.length > 0) {\n        const item = order.orderItems[0];\n        const serviceType = item.serviceType;\n\n        // Convert service type to readable format with consistent terminology\n        if (serviceType === 'FICTITIOUS_NAME_REGISTRATION') {\n          serviceName = 'Fictitious Name (DBA)';\n        } else {\n          serviceName = serviceType\n            .replace(/_/g, ' ')\n            .toLowerCase()\n            .replace(/\\b\\w/g, char => char.toUpperCase());\n        }\n\n        // Try to extract business/fictitious name from additionalData\n        if (item.additionalData && typeof item.additionalData === 'object') {\n          const data = item.additionalData as any;\n\n          // For fictitious name registrations - show entity name and DBA name separately\n          if (serviceType === 'FICTITIOUS_NAME_REGISTRATION') {\n            // Line 2: Show the business entity that will use the DBA\n            if (data.businessEntityOwners && data.businessEntityOwners.length > 0) {\n              subtitle = `for ${data.businessEntityOwners[0].entityName}`;\n            } else if (data.individualOwners && data.individualOwners.length > 0) {\n              const owner = data.individualOwners[0];\n              subtitle = `for ${owner.firstName} ${owner.lastName}`;\n            } else {\n              subtitle = 'for [Business name not assigned]';\n            }\n\n            // Line 3: Show the DBA name if it exists\n            if (data.fictitiousName) {\n              thirdLine = `doing business as ${data.fictitiousName}`;\n            }\n          }\n          // For LLC/Corp formations\n          else if (data.legalName) {\n            subtitle = `for ${data.legalName}`;\n          }\n          // For other services with business name\n          else if (data.businessName) {\n            subtitle = `for ${data.businessName}`;\n          }\n        }\n      }\n\n      return {\n        id: order.id,\n        type: 'order' as const,\n        action: order.orderStatus === 'COMPLETED' ? 'Order completed' : 'Order created',\n        description: serviceName,\n        subtitle: subtitle || undefined,\n        thirdLine: thirdLine || undefined,\n        metadata: `$${Number(order.total).toFixed(2)}`,\n        timestamp: order.createdAt\n      };\n    }),\n    // Form drafts\n    ...recentDrafts.map(draft => {\n      const formName = draft.displayName || draft.formType.replace(/_/g, ' ');\n      const progress = draft.totalSteps ? `Step ${draft.currentStep} of ${draft.totalSteps}` : 'In progress';\n\n      return {\n        id: draft.id,\n        type: 'draft' as const,\n        action: 'Draft saved',\n        description: formName,\n        metadata: progress,\n        timestamp: draft.updatedAt\n      };\n    }),\n    // Businesses\n    ...recentBusinesses.map(business => {\n      const entityType = business.entityType\n        .replace(/_/g, ' ')\n        .toLowerCase()\n        .replace(/\\b\\w/g, char => char.toUpperCase());\n\n      return {\n        id: business.id,\n        type: 'business' as const,\n        action: 'Business added',\n        description: business.legalName,\n        metadata: entityType,\n        timestamp: business.createdAt\n      };\n    })\n  ];\n\n  // Sort by timestamp (most recent first) and take top 5\n  const recentActivity = activities\n    .sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime())\n    .slice(0, 5);\n\n  return (\n    <DashboardClient\n      businesses={businesses}\n      stats={stats}\n      recentActivity={recentActivity}\n      userName={user?.firstName || user?.email?.split('@')[0] || 'there'}\n      averageHealthScore={averageHealthScore}\n      pendingActions={pendingActions}\n    />\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\documents\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\filings\\[id]\\approve\\page.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchFiling'. Either include it or remove the dependency array.","line":51,"column":6,"nodeType":"ArrayExpression","endLine":51,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [fetchFiling, filingId]","fix":{"range":[1235,1245],"text":"[fetchFiling, filingId]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":181,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5339,5390],"text":"\n            We&apos;re Preparing Your Review\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5339,5390],"text":"\n            We&lsquo;re Preparing Your Review\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5339,5390],"text":"\n            We&#39;re Preparing Your Review\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5339,5390],"text":"\n            We&rsquo;re Preparing Your Review\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":185,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5497,5681],"text":"\n            Our team is finalizing the details of the changes made to your filing.\n            We&apos;ll send you a notification as soon as everything is ready for your review.\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5497,5681],"text":"\n            Our team is finalizing the details of the changes made to your filing.\n            We&lsquo;ll send you a notification as soon as everything is ready for your review.\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5497,5681],"text":"\n            Our team is finalizing the details of the changes made to your filing.\n            We&#39;ll send you a notification as soon as everything is ready for your review.\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5497,5681],"text":"\n            Our team is finalizing the details of the changes made to your filing.\n            We&rsquo;ll send you a notification as soon as everything is ready for your review.\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":201,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6364,6381],"text":"What&apos;s happening:"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6364,6381],"text":"What&lsquo;s happening:"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6364,6381],"text":"What&#39;s happening:"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6364,6381],"text":"What&rsquo;s happening:"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":205,"column":23,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6598,6643],"text":"They&apos;re documenting the specific changes made"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6598,6643],"text":"They&lsquo;re documenting the specific changes made"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6598,6643],"text":"They&#39;re documenting the specific changes made"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6598,6643],"text":"They&rsquo;re documenting the specific changes made"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":206,"column":22,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6667,6731],"text":"You&apos;ll receive a notification when ready (usually within 1 hour)"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6667,6731],"text":"You&lsquo;ll receive a notification when ready (usually within 1 hour)"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6667,6731],"text":"You&#39;ll receive a notification when ready (usually within 1 hour)"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6667,6731],"text":"You&rsquo;ll receive a notification when ready (usually within 1 hour)"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":322,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10867,10974],"text":"\n              Our team is finalizing the change documentation. You&apos;ll be notified when ready.\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10867,10974],"text":"\n              Our team is finalizing the change documentation. You&lsquo;ll be notified when ready.\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10867,10974],"text":"\n              Our team is finalizing the change documentation. You&#39;ll be notified when ready.\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10867,10974],"text":"\n              Our team is finalizing the change documentation. You&rsquo;ll be notified when ready.\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":417,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14889,14967],"text":"\n            By clicking &quot;Approve Changes\" below, you confirm that:\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14889,14967],"text":"\n            By clicking &ldquo;Approve Changes\" below, you confirm that:\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14889,14967],"text":"\n            By clicking &#34;Approve Changes\" below, you confirm that:\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14889,14967],"text":"\n            By clicking &rdquo;Approve Changes\" below, you confirm that:\n          "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":417,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14889,14967],"text":"\n            By clicking \"Approve Changes&quot; below, you confirm that:\n          "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14889,14967],"text":"\n            By clicking \"Approve Changes&ldquo; below, you confirm that:\n          "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14889,14967],"text":"\n            By clicking \"Approve Changes&#34; below, you confirm that:\n          "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14889,14967],"text":"\n            By clicking \"Approve Changes&rdquo; below, you confirm that:\n          "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Filing Approval Page\n * \n * Customer reviews and approves staff changes to their filing\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { formatFieldName } from '@/lib/utils/format-field-name';\n\ninterface Change {\n  field: string;\n  oldValue: string;\n  newValue: string;\n  changeType: 'SUBSTANTIVE' | 'MINOR';\n  reason: string;\n  changedBy: string;\n  changedAt: string;\n}\n\ninterface Filing {\n  id: string;\n  filingType: string;\n  filingStatus: string;\n  staffChanges: Change[];\n  staffChangeReason: string;\n  businessEntity: {\n    legalName: string;\n    documentNumber: string | null;\n  };\n}\n\nexport default function FilingApprovalPage() {\n  const params = useParams();\n  const router = useRouter();\n  const filingId = params?.id as string;\n\n  const [filing, setFiling] = useState<Filing | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [revisionNotes, setRevisionNotes] = useState('');\n  const [showRevisionForm, setShowRevisionForm] = useState(false);\n\n  useEffect(() => {\n    if (filingId) {\n      fetchFiling();\n    }\n  }, [filingId]);\n\n  const fetchFiling = async () => {\n    try {\n      const response = await fetch(`/api/filings/${filingId}`);\n      const data = await response.json();\n\n      if (data.success) {\n        setFiling(data.filing);\n      }\n    } catch (error) {\n      console.error('Error fetching filing:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleApprove = async () => {\n    if (!confirm('Are you sure you want to approve these changes? We will proceed with filing to the state.')) {\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const response = await fetch(`/api/filings/${filingId}/approve`, {\n        method: 'POST',\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        alert('‚úÖ Changes approved! We will now proceed with your filing.');\n        router.push('/dashboard/customer');\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error approving filing:', error);\n      alert('Failed to approve changes. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleRequestRevision = async () => {\n    if (!revisionNotes.trim()) {\n      alert('Please provide details about what you would like us to revise.');\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const response = await fetch(`/api/filings/${filingId}/request-revision`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ revisionNotes }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        alert('‚úÖ Revision request submitted. Our team will review and contact you.');\n        router.push('/dashboard/customer');\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error requesting revision:', error);\n      alert('Failed to submit revision request. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '48px',\n          height: '48px',\n          border: '4px solid #e5e7eb',\n          borderTopColor: '#0ea5e9',\n          borderRadius: '50%',\n          margin: '0 auto',\n          animation: 'spin 1s linear infinite'\n        }} />\n        <p style={{ marginTop: '1rem', color: '#64748b' }}>Loading filing details...</p>\n      </div>\n    );\n  }\n\n  if (!filing) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <p style={{ fontSize: '18px', color: '#64748b' }}>Filing not found</p>\n        <Link href=\"/dashboard/customer\" style={{ color: '#0ea5e9', marginTop: '1rem', display: 'inline-block' }}>\n          ‚Üê Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  const changes: Change[] = filing.staffChanges || [];\n\n  // CRITICAL SAFEGUARD: If filing requires approval but has no changes logged, this is a system error\n  // Automatically notify staff and show customer a professional holding message\n  if (filing.filingStatus === 'PENDING_CUSTOMER_APPROVAL' && changes.length === 0) {\n    // Trigger automatic staff notification (fire and forget)\n    fetch('/api/internal/alert-staff-error', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        errorType: 'CHANGES_NOT_LOGGED',\n        filingId: filing.id,\n        businessName: filing.businessEntity.legalName,\n        filingType: filing.filingType,\n      })\n    }).catch(err => console.error('Failed to alert staff:', err));\n\n    return (\n      <div style={{ maxWidth: '900px', margin: '0 auto', padding: '4rem' }}>\n        <div style={{\n          background: '#fef3c7',\n          border: '2px solid #f59e0b',\n          borderRadius: '12px',\n          padding: '32px',\n          textAlign: 'center'\n        }}>\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>‚è≥</div>\n          <h1 className=\"font-semibold\" style={{ fontSize: '24px', color: '#92400e', marginBottom: '16px' }}>\n            We're Preparing Your Review\n          </h1>\n          <p style={{ fontSize: '16px', color: '#78350f', marginBottom: '24px', lineHeight: '1.6' }}>\n            Our team is finalizing the details of the changes made to your filing.\n            We'll send you a notification as soon as everything is ready for your review.\n          </p>\n          <p style={{ fontSize: '14px', color: '#92400e', marginBottom: '24px' }}>\n            <strong>Business:</strong> {filing.businessEntity.legalName}<br />\n            <strong>Filing Type:</strong> {filing.filingType.replace(/_/g, ' ')}<br />\n            <strong>Status:</strong> Being prepared for your review\n          </p>\n          <div style={{\n            background: '#fef9c3',\n            border: '1px solid #fde047',\n            borderRadius: '8px',\n            padding: '16px',\n            marginBottom: '24px',\n            textAlign: 'left'\n          }}>\n            <p style={{ fontSize: '14px', color: '#713f12', marginBottom: '8px' }}>\n              <strong>What's happening:</strong>\n            </p>\n            <ul style={{ fontSize: '14px', color: '#78350f', paddingLeft: '20px', margin: 0 }}>\n              <li>Our fulfillment team has been automatically notified</li>\n              <li>They're documenting the specific changes made</li>\n              <li>You'll receive a notification when ready (usually within 1 hour)</li>\n            </ul>\n          </div>\n          <Link\n            href=\"/dashboard/customer\"\n            style={{\n              background: '#f59e0b',\n              color: 'white',\n              padding: '12px 24px',\n              borderRadius: '8px',\n              textDecoration: 'none',\n              fontWeight: '500',\n              display: 'inline-block'\n            }}\n          >\n            ‚Üê Back to Dashboard\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ maxWidth: '900px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <Link\n          href=\"/dashboard/customer\"\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            color: '#64748b',\n            textDecoration: 'none',\n            fontSize: '14px',\n            marginBottom: '16px'\n          }}\n        >\n          <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back to Dashboard\n        </Link>\n\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          border: '2px solid #fbbf24'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '16px', marginBottom: '16px' }}>\n            <div style={{\n              width: '48px',\n              height: '48px',\n              borderRadius: '12px',\n              background: '#fef3c7',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '24px'\n            }}>\n              ‚ö†Ô∏è\n            </div>\n            <div>\n              <h1 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '4px' }}>\n                APPROVAL REQUIRED\n              </h1>\n              <p style={{ fontSize: '14px', color: '#64748b' }}>\n                Please review the changes made by our team\n              </p>\n            </div>\n          </div>\n\n          <div style={{\n            background: '#f8fafc',\n            borderRadius: '8px',\n            padding: '16px',\n            borderLeft: '3px solid #0ea5e9'\n          }}>\n            <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '4px' }}>Filing</p>\n            <p className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a', marginBottom: '8px' }}>\n              {filing.filingType.replace(/_/g, ' ')}\n            </p>\n            <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '4px' }}>Business</p>\n            <p className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n              {filing.businessEntity.legalName}\n              {filing.businessEntity.documentNumber && ` ‚Ä¢ ${filing.businessEntity.documentNumber}`}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Changes List */}\n      <div style={{ marginBottom: '32px' }}>\n        <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '16px' }}>\n          üìù Changes Made by Our Team\n        </h2>\n        <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '24px' }}>\n          Our fulfillment team reviewed your filing and made the following corrections. Please review and approve:\n        </p>\n\n        {/* NOTE: This should NEVER render due to safeguard above that redirects to holding page */}\n        {changes.length === 0 && (\n          <div style={{\n            background: '#fef3c7',\n            border: '2px solid #f59e0b',\n            borderRadius: '12px',\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n            textAlign: 'center'\n          }}>\n            <p style={{ color: '#92400e', fontWeight: '600', marginBottom: '8px' }}>\n              ‚è≥ Changes Being Documented\n            </p>\n            <p style={{ color: '#78350f', fontSize: '14px' }}>\n              Our team is finalizing the change documentation. You'll be notified when ready.\n            </p>\n          </div>\n        )}\n\n        {changes.map((change, index) => (\n          <div\n            key={index}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              marginBottom: '16px',\n              border: change.changeType === 'SUBSTANTIVE' ? '2px solid #fbbf24' : '1px solid #e2e8f0'\n            }}\n          >\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '16px' }}>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                Change {index + 1} of {changes.length}\n              </h3>\n              <span style={{\n                background: change.changeType === 'SUBSTANTIVE' ? '#fef3c7' : '#f1f5f9',\n                color: change.changeType === 'SUBSTANTIVE' ? '#d97706' : '#64748b',\n                padding: '4px 12px',\n                borderRadius: '12px',\n                fontSize: '12px',\n                fontWeight: '500'\n              }}>\n                {change.changeType === 'SUBSTANTIVE' ? '‚ö†Ô∏è Requires Approval' : '‚úì Minor Change'}\n              </span>\n            </div>\n\n            <div style={{ marginBottom: '16px' }}>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px', fontWeight: '500' }}>Field:</p>\n              <p style={{ fontSize: '14px', color: '#0f172a' }}>{formatFieldName(change.field)}</p>\n            </div>\n\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginBottom: '16px' }}>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px', fontWeight: '500' }}>Original:</p>\n                <div style={{\n                  background: '#fee2e2',\n                  padding: '12px',\n                  borderRadius: '6px',\n                  border: '1px solid #fecaca'\n                }}>\n                  <p style={{ fontSize: '14px', color: '#991b1b', fontFamily: 'monospace' }}>{change.oldValue}</p>\n                </div>\n              </div>\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px', fontWeight: '500' }}>Corrected:</p>\n                <div style={{\n                  background: '#d1fae5',\n                  padding: '12px',\n                  borderRadius: '6px',\n                  border: '1px solid #a7f3d0'\n                }}>\n                  <p style={{ fontSize: '14px', color: '#065f46', fontFamily: 'monospace' }}>{change.newValue}</p>\n                </div>\n              </div>\n            </div>\n\n            <div style={{\n              background: '#f8fafc',\n              padding: '12px',\n              borderRadius: '6px',\n              marginBottom: '12px'\n            }}>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px', fontWeight: '500' }}>Reason:</p>\n              <p style={{ fontSize: '14px', color: '#0f172a' }}>{change.reason}</p>\n            </div>\n\n            <div style={{ display: 'flex', gap: '16px', fontSize: '12px', color: '#94a3b8' }}>\n              <span>Changed by: {change.changedBy}</span>\n              <span>‚Ä¢</span>\n              <span>{new Date(change.changedAt).toLocaleString()}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Approval Section */}\n      {!showRevisionForm ? (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          marginBottom: '32px'\n        }}>\n          <h3 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '12px' }}>\n            ‚úÖ Approval\n          </h3>\n          <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '20px' }}>\n            By clicking \"Approve Changes\" below, you confirm that:\n          </p>\n          <ul style={{ fontSize: '14px', color: '#64748b', marginBottom: '24px', paddingLeft: '20px' }}>\n            <li style={{ marginBottom: '8px' }}>You have reviewed all changes listed above</li>\n            <li style={{ marginBottom: '8px' }}>The corrected information is accurate</li>\n            <li style={{ marginBottom: '8px' }}>You authorize us to file with the state</li>\n          </ul>\n\n          <div style={{ display: 'flex', gap: '12px' }}>\n            <button\n              onClick={handleApprove}\n              disabled={submitting}\n              style={{\n                background: '#10b981',\n                color: 'white',\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: 'none',\n                fontSize: '16px',\n                fontWeight: '500',\n                cursor: submitting ? 'not-allowed' : 'pointer',\n                opacity: submitting ? 0.6 : 1,\n                transition: 'all 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                if (!submitting) e.currentTarget.style.background = '#059669';\n              }}\n              onMouseLeave={(e) => {\n                if (!submitting) e.currentTarget.style.background = '#10b981';\n              }}\n            >\n              {submitting ? 'Processing...' : '‚úÖ Approve Changes & Proceed'}\n            </button>\n\n            <button\n              onClick={() => setShowRevisionForm(true)}\n              disabled={submitting}\n              style={{\n                background: 'white',\n                color: '#64748b',\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: '2px solid #e2e8f0',\n                fontSize: '16px',\n                fontWeight: '500',\n                cursor: submitting ? 'not-allowed' : 'pointer',\n                opacity: submitting ? 0.6 : 1,\n                transition: 'all 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                if (!submitting) {\n                  e.currentTarget.style.borderColor = '#cbd5e1';\n                  e.currentTarget.style.color = '#0f172a';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!submitting) {\n                  e.currentTarget.style.borderColor = '#e2e8f0';\n                  e.currentTarget.style.color = '#64748b';\n                }\n              }}\n            >\n              Request Revision\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          marginBottom: '32px'\n        }}>\n          <h3 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '12px' }}>\n            üìù Request Revision\n          </h3>\n          <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '16px' }}>\n            Please describe what you would like us to revise:\n          </p>\n\n          <textarea\n            value={revisionNotes}\n            onChange={(e) => setRevisionNotes(e.target.value)}\n            placeholder=\"Example: The registered agent name should be 'Jane Smith' not 'John Smith'...\"\n            style={{\n              width: '100%',\n              minHeight: '120px',\n              padding: '12px',\n              borderRadius: '8px',\n              border: '2px solid #e2e8f0',\n              fontSize: '14px',\n              fontFamily: 'inherit',\n              marginBottom: '16px',\n              resize: 'vertical'\n            }}\n          />\n\n          <div style={{ display: 'flex', gap: '12px' }}>\n            <button\n              onClick={handleRequestRevision}\n              disabled={submitting || !revisionNotes.trim()}\n              style={{\n                background: '#0ea5e9',\n                color: 'white',\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: 'none',\n                fontSize: '16px',\n                fontWeight: '500',\n                cursor: (submitting || !revisionNotes.trim()) ? 'not-allowed' : 'pointer',\n                opacity: (submitting || !revisionNotes.trim()) ? 0.6 : 1,\n                transition: 'all 0.2s'\n              }}\n            >\n              {submitting ? 'Submitting...' : 'Submit Revision Request'}\n            </button>\n\n            <button\n              onClick={() => {\n                setShowRevisionForm(false);\n                setRevisionNotes('');\n              }}\n              disabled={submitting}\n              style={{\n                background: 'white',\n                color: '#64748b',\n                padding: '12px 24px',\n                borderRadius: '8px',\n                border: '2px solid #e2e8f0',\n                fontSize: '16px',\n                fontWeight: '500',\n                cursor: submitting ? 'not-allowed' : 'pointer',\n                transition: 'all 0.2s'\n              }}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\filings\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1064,1067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1064,1067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":67,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":67,"endColumn":15}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Filing Detail Page\n * \n * Shows complete filing information with options to:\n * - View on Sunbiz (if applicable)\n * - Save locally as PDF\n * - Print\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Address {\n  street: string;\n  suite?: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  addressType: string;\n}\n\ninterface RegisteredAgent {\n  agentType: string;\n  firstName?: string;\n  lastName?: string;\n  companyName?: string;\n  address?: Address;\n}\n\ninterface ManagerOfficer {\n  firstName: string;\n  lastName: string;\n  title?: string;\n  roleType: string;\n  address: string;\n}\n\ninterface BusinessEntity {\n  id: string;\n  legalName: string;\n  entityType: string;\n  documentNumber?: string;\n  feiNumber?: string;\n  status: string;\n  addresses: Address[];\n  registeredAgent?: RegisteredAgent;\n  managersOfficers: ManagerOfficer[];\n}\n\ninterface Filing {\n  id: string;\n  filingType: string;\n  status: string;\n  filingData: any;\n  confirmationNumber?: string;\n  submittedAt?: string;\n  createdAt: string;\n  updatedAt: string;\n  businessEntity: BusinessEntity;\n}\n\nexport default function FilingDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const filingId = params.id as string;\n\n  const [filing, setFiling] = useState<Filing | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!filingId) return;\n\n    fetch(`/api/filings/${filingId}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.success) {\n          setFiling(data.filing);\n        } else {\n          setError(data.error || 'Failed to load filing');\n        }\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error('Error fetching filing:', err);\n        setError('Failed to load filing details');\n        setLoading(false);\n      });\n  }, [filingId]);\n\n  const handlePrint = () => {\n    // TODO: When official PDF is stored, open and print that PDF\n    // For now, print the current page\n    window.print();\n  };\n\n  const handleSaveLocal = () => {\n    // TODO: When official PDF is stored in database, download that PDF\n    // For now, show a message\n    alert('Official document will be available after filing is submitted to Sunbiz and the stamped PDF is stored.');\n  };\n\n  const getSunbizUrl = (documentNumber: string) => {\n    return `https://search.sunbiz.org/Inquiry/CorporationSearch/SearchResultDetail?inquirytype=DocumentNumber&directionType=Initial&searchNameOrder=${documentNumber}&aggregateId=doml-${documentNumber.toLowerCase()}&searchTerm=${documentNumber}`;\n  };\n\n  const getStatusDisplay = (status: string | null | undefined) => {\n    const statusMap: { [key: string]: { icon: string; label: string; bg: string; color: string } } = {\n      'DRAFT': { icon: 'üìù', label: 'Draft', bg: '#f3f4f6', color: '#6b7280' },\n      'PENDING_PAYMENT': { icon: 'üí≥', label: 'Pending Payment', bg: '#fef3c7', color: '#d97706' },\n      'PAID': { icon: '‚úÖ', label: 'Paid', bg: '#dbeafe', color: '#0284c7' },\n      'IN_REVIEW': { icon: 'üîç', label: 'In Review', bg: '#e0e7ff', color: '#6366f1' },\n      'PENDING_CUSTOMER_APPROVAL': { icon: '‚ö†Ô∏è', label: 'Approval Required', bg: '#fed7aa', color: '#ea580c' },\n      'APPROVED_BY_CUSTOMER': { icon: '‚úÖ', label: 'Approved', bg: '#d1fae5', color: '#059669' },\n      'READY_TO_FILE': { icon: 'üìã', label: 'Ready to File', bg: '#dbeafe', color: '#0284c7' },\n      'SUBMITTED': { icon: 'üì§', label: 'Submitted', bg: '#e0e7ff', color: '#6366f1' },\n      'COMPLETED': { icon: '‚úÖ', label: 'Completed', bg: '#d1fae5', color: '#059669' },\n      'REJECTED': { icon: '‚ùå', label: 'Rejected', bg: '#fee2e2', color: '#dc2626' },\n      'CANCELLED': { icon: 'üö´', label: 'Cancelled', bg: '#f3f4f6', color: '#6b7280' },\n    };\n\n    if (!status) {\n      return { icon: 'üìù', label: 'Draft', bg: '#f3f4f6', color: '#6b7280' };\n    }\n\n    return statusMap[status] || { icon: 'üìù', label: status.replace(/_/g, ' '), bg: '#dbeafe', color: '#0284c7' };\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '48px',\n          height: '48px',\n          border: '4px solid #e5e7eb',\n          borderTopColor: '#0ea5e9',\n          borderRadius: '50%',\n          margin: '0 auto 1rem',\n          animation: 'spin 1s linear infinite'\n        }}></div>\n        <p style={{ color: '#6b7280' }}>Loading filing details...</p>\n      </div>\n    );\n  }\n\n  if (error || !filing) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '64px',\n          height: '64px',\n          background: '#fee2e2',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          margin: '0 auto 1.5rem'\n        }}>\n          <svg style={{ width: '32px', height: '32px', color: '#dc2626' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n          </svg>\n        </div>\n        <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '0.5rem' }}>\n          {error || 'Filing not found'}\n        </h2>\n        <Link\n          href=\"/dashboard/customer\"\n          style={{\n            background: '#0ea5e9',\n            color: 'white',\n            padding: '0.75rem 2rem',\n            borderRadius: '8px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            display: 'inline-block'\n          }}\n        >\n          ‚Üê Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  const principalAddress = filing.businessEntity.addresses.find(a => a.addressType === 'PRINCIPAL');\n  const mailingAddress = filing.businessEntity.addresses.find(a => a.addressType === 'MAILING');\n\n  return (\n    <div>\n      {/* Header - Hidden when printing */}\n      <div className=\"no-print\" style={{ marginBottom: '32px' }}>\n        <Link\n          href={`/dashboard/businesses/${filing.businessEntity.id}`}\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            color: '#64748b',\n            fontSize: '14px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            marginBottom: '16px'\n          }}\n        >\n          <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back to Business Details\n        </Link>\n\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '16px' }}>\n          <div>\n            <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '12px' }}>\n              {filing.filingType.replace(/_/g, ' ')}\n            </h1>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', flexWrap: 'wrap' }}>\n              {(() => {\n                const statusInfo = getStatusDisplay(filing.status);\n                return (\n                  <span style={{\n                    background: statusInfo.bg,\n                    color: statusInfo.color,\n                    padding: '6px 14px',\n                    borderRadius: '12px',\n                    fontSize: '13px',\n                    fontWeight: '500'\n                  }}>\n                    {statusInfo.icon} {statusInfo.label}\n                  </span>\n                );\n              })()}\n              <span style={{ fontSize: '14px', color: '#64748b' }}>\n                {filing.businessEntity.legalName}\n              </span>\n              {filing.confirmationNumber && (\n                <span style={{ fontSize: '14px', color: '#64748b' }}>\n                  Confirmation: {filing.confirmationNumber}\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div style={{ display: 'flex', gap: '12px' }}>\n            {filing.businessEntity.documentNumber && (\n              <a\n                href={getSunbizUrl(filing.businessEntity.documentNumber)}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  background: '#f8fafc',\n                  border: '1px solid #e2e8f0',\n                  color: '#0f172a',\n                  padding: '10px 16px',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  textDecoration: 'none',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = '#0ea5e9';\n                  e.currentTarget.style.borderColor = '#0ea5e9';\n                  e.currentTarget.style.color = 'white';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = '#f8fafc';\n                  e.currentTarget.style.borderColor = '#e2e8f0';\n                  e.currentTarget.style.color = '#0f172a';\n                }}\n              >\n                <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\n                </svg>\n                View on Sunbiz\n              </a>\n            )}\n            \n            {filing.status === 'COMPLETED' && filing.confirmationNumber && (\n              <button\n                onClick={handleSaveLocal}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  background: '#10b981',\n                  border: 'none',\n                  color: 'white',\n                  padding: '10px 16px',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = '#059669';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = '#10b981';\n                }}\n              >\n                <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n                </svg>\n                Download Official PDF\n              </button>\n            )}\n\n            {filing.status === 'COMPLETED' && filing.confirmationNumber && (\n              <button\n                onClick={handlePrint}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  background: '#8b5cf6',\n                  border: 'none',\n                  color: 'white',\n                  padding: '10px 16px',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: '500',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = '#7c3aed';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = '#8b5cf6';\n                }}\n              >\n                <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\" />\n                </svg>\n                Print Official PDF\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Print Header - Only visible when printing */}\n      <div className=\"print-only\" style={{ display: 'none', marginBottom: '32px', paddingBottom: '16px', borderBottom: '2px solid #e2e8f0' }}>\n        <h1 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '8px' }}>LegalOps Filing Record</h1>\n        <p style={{ fontSize: '14px', color: '#64748b' }}>Generated on {new Date().toLocaleString()}</p>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"grid grid-cols-1\" style={{ gap: '24px' }}>\n        \n        {/* Filing Information Card */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0'\n          }}\n        >\n          <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n            üìã Filing Information\n          </h2>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Filing Type</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{filing.filingType.replace(/_/g, ' ')}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Status</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{getStatusDisplay(filing.status).label}</p>\n            </div>\n            {filing.confirmationNumber && (\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Confirmation Number</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{filing.confirmationNumber}</p>\n              </div>\n            )}\n            {filing.submittedAt && (\n              <div>\n                <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Submitted</p>\n                <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                  {new Date(filing.submittedAt).toLocaleString()}\n                </p>\n              </div>\n            )}\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Created</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                {new Date(filing.createdAt).toLocaleString()}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Business Entity Card */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0'\n          }}\n        >\n          <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n            üè¢ Business Entity\n          </h2>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <div style={{ gridColumn: '1 / -1' }}>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Legal Name</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{filing.businessEntity.legalName}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Entity Type</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>Florida {filing.businessEntity.entityType}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Document Number</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                {filing.businessEntity.documentNumber || 'N/A'}\n              </p>\n            </div>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>FEI/EIN</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>\n                {filing.businessEntity.feiNumber || 'Not provided'}\n              </p>\n            </div>\n            <div>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Status</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{filing.businessEntity.status}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Addresses */}\n        {(principalAddress || mailingAddress) && (\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üìç Addresses\n            </h2>\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\n              {principalAddress && (\n                <div>\n                  <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px', fontWeight: '500' }}>\n                    Principal Address\n                  </p>\n                  <p style={{ fontSize: '15px', color: '#0f172a' }}>\n                    {principalAddress.street}\n                    {principalAddress.suite && `, ${principalAddress.suite}`}\n                    <br />\n                    {principalAddress.city}, {principalAddress.state} {principalAddress.zipCode}\n                  </p>\n                </div>\n              )}\n              {mailingAddress && (\n                <div>\n                  <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px', fontWeight: '500' }}>\n                    Mailing Address\n                  </p>\n                  <p style={{ fontSize: '15px', color: '#0f172a' }}>\n                    {mailingAddress.street}\n                    {mailingAddress.suite && `, ${mailingAddress.suite}`}\n                    <br />\n                    {mailingAddress.city}, {mailingAddress.state} {mailingAddress.zipCode}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Registered Agent */}\n        {filing.businessEntity.registeredAgent && (\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üë§ Registered Agent\n            </h2>\n            <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500', marginBottom: '4px' }}>\n              {filing.businessEntity.registeredAgent.agentType === 'INDIVIDUAL'\n                ? `${filing.businessEntity.registeredAgent.firstName} ${filing.businessEntity.registeredAgent.lastName}`\n                : filing.businessEntity.registeredAgent.companyName}\n            </p>\n            {filing.businessEntity.registeredAgent.address && (\n              <p style={{ fontSize: '14px', color: '#64748b' }}>\n                {filing.businessEntity.registeredAgent.address.street}\n                {filing.businessEntity.registeredAgent.address.suite && `, ${filing.businessEntity.registeredAgent.address.suite}`}\n                <br />\n                {filing.businessEntity.registeredAgent.address.city}, {filing.businessEntity.registeredAgent.address.state} {filing.businessEntity.registeredAgent.address.zipCode}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Managers/Officers */}\n        {filing.businessEntity.managersOfficers.length > 0 && (\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '20px' }}>\n              üë• Managers & Officers ({filing.businessEntity.managersOfficers.length})\n            </h2>\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n              {filing.businessEntity.managersOfficers.map((person, idx) => (\n                <div\n                  key={idx}\n                  style={{\n                    padding: '12px',\n                    background: '#f8fafc',\n                    borderRadius: '8px',\n                    border: '1px solid #e2e8f0'\n                  }}\n                >\n                  <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500', marginBottom: '4px' }}>\n                    {person.firstName} {person.lastName}\n                  </p>\n                  <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>\n                    {person.title || person.roleType}\n                  </p>\n                  <p style={{ fontSize: '13px', color: '#64748b' }}>\n                    {person.address}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Print Styles */}\n      <style jsx global>{`\n        @media print {\n          .no-print {\n            display: none !important;\n          }\n          .print-only {\n            display: block !important;\n          }\n          body {\n            background: white;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\filings\\annual-report\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":137,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":137,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4282,4285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4282,4285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":185,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":185,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":258,"column":22,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8319,8436],"text":"\n              You don&apos;t have any businesses in your account yet. Choose an option below to get started.\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8319,8436],"text":"\n              You don&lsquo;t have any businesses in your account yet. Choose an option below to get started.\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8319,8436],"text":"\n              You don&#39;t have any businesses in your account yet. Choose an option below to get started.\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8319,8436],"text":"\n              You don&rsquo;t have any businesses in your account yet. Choose an option below to get started.\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":403,"column":49,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[14259,14316],"text":" If you&apos;re not sure which option to choose, contact us at"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[14259,14316],"text":" If you&lsquo;re not sure which option to choose, contact us at"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[14259,14316],"text":" If you&#39;re not sure which option to choose, contact us at"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[14259,14316],"text":" If you&rsquo;re not sure which option to choose, contact us at"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":538,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[18457,18626],"text":"\n                  Click &quot;Edit\" buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[18457,18626],"text":"\n                  Click &ldquo;Edit\" buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[18457,18626],"text":"\n                  Click &#34;Edit\" buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[18457,18626],"text":"\n                  Click &rdquo;Edit\" buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":538,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[18457,18626],"text":"\n                  Click \"Edit&quot; buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[18457,18626],"text":"\n                  Click \"Edit&ldquo; buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[18457,18626],"text":"\n                  Click \"Edit&#34; buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[18457,18626],"text":"\n                  Click \"Edit&rdquo; buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1032,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":1032,"endColumn":43},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1042,"column":42,"nodeType":null,"messageId":"unusedVar","endLine":1042,"endColumn":43},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1517,"column":17,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[66067,66139],"text":"\n              We&apos;ll send filing confirmation to this email\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[66067,66139],"text":"\n              We&lsquo;ll send filing confirmation to this email\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[66067,66139],"text":"\n              We&#39;ll send filing confirmation to this email\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[66067,66139],"text":"\n              We&rsquo;ll send filing confirmation to this email\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\n/**\n * LegalOps v1 - Annual Report Filing Form\n * \n * This is the SMART FORM that demonstrates:\n * - Auto-population of existing business data\n * - Minimal user input required\n * - One-click confirmation for unchanged data\n */\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface BusinessEntity {\n  id: string;\n  legalName: string;\n  documentNumber: string | null;\n  feiNumber: string | null;\n  entityType: string;\n  status: string;\n  addresses: Array<{\n    id: string;\n    street: string;\n    street2: string | null;\n    city: string;\n    state: string;\n    zipCode: string;\n    addressType: string;\n  }>;\n  registeredAgent: {\n    id: string;\n    firstName: string | null;\n    lastName: string | null;\n    companyName: string | null;\n    agentType: string;\n  } | null;\n  managersOfficers: Array<{\n    id: string;\n    firstName: string;\n    lastName: string;\n    title: string | null;\n    roleType: string;\n    address: string;\n  }>;\n  filings: Array<{\n    id: string;\n    filingType: string;\n    createdAt: string;\n  }>;\n}\n\nexport default function AnnualReportPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [entities, setEntities] = useState<BusinessEntity[]>([]);\n  const [selectedEntityId, setSelectedEntityId] = useState<string>('');\n  const [selectedEntity, setSelectedEntity] = useState<BusinessEntity | null>(null);\n  const [confirmCurrentInfo, setConfirmCurrentInfo] = useState(true);\n  const [correspondenceEmail, setCorrespondenceEmail] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // Editable fields state\n  const [principalAddressChanged, setPrincipalAddressChanged] = useState(false);\n  const [newPrincipalAddress, setNewPrincipalAddress] = useState({\n    street: '', street2: '', city: '', state: 'FL', zipCode: ''\n  });\n\n  const [mailingAddressChanged, setMailingAddressChanged] = useState(false);\n  const [newMailingAddress, setNewMailingAddress] = useState({\n    street: '', street2: '', city: '', state: 'FL', zipCode: ''\n  });\n\n  const [registeredAgentChanged, setRegisteredAgentChanged] = useState(false);\n  const [newRegisteredAgent, setNewRegisteredAgent] = useState({\n    agentType: 'INDIVIDUAL' as 'INDIVIDUAL' | 'COMPANY',\n    firstName: '', lastName: '', companyName: '',\n    address: { street: '', street2: '', city: '', state: 'FL', zipCode: '' }\n  });\n\n  const [managersOfficersChanged, setManagersOfficersChanged] = useState(false);\n  const [newManagersOfficers, setNewManagersOfficers] = useState<Array<{\n    firstName: string; lastName: string; title: string; roleType: string; address: string;\n  }>>([]);\n\n  const [feiNumberChanged, setFeiNumberChanged] = useState(false);\n  const [newFeiNumber, setNewFeiNumber] = useState('');\n\n  // Load user's business entities\n  useEffect(() => {\n    async function loadEntities() {\n      try {\n        // Fetch businesses for the logged-in user\n        const response = await fetch('/api/businesses');\n        const data = await response.json();\n\n        if (data.success && data.businesses) {\n          // Filter for active entities only\n          const activeEntities = data.businesses.filter(\n            (entity: BusinessEntity) => entity.status === 'ACTIVE'\n          );\n\n          setEntities(activeEntities);\n          if (activeEntities.length > 0) {\n            setSelectedEntityId(activeEntities[0].id);\n            setSelectedEntity(activeEntities[0]);\n          }\n        } else {\n          setError(data.error || 'Failed to load your businesses');\n        }\n      } catch (err) {\n        console.error('Error loading businesses:', err);\n        setError('Failed to load your businesses');\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    loadEntities();\n  }, []);\n\n  // Update selected entity when selection changes\n  useEffect(() => {\n    const entity = entities.find(e => e.id === selectedEntityId);\n    setSelectedEntity(entity || null);\n  }, [selectedEntityId, entities]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitting(true);\n    setError('');\n    setSuccess('');\n\n    try {\n      const formData: any = {\n        businessEntityId: selectedEntityId,\n        confirmCurrentInformation: confirmCurrentInfo,\n        correspondenceEmail,\n      };\n\n      // Include changes if any were made\n      if (feiNumberChanged) {\n        formData.feiNumberChanged = true;\n        formData.newFeiNumber = newFeiNumber;\n      }\n\n      if (principalAddressChanged) {\n        formData.principalAddressChanged = true;\n        formData.newPrincipalAddress = newPrincipalAddress;\n      }\n\n      if (mailingAddressChanged) {\n        formData.mailingAddressChanged = true;\n        formData.newMailingAddress = newMailingAddress;\n      }\n\n      if (registeredAgentChanged) {\n        formData.registeredAgentChanged = true;\n        formData.newRegisteredAgent = newRegisteredAgent;\n      }\n\n      if (managersOfficersChanged) {\n        formData.managersOfficersChanged = true;\n        formData.newManagersOfficers = newManagersOfficers;\n      }\n\n      const response = await fetch('/api/filings/annual-report', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess('Annual report filed successfully!');\n        setTimeout(() => {\n          router.push('/dashboard/filings');\n        }, 2000);\n      } else {\n        setError(data.error || 'Failed to file annual report');\n      }\n    } catch (err) {\n      setError('An error occurred while filing the annual report');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ \n        minHeight: '100vh',\n        background: 'linear-gradient(to bottom, #f9fafb, #e5e7eb)',\n        padding: '2rem'\n      }}>\n        <div style={{\n          maxWidth: '800px',\n          margin: '0 auto',\n          background: 'white',\n          borderRadius: '12px',\n          padding: '3rem',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n          textAlign: 'center'\n        }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '4px solid #e5e7eb',\n            borderTopColor: '#0ea5e9',\n            borderRadius: '50%',\n            margin: '0 auto 1rem',\n            animation: 'spin 1s linear infinite'\n          }}></div>\n          <p style={{ color: '#6b7280' }}>Loading your businesses...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (entities.length === 0) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(to bottom, #f9fafb, #e5e7eb)'\n      }}>\n        <div className=\"flex items-center justify-center\" style={{ padding: '32px 24px' }}>\n          <div className=\"max-w-4xl mx-auto w-full\">\n            {/* Header */}\n            <div style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '2.5rem',\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n              textAlign: 'center',\n              marginBottom: '2rem'\n            }}>\n            <div style={{\n              width: '64px',\n              height: '64px',\n              background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              margin: '0 auto 1.5rem'\n            }}>\n              <svg style={{ width: '32px', height: '32px', color: 'white' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n              </svg>\n            </div>\n            <h1 style={{ fontSize: '2rem', fontWeight: 'bold', marginBottom: '0.75rem', color: '#0f172a' }}>\n              No Businesses Found\n            </h1>\n            <p style={{ color: '#64748b', fontSize: '1.125rem', lineHeight: '1.6' }}>\n              You don't have any businesses in your account yet. Choose an option below to get started.\n            </p>\n          </div>\n\n          {/* Options Grid */}\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: '1.5rem',\n            marginBottom: '2rem'\n          }}>\n            {/* Option 1: Import Existing Business */}\n            <div style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '2rem',\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n              border: '2px solid #e5e7eb',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.borderColor = '#0ea5e9';\n              e.currentTarget.style.boxShadow = '0 8px 12px rgba(14,165,233,0.2)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.borderColor = '#e5e7eb';\n              e.currentTarget.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';\n            }}>\n              <div style={{\n                width: '48px',\n                height: '48px',\n                background: '#dbeafe',\n                borderRadius: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                marginBottom: '1.25rem'\n              }}>\n                <svg style={{ width: '24px', height: '24px', color: '#0ea5e9' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                </svg>\n              </div>\n              <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '0.75rem', color: '#0f172a' }}>\n                I Have an Existing Business\n              </h2>\n              <p style={{ color: '#64748b', fontSize: '0.9375rem', lineHeight: '1.6', marginBottom: '1.5rem' }}>\n                Import your business from Florida Sunbiz using your Document Number or Entity Name\n              </p>\n              <button\n                onClick={() => router.push('/dashboard/businesses/import')}\n                style={{\n                  width: '100%',\n                  background: '#0ea5e9',\n                  color: 'white',\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '8px',\n                  border: 'none',\n                  cursor: 'pointer',\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = '#0284c7';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = '#0ea5e9';\n                }}\n              >\n                Import Existing Business\n              </button>\n            </div>\n\n            {/* Option 2: Form New Business */}\n            <div style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '2rem',\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n              border: '2px solid #e5e7eb',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.borderColor = '#10b981';\n              e.currentTarget.style.boxShadow = '0 8px 12px rgba(16,185,129,0.2)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.borderColor = '#e5e7eb';\n              e.currentTarget.style.boxShadow = '0 4px 6px rgba(0,0,0,0.1)';\n            }}>\n              <div style={{\n                width: '48px',\n                height: '48px',\n                background: '#d1fae5',\n                borderRadius: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                marginBottom: '1.25rem'\n              }}>\n                <svg style={{ width: '24px', height: '24px', color: '#10b981' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\n                </svg>\n              </div>\n              <h2 style={{ fontSize: '1.25rem', fontWeight: '600', marginBottom: '0.75rem', color: '#0f172a' }}>\n                Form a New Business\n              </h2>\n              <p style={{ color: '#64748b', fontSize: '0.9375rem', lineHeight: '1.6', marginBottom: '1.5rem' }}>\n                Start a new LLC, Corporation, or other business entity in Florida\n              </p>\n              <button\n                onClick={() => router.push('/services')}\n                style={{\n                  width: '100%',\n                  background: '#10b981',\n                  color: 'white',\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '8px',\n                  border: 'none',\n                  cursor: 'pointer',\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  transition: 'all 0.2s'\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.background = '#059669';\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.background = '#10b981';\n                }}\n              >\n                Browse Formation Services\n              </button>\n            </div>\n          </div>\n\n          {/* Help Text */}\n          <div style={{\n            background: '#f0f9ff',\n            border: '2px solid #bae6fd',\n            borderRadius: '12px',\n            padding: '1.5rem',\n            textAlign: 'center'\n          }}>\n            <p style={{ color: '#0369a1', fontSize: '0.9375rem', lineHeight: '1.6', margin: 0 }}>\n              <strong>Need help?</strong> If you're not sure which option to choose, contact us at{' '}\n              <a href=\"mailto:support@legalops.com\" style={{ color: '#0284c7', textDecoration: 'underline' }}>\n                support@legalops.com\n              </a>\n              {' '}or call <strong>(555) 123-4567</strong>\n            </p>\n          </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const principalAddr = selectedEntity?.addresses.find(a => a.addressType === 'PRINCIPAL');\n  const mailingAddr = selectedEntity?.addresses.find(a => a.addressType === 'MAILING');\n  const agent = selectedEntity?.registeredAgent;\n\n  return (\n    <div style={{ \n      minHeight: '100vh',\n      background: 'linear-gradient(to bottom, #f9fafb, #e5e7eb)',\n      padding: '2rem'\n    }}>\n      <div style={{\n        maxWidth: '800px',\n        margin: '0 auto'\n      }}>\n        {/* Header */}\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '2rem',\n          marginBottom: '1.5rem',\n          boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n        }}>\n          <h1 style={{ \n            fontSize: '2rem', \n            fontWeight: 'bold', \n            color: '#111827',\n            marginBottom: '0.5rem'\n          }}>\n            File Annual Report\n          </h1>\n          <p style={{ color: '#6b7280' }}>\n            Review and confirm your business information for the annual report\n          </p>\n        </div>\n\n        {/* Success Message */}\n        {success && (\n          <div style={{\n            background: '#d1fae5',\n            border: '1px solid #6ee7b7',\n            borderRadius: '8px',\n            padding: '1rem',\n            marginBottom: '1.5rem',\n            color: '#065f46'\n          }}>\n            ‚úÖ {success}\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div style={{\n            background: '#fee2e2',\n            border: '1px solid #fca5a5',\n            borderRadius: '8px',\n            padding: '1rem',\n            marginBottom: '1.5rem',\n            color: '#991b1b'\n          }}>\n            ‚ùå {error}\n          </div>\n        )}\n\n        {/* Form */}\n        <form onSubmit={handleSubmit}>\n          {/* Select Business */}\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '2rem',\n            marginBottom: '1.5rem',\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n          }}>\n            <h2 style={{ \n              fontSize: '1.25rem', \n              fontWeight: '600', \n              marginBottom: '1rem',\n              color: '#111827'\n            }}>\n              Select Business\n            </h2>\n            \n            <select\n              value={selectedEntityId}\n              onChange={(e) => setSelectedEntityId(e.target.value)}\n              required\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '8px',\n                fontSize: '1rem'\n              }}\n            >\n              {entities.map(entity => (\n                <option key={entity.id} value={entity.id}>\n                  {entity.legalName} {entity.documentNumber ? `(${entity.documentNumber})` : ''}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Current Information (Auto-filled!) */}\n          {selectedEntity && (\n            <div style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '2rem',\n              marginBottom: '1.5rem',\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n            }}>\n              <div style={{\n                background: '#dbeafe',\n                border: '1px solid #93c5fd',\n                borderRadius: '8px',\n                padding: '1rem',\n                marginBottom: '1.5rem'\n              }}>\n                <p style={{ color: '#1e40af', fontWeight: '500', marginBottom: '0.5rem' }}>\n                  ‚ú® <strong>Smart Form:</strong> All information below is auto-filled from your records!\n                </p>\n                <p style={{ color: '#1e40af', fontSize: '0.875rem' }}>\n                  Click \"Edit\" buttons to update any information that has changed. Entity name and document number cannot be changed on annual reports.\n                </p>\n              </div>\n\n              <h2 style={{ \n                fontSize: '1.25rem', \n                fontWeight: '600', \n                marginBottom: '1.5rem',\n                color: '#111827'\n              }}>\n                Current Business Information\n              </h2>\n\n              {/* Business Name */}\n              <div style={{ marginBottom: '1.5rem' }}>\n                <label style={{ display: 'block', fontWeight: '500', marginBottom: '0.5rem', color: '#374151' }}>\n                  Business Name ‚úÖ\n                </label>\n                <div style={{\n                  padding: '0.75rem',\n                  background: '#f9fafb',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '8px',\n                  color: '#111827'\n                }}>\n                  {selectedEntity.legalName}\n                </div>\n              </div>\n\n              {/* Document Number */}\n              {selectedEntity.documentNumber && (\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <label style={{ display: 'block', fontWeight: '500', marginBottom: '0.5rem', color: '#374151' }}>\n                    Document Number ‚úÖ\n                  </label>\n                  <div style={{\n                    padding: '0.75rem',\n                    background: '#f9fafb',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '8px',\n                    color: '#111827'\n                  }}>\n                    {selectedEntity.documentNumber}\n                  </div>\n                </div>\n              )}\n\n              {/* FEI/EIN Number */}\n              <div style={{ marginBottom: '1.5rem' }}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\n                  <label style={{ fontWeight: '500', color: '#374151' }}>\n                    Federal Employer ID Number (FEI/EIN) {!feiNumberChanged && '‚úÖ'}\n                  </label>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setFeiNumberChanged(!feiNumberChanged);\n                      if (!feiNumberChanged) {\n                        setNewFeiNumber(selectedEntity.feiNumber || '');\n                      }\n                    }}\n                    style={{\n                      background: feiNumberChanged ? '#ef4444' : '#0ea5e9',\n                      color: 'white',\n                      padding: '0.5rem 1rem',\n                      borderRadius: '6px',\n                      border: 'none',\n                      cursor: 'pointer',\n                      fontSize: '0.875rem',\n                      fontWeight: '500'\n                    }}\n                  >\n                    {feiNumberChanged ? 'Cancel Edit' : 'Edit FEI/EIN'}\n                  </button>\n                </div>\n\n                {!feiNumberChanged ? (\n                  <div style={{\n                    padding: '0.75rem',\n                    background: '#f9fafb',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '8px',\n                    color: '#111827'\n                  }}>\n                    {selectedEntity.feiNumber || 'Not provided'}\n                  </div>\n                ) : (\n                  <div style={{\n                    padding: '1rem',\n                    background: '#fef3c7',\n                    border: '2px solid #fbbf24',\n                    borderRadius: '8px'\n                  }}>\n                    <p style={{ marginBottom: '0.75rem', color: '#92400e', fontSize: '0.875rem' }}>\n                      üìù <strong>Editing FEI/EIN Number</strong>\n                    </p>\n                    <div style={{ marginBottom: '0.75rem' }}>\n                      <label style={{ display: 'block', fontWeight: '500', marginBottom: '0.25rem', color: '#374151', fontSize: '0.875rem' }}>\n                        FEI/EIN Number (Format: XX-XXXXXXX)\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newFeiNumber}\n                        onChange={(e) => {\n                          // Format as XX-XXXXXXX\n                          let value = e.target.value.replace(/[^0-9]/g, '');\n                          if (value.length > 2) {\n                            value = value.slice(0, 2) + '-' + value.slice(2, 9);\n                          }\n                          setNewFeiNumber(value);\n                        }}\n                        placeholder=\"12-3456789\"\n                        maxLength={10}\n                        style={{\n                          width: '100%',\n                          padding: '0.5rem',\n                          border: '1px solid #d1d5db',\n                          borderRadius: '6px',\n                          fontSize: '0.875rem'\n                        }}\n                      />\n                    </div>\n                    <p style={{ color: '#92400e', fontSize: '0.75rem', marginTop: '0.5rem' }}>\n                      üí° Enter your 9-digit Federal Employer Identification Number. Leave blank if not applicable.\n                    </p>\n                  </div>\n                )}\n              </div>\n\n              {/* Principal Address */}\n              {principalAddr && (\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\n                    <label style={{ fontWeight: '500', color: '#374151' }}>\n                      Principal Address {!principalAddressChanged && '‚úÖ'}\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setPrincipalAddressChanged(!principalAddressChanged);\n                        if (!principalAddressChanged) {\n                          setNewPrincipalAddress({\n                            street: principalAddr.street,\n                            street2: principalAddr.street2 || '',\n                            city: principalAddr.city,\n                            state: principalAddr.state,\n                            zipCode: principalAddr.zipCode\n                          });\n                        }\n                      }}\n                      style={{\n                        background: principalAddressChanged ? '#ef4444' : '#0ea5e9',\n                        color: 'white',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '6px',\n                        border: 'none',\n                        cursor: 'pointer',\n                        fontSize: '0.875rem',\n                        fontWeight: '500'\n                      }}\n                    >\n                      {principalAddressChanged ? 'Cancel Edit' : 'Edit Address'}\n                    </button>\n                  </div>\n\n                  {!principalAddressChanged ? (\n                    <div style={{\n                      padding: '0.75rem',\n                      background: '#f9fafb',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      color: '#111827'\n                    }}>\n                      {principalAddr.street}{principalAddr.street2 && `, ${principalAddr.street2}`}<br />\n                      {principalAddr.city}, {principalAddr.state} {principalAddr.zipCode}\n                    </div>\n                  ) : (\n                    <div style={{\n                      padding: '1rem',\n                      background: '#fef3c7',\n                      border: '2px solid #fbbf24',\n                      borderRadius: '8px'\n                    }}>\n                      <p style={{ color: '#92400e', marginBottom: '1rem', fontWeight: '500' }}>\n                        üìù Editing Principal Address\n                      </p>\n                      <div style={{ marginBottom: '0.75rem' }}>\n                        <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                          Street Address *\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={newPrincipalAddress.street}\n                          onChange={(e) => setNewPrincipalAddress({...newPrincipalAddress, street: e.target.value})}\n                          required={principalAddressChanged}\n                          style={{\n                            width: '100%',\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                      <div style={{ marginBottom: '0.75rem' }}>\n                        <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                          Suite/Unit (Optional)\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={newPrincipalAddress.street2}\n                          onChange={(e) => setNewPrincipalAddress({...newPrincipalAddress, street2: e.target.value})}\n                          style={{\n                            width: '100%',\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                      <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', gap: '0.75rem' }}>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            City *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newPrincipalAddress.city}\n                            onChange={(e) => setNewPrincipalAddress({...newPrincipalAddress, city: e.target.value})}\n                            required={principalAddressChanged}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            State *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newPrincipalAddress.state}\n                            onChange={(e) => setNewPrincipalAddress({...newPrincipalAddress, state: e.target.value})}\n                            required={principalAddressChanged}\n                            maxLength={2}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            ZIP *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newPrincipalAddress.zipCode}\n                            onChange={(e) => setNewPrincipalAddress({...newPrincipalAddress, zipCode: e.target.value})}\n                            required={principalAddressChanged}\n                            maxLength={10}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Mailing Address */}\n              {mailingAddr && (\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\n                    <label style={{ fontWeight: '500', color: '#374151' }}>\n                      Mailing Address {!mailingAddressChanged && '‚úÖ'}\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setMailingAddressChanged(!mailingAddressChanged);\n                        if (!mailingAddressChanged) {\n                          setNewMailingAddress({\n                            street: mailingAddr.street,\n                            street2: mailingAddr.street2 || '',\n                            city: mailingAddr.city,\n                            state: mailingAddr.state,\n                            zipCode: mailingAddr.zipCode\n                          });\n                        }\n                      }}\n                      style={{\n                        background: mailingAddressChanged ? '#ef4444' : '#0ea5e9',\n                        color: 'white',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '6px',\n                        border: 'none',\n                        cursor: 'pointer',\n                        fontSize: '0.875rem',\n                        fontWeight: '500'\n                      }}\n                    >\n                      {mailingAddressChanged ? 'Cancel Edit' : 'Edit Address'}\n                    </button>\n                  </div>\n\n                  {!mailingAddressChanged ? (\n                    <div style={{\n                      padding: '0.75rem',\n                      background: '#f9fafb',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      color: '#111827'\n                    }}>\n                      {mailingAddr.street}{mailingAddr.street2 && `, ${mailingAddr.street2}`}<br />\n                      {mailingAddr.city}, {mailingAddr.state} {mailingAddr.zipCode}\n                    </div>\n                  ) : (\n                    <div style={{\n                      padding: '1rem',\n                      background: '#fef3c7',\n                      border: '2px solid #fbbf24',\n                      borderRadius: '8px'\n                    }}>\n                      <p style={{ color: '#92400e', marginBottom: '1rem', fontWeight: '500' }}>\n                        üìù Editing Mailing Address\n                      </p>\n                      <div style={{ marginBottom: '0.75rem' }}>\n                        <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                          Street Address *\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={newMailingAddress.street}\n                          onChange={(e) => setNewMailingAddress({...newMailingAddress, street: e.target.value})}\n                          required={mailingAddressChanged}\n                          style={{\n                            width: '100%',\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                      <div style={{ marginBottom: '0.75rem' }}>\n                        <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                          Suite/Unit/PO Box (Optional)\n                        </label>\n                        <input\n                          type=\"text\"\n                          value={newMailingAddress.street2}\n                          onChange={(e) => setNewMailingAddress({...newMailingAddress, street2: e.target.value})}\n                          style={{\n                            width: '100%',\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                      <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', gap: '0.75rem' }}>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            City *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newMailingAddress.city}\n                            onChange={(e) => setNewMailingAddress({...newMailingAddress, city: e.target.value})}\n                            required={mailingAddressChanged}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            State *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newMailingAddress.state}\n                            onChange={(e) => setNewMailingAddress({...newMailingAddress, state: e.target.value})}\n                            required={mailingAddressChanged}\n                            maxLength={2}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            ZIP *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newMailingAddress.zipCode}\n                            onChange={(e) => setNewMailingAddress({...newMailingAddress, zipCode: e.target.value})}\n                            required={mailingAddressChanged}\n                            maxLength={10}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Registered Agent */}\n              {agent && (\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\n                    <label style={{ fontWeight: '500', color: '#374151' }}>\n                      Registered Agent {!registeredAgentChanged && '‚úÖ'}\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => setRegisteredAgentChanged(!registeredAgentChanged)}\n                      style={{\n                        background: registeredAgentChanged ? '#ef4444' : '#0ea5e9',\n                        color: 'white',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '6px',\n                        border: 'none',\n                        cursor: 'pointer',\n                        fontSize: '0.875rem',\n                        fontWeight: '500'\n                      }}\n                    >\n                      {registeredAgentChanged ? 'Cancel Edit' : 'Change Agent'}\n                    </button>\n                  </div>\n\n                  {!registeredAgentChanged ? (\n                    <div style={{\n                      padding: '0.75rem',\n                      background: '#f9fafb',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      color: '#111827'\n                    }}>\n                      {agent.agentType === 'COMPANY' ? agent.companyName : `${agent.firstName} ${agent.lastName}`}\n                    </div>\n                  ) : (\n                    <div style={{\n                      padding: '1rem',\n                      background: '#fef3c7',\n                      border: '2px solid #fbbf24',\n                      borderRadius: '8px'\n                    }}>\n                      <p style={{ color: '#92400e', marginBottom: '1rem', fontWeight: '500' }}>\n                        üìù Changing Registered Agent\n                      </p>\n                      <div style={{ marginBottom: '1rem' }}>\n                        <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.5rem', color: '#374151' }}>\n                          Agent Type *\n                        </label>\n                        <div style={{ display: 'flex', gap: '1rem' }}>\n                          <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n                            <input\n                              type=\"radio\"\n                              value=\"INDIVIDUAL\"\n                              checked={newRegisteredAgent.agentType === 'INDIVIDUAL'}\n                              onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, agentType: 'INDIVIDUAL'})}\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            Individual\n                          </label>\n                          <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n                            <input\n                              type=\"radio\"\n                              value=\"COMPANY\"\n                              checked={newRegisteredAgent.agentType === 'COMPANY'}\n                              onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, agentType: 'COMPANY'})}\n                              style={{ marginRight: '0.5rem' }}\n                            />\n                            Company\n                          </label>\n                        </div>\n                      </div>\n\n                      {newRegisteredAgent.agentType === 'INDIVIDUAL' ? (\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem', marginBottom: '1rem' }}>\n                          <div>\n                            <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                              First Name *\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={newRegisteredAgent.firstName}\n                              onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, firstName: e.target.value})}\n                              required={registeredAgentChanged}\n                              style={{\n                                width: '100%',\n                                padding: '0.5rem',\n                                border: '1px solid #d1d5db',\n                                borderRadius: '6px',\n                                fontSize: '0.875rem'\n                              }}\n                            />\n                          </div>\n                          <div>\n                            <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                              Last Name *\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={newRegisteredAgent.lastName}\n                              onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, lastName: e.target.value})}\n                              required={registeredAgentChanged}\n                              style={{\n                                width: '100%',\n                                padding: '0.5rem',\n                                border: '1px solid #d1d5db',\n                                borderRadius: '6px',\n                                fontSize: '0.875rem'\n                              }}\n                            />\n                          </div>\n                        </div>\n                      ) : (\n                        <div style={{ marginBottom: '1rem' }}>\n                          <label style={{ display: 'block', fontSize: '0.875rem', marginBottom: '0.25rem', color: '#374151' }}>\n                            Company Name *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={newRegisteredAgent.companyName}\n                            onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, companyName: e.target.value})}\n                            required={registeredAgentChanged}\n                            style={{\n                              width: '100%',\n                              padding: '0.5rem',\n                              border: '1px solid #d1d5db',\n                              borderRadius: '6px',\n                              fontSize: '0.875rem'\n                            }}\n                          />\n                        </div>\n                      )}\n\n                      <p style={{ fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem', color: '#374151' }}>\n                        Agent Address (Must be Florida street address) *\n                      </p>\n                      <div style={{ marginBottom: '0.75rem' }}>\n                        <input\n                          type=\"text\"\n                          placeholder=\"Street Address\"\n                          value={newRegisteredAgent.address.street}\n                          onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, address: {...newRegisteredAgent.address, street: e.target.value}})}\n                          required={registeredAgentChanged}\n                          style={{\n                            width: '100%',\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                      <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', gap: '0.75rem' }}>\n                        <input\n                          type=\"text\"\n                          placeholder=\"City\"\n                          value={newRegisteredAgent.address.city}\n                          onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, address: {...newRegisteredAgent.address, city: e.target.value}})}\n                          required={registeredAgentChanged}\n                          style={{\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"FL\"\n                          value={newRegisteredAgent.address.state}\n                          onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, address: {...newRegisteredAgent.address, state: e.target.value}})}\n                          required={registeredAgentChanged}\n                          maxLength={2}\n                          style={{\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"ZIP\"\n                          value={newRegisteredAgent.address.zipCode}\n                          onChange={(e) => setNewRegisteredAgent({...newRegisteredAgent, address: {...newRegisteredAgent.address, zipCode: e.target.value}})}\n                          required={registeredAgentChanged}\n                          maxLength={10}\n                          style={{\n                            padding: '0.5rem',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '0.875rem'\n                          }}\n                        />\n                      </div>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Managers/Officers */}\n              {selectedEntity.managersOfficers.length > 0 && (\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>\n                    <label style={{ fontWeight: '500', color: '#374151' }}>\n                      Managers/Officers {!managersOfficersChanged && '‚úÖ'}\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setManagersOfficersChanged(!managersOfficersChanged);\n                        if (!managersOfficersChanged) {\n                          // Initialize with current managers/officers\n                          setNewManagersOfficers(selectedEntity.managersOfficers.map(p => ({\n                            firstName: p.firstName,\n                            lastName: p.lastName,\n                            title: p.title || p.roleType,\n                            roleType: p.roleType,\n                            address: p.address\n                          })));\n                        }\n                      }}\n                      style={{\n                        background: managersOfficersChanged ? '#ef4444' : '#0ea5e9',\n                        color: 'white',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '6px',\n                        border: 'none',\n                        cursor: 'pointer',\n                        fontSize: '0.875rem',\n                        fontWeight: '500'\n                      }}\n                    >\n                      {managersOfficersChanged ? 'Cancel Edit' : 'Edit Officers'}\n                    </button>\n                  </div>\n\n                  {!managersOfficersChanged ? (\n                    <div style={{\n                      padding: '0.75rem',\n                      background: '#f9fafb',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      color: '#111827'\n                    }}>\n                      {selectedEntity.managersOfficers.map((person, idx) => (\n                        <div key={person.id} style={{ marginBottom: idx < selectedEntity.managersOfficers.length - 1 ? '0.5rem' : '0' }}>\n                          {person.firstName} {person.lastName} - {person.title || person.roleType}\n                        </div>\n                      ))}\n                    </div>\n                  ) : (\n                    <div style={{\n                      padding: '1rem',\n                      background: '#fef3c7',\n                      border: '2px solid #fbbf24',\n                      borderRadius: '8px'\n                    }}>\n                      <p style={{ color: '#92400e', marginBottom: '1rem', fontWeight: '500' }}>\n                        üìù Editing Managers/Officers (Up to 150 allowed)\n                      </p>\n\n                      {newManagersOfficers.map((person, idx) => (\n                        <div key={idx} style={{\n                          background: 'white',\n                          padding: '1rem',\n                          borderRadius: '6px',\n                          marginBottom: '1rem',\n                          border: '1px solid #d1d5db'\n                        }}>\n                          <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.75rem' }}>\n                            <span style={{ fontWeight: '500', color: '#374151' }}>Person {idx + 1}</span>\n                            <button\n                              type=\"button\"\n                              onClick={() => {\n                                const updated = newManagersOfficers.filter((_, i) => i !== idx);\n                                setNewManagersOfficers(updated);\n                              }}\n                              style={{\n                                background: '#ef4444',\n                                color: 'white',\n                                padding: '0.25rem 0.75rem',\n                                borderRadius: '4px',\n                                border: 'none',\n                                cursor: 'pointer',\n                                fontSize: '0.75rem'\n                              }}\n                            >\n                              Remove\n                            </button>\n                          </div>\n\n                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem', marginBottom: '0.75rem' }}>\n                            <div>\n                              <label style={{ display: 'block', fontSize: '0.75rem', marginBottom: '0.25rem', color: '#374151' }}>\n                                First Name *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={person.firstName}\n                                onChange={(e) => {\n                                  const updated = [...newManagersOfficers];\n                                  updated[idx].firstName = e.target.value;\n                                  setNewManagersOfficers(updated);\n                                }}\n                                required={managersOfficersChanged}\n                                style={{\n                                  width: '100%',\n                                  padding: '0.5rem',\n                                  border: '1px solid #d1d5db',\n                                  borderRadius: '4px',\n                                  fontSize: '0.875rem'\n                                }}\n                              />\n                            </div>\n                            <div>\n                              <label style={{ display: 'block', fontSize: '0.75rem', marginBottom: '0.25rem', color: '#374151' }}>\n                                Last Name *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={person.lastName}\n                                onChange={(e) => {\n                                  const updated = [...newManagersOfficers];\n                                  updated[idx].lastName = e.target.value;\n                                  setNewManagersOfficers(updated);\n                                }}\n                                required={managersOfficersChanged}\n                                style={{\n                                  width: '100%',\n                                  padding: '0.5rem',\n                                  border: '1px solid #d1d5db',\n                                  borderRadius: '4px',\n                                  fontSize: '0.875rem'\n                                }}\n                              />\n                            </div>\n                          </div>\n\n                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '0.75rem', marginBottom: '0.75rem' }}>\n                            <div>\n                              <label style={{ display: 'block', fontSize: '0.75rem', marginBottom: '0.25rem', color: '#374151' }}>\n                                Title *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={person.title}\n                                onChange={(e) => {\n                                  const updated = [...newManagersOfficers];\n                                  updated[idx].title = e.target.value;\n                                  setNewManagersOfficers(updated);\n                                }}\n                                placeholder=\"e.g., Manager, President, Director\"\n                                required={managersOfficersChanged}\n                                style={{\n                                  width: '100%',\n                                  padding: '0.5rem',\n                                  border: '1px solid #d1d5db',\n                                  borderRadius: '4px',\n                                  fontSize: '0.875rem'\n                                }}\n                              />\n                            </div>\n                            <div>\n                              <label style={{ display: 'block', fontSize: '0.75rem', marginBottom: '0.25rem', color: '#374151' }}>\n                                Role Type *\n                              </label>\n                              <select\n                                value={person.roleType}\n                                onChange={(e) => {\n                                  const updated = [...newManagersOfficers];\n                                  updated[idx].roleType = e.target.value;\n                                  setNewManagersOfficers(updated);\n                                }}\n                                required={managersOfficersChanged}\n                                style={{\n                                  width: '100%',\n                                  padding: '0.5rem',\n                                  border: '1px solid #d1d5db',\n                                  borderRadius: '4px',\n                                  fontSize: '0.875rem'\n                                }}\n                              >\n                                <option value=\"MANAGER\">Manager</option>\n                                <option value=\"MEMBER\">Member</option>\n                                <option value=\"OFFICER\">Officer</option>\n                                <option value=\"DIRECTOR\">Director</option>\n                                <option value=\"PRESIDENT\">President</option>\n                                <option value=\"VICE_PRESIDENT\">Vice President</option>\n                                <option value=\"SECRETARY\">Secretary</option>\n                                <option value=\"TREASURER\">Treasurer</option>\n                              </select>\n                            </div>\n                          </div>\n\n                          <div>\n                            <label style={{ display: 'block', fontSize: '0.75rem', marginBottom: '0.25rem', color: '#374151' }}>\n                              Address *\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={person.address}\n                              onChange={(e) => {\n                                const updated = [...newManagersOfficers];\n                                updated[idx].address = e.target.value;\n                                setNewManagersOfficers(updated);\n                              }}\n                              placeholder=\"Full address\"\n                              required={managersOfficersChanged}\n                              style={{\n                                width: '100%',\n                                padding: '0.5rem',\n                                border: '1px solid #d1d5db',\n                                borderRadius: '4px',\n                                fontSize: '0.875rem'\n                              }}\n                            />\n                          </div>\n                        </div>\n                      ))}\n\n                      <button\n                        type=\"button\"\n                        onClick={() => {\n                          if (newManagersOfficers.length < 150) {\n                            setNewManagersOfficers([...newManagersOfficers, {\n                              firstName: '',\n                              lastName: '',\n                              title: '',\n                              roleType: 'MANAGER',\n                              address: ''\n                            }]);\n                          }\n                        }}\n                        disabled={newManagersOfficers.length >= 150}\n                        style={{\n                          background: newManagersOfficers.length >= 150 ? '#9ca3af' : '#10b981',\n                          color: 'white',\n                          padding: '0.75rem 1.5rem',\n                          borderRadius: '6px',\n                          border: 'none',\n                          cursor: newManagersOfficers.length >= 150 ? 'not-allowed' : 'pointer',\n                          fontSize: '0.875rem',\n                          fontWeight: '500',\n                          width: '100%'\n                        }}\n                      >\n                        + Add Another Person {newManagersOfficers.length >= 150 && '(Maximum Reached)'}\n                      </button>\n\n                      <p style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.5rem', textAlign: 'center' }}>\n                        {newManagersOfficers.length} of 150 maximum\n                      </p>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Confirmation Checkbox */}\n              <div style={{\n                background: '#fef3c7',\n                border: '1px solid #fbbf24',\n                borderRadius: '8px',\n                padding: '1rem',\n                marginTop: '1.5rem'\n              }}>\n                {(feiNumberChanged || principalAddressChanged || mailingAddressChanged || registeredAgentChanged || managersOfficersChanged) && (\n                  <div style={{\n                    background: '#dbeafe',\n                    border: '1px solid #60a5fa',\n                    borderRadius: '6px',\n                    padding: '0.75rem',\n                    marginBottom: '1rem'\n                  }}>\n                    <p style={{ color: '#1e40af', fontSize: '0.875rem', fontWeight: '500', marginBottom: '0.5rem' }}>\n                      üìù Changes Detected:\n                    </p>\n                    <ul style={{ color: '#1e40af', fontSize: '0.875rem', marginLeft: '1.5rem' }}>\n                      {feiNumberChanged && <li>FEI/EIN Number</li>}\n                      {principalAddressChanged && <li>Principal Address</li>}\n                      {mailingAddressChanged && <li>Mailing Address</li>}\n                      {registeredAgentChanged && <li>Registered Agent</li>}\n                      {managersOfficersChanged && <li>Managers/Officers</li>}\n                    </ul>\n                  </div>\n                )}\n\n                <label style={{ display: 'flex', alignItems: 'center', cursor: 'pointer' }}>\n                  <input\n                    type=\"checkbox\"\n                    checked={confirmCurrentInfo}\n                    onChange={(e) => setConfirmCurrentInfo(e.target.checked)}\n                    required\n                    style={{ marginRight: '0.75rem', width: '20px', height: '20px', cursor: 'pointer' }}\n                  />\n                  <span style={{ color: '#92400e', fontWeight: '500' }}>\n                    {(feiNumberChanged || principalAddressChanged || mailingAddressChanged || registeredAgentChanged || managersOfficersChanged)\n                      ? 'I confirm that all information above (including changes) is current and accurate'\n                      : 'I confirm that all information above is current and accurate'}\n                  </span>\n                </label>\n              </div>\n            </div>\n          )}\n\n          {/* Correspondence Email */}\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '2rem',\n            marginBottom: '1.5rem',\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n          }}>\n            <h2 style={{ \n              fontSize: '1.25rem', \n              fontWeight: '600', \n              marginBottom: '1rem',\n              color: '#111827'\n            }}>\n              Contact Information\n            </h2>\n            \n            <label style={{ display: 'block', fontWeight: '500', marginBottom: '0.5rem', color: '#374151' }}>\n              Correspondence Email *\n            </label>\n            <input\n              type=\"email\"\n              value={correspondenceEmail}\n              onChange={(e) => setCorrespondenceEmail(e.target.value)}\n              required\n              placeholder=\"your@email.com\"\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '8px',\n                fontSize: '1rem'\n              }}\n            />\n            <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.5rem' }}>\n              We'll send filing confirmation to this email\n            </p>\n          </div>\n\n          {/* Submit Button */}\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '2rem',\n            boxShadow: '0 4px 6px rgba(0,0,0,0.1)'\n          }}>\n            <button\n              type=\"submit\"\n              disabled={submitting || !confirmCurrentInfo}\n              style={{\n                width: '100%',\n                background: submitting || !confirmCurrentInfo ? '#9ca3af' : '#0ea5e9',\n                color: 'white',\n                padding: '1rem',\n                borderRadius: '8px',\n                border: 'none',\n                cursor: submitting || !confirmCurrentInfo ? 'not-allowed' : 'pointer',\n                fontSize: '1.125rem',\n                fontWeight: '600',\n                transition: 'all 0.2s'\n              }}\n            >\n              {submitting ? 'Filing Annual Report...' : 'File Annual Report'}\n            </button>\n            \n            <p style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '1rem', textAlign: 'center' }}>\n              Filing fee: $138.75 (will be charged after submission)\n            </p>\n          </div>\n        </form>\n      </div>\n\n      <style jsx>{`\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\notices\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\orders\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":31,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":31,"endColumn":15},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchOrder'. Either include it or remove the dependency array.","line":40,"column":6,"nodeType":"ArrayExpression","endLine":40,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [fetchOrder, params.id]","fix":{"range":[851,862],"text":"[fetchOrder, params.id]"}}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":53,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":53,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\ninterface StatusUpdate {\n  id: string;\n  status: string;\n  message: string;\n  createdAt: string;\n}\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  businessName: string;\n  type: string;\n  status: string;\n  entityType: string;\n  state: string;\n  basePrice: number;\n  totalAmount: number;\n  paymentStatus: string;\n  createdAt: string;\n  statusUpdates: StatusUpdate[];\n}\n\nexport default function OrderDetailsPage() {\n  const params = useParams();\n  const router = useRouter();\n  const [order, setOrder] = useState<Order | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (params.id) {\n      fetchOrder();\n    }\n  }, [params.id]);\n\n  const fetchOrder = async () => {\n    try {\n      const response = await fetch(`/api/orders/${params.id}`);\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Failed to fetch order\");\n        return;\n      }\n\n      setOrder(data.order);\n    } catch (err) {\n      setError(\"An error occurred while fetching order details\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, { bg: string; text: string; border: string }> = {\n      PENDING: { bg: '#fef3c7', text: '#92400e', border: '#fde68a' },\n      PAYMENT_REQUIRED: { bg: '#fee2e2', text: '#991b1b', border: '#fecaca' },\n      PAID: { bg: '#dbeafe', text: '#1e40af', border: '#bfdbfe' },\n      IN_REVIEW: { bg: '#e0e7ff', text: '#3730a3', border: '#c7d2fe' },\n      SUBMITTED_TO_STATE: { bg: '#ddd6fe', text: '#5b21b6', border: '#c4b5fd' },\n      APPROVED: { bg: '#d1fae5', text: '#065f46', border: '#a7f3d0' },\n      COMPLETED: { bg: '#d1fae5', text: '#065f46', border: '#a7f3d0' },\n      CANCELLED: { bg: '#f3f4f6', text: '#374151', border: '#e5e7eb' },\n    };\n    return colors[status] || colors.PENDING;\n  };\n\n  const formatOrderType = (type: string) => {\n    return type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center\" style={{ padding: '96px 24px' }}>\n        <div className=\"animate-spin rounded-full border-4 border-gray-200 border-t-blue-500 mx-auto\" style={{ width: '64px', height: '64px' }}></div>\n        <p className=\"font-medium\" style={{ fontSize: '18px', color: '#64748b', marginTop: '24px' }}>\n          Loading order details...\n        </p>\n      </div>\n    );\n  }\n\n  if (error || !order) {\n    return (\n      <div className=\"text-center\" style={{ padding: '96px 24px' }}>\n        <div \n          className=\"inline-flex items-center justify-center mx-auto\" \n          style={{ \n            width: '80px', \n            height: '80px', \n            borderRadius: '50%',\n            background: '#fee2e2',\n            marginBottom: '24px'\n          }}\n        >\n          <svg style={{ width: '40px', height: '40px', color: '#dc2626' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </div>\n        <p className=\"font-semibold\" style={{ fontSize: '24px', color: '#dc2626', marginBottom: '12px' }}>\n          {error || \"Order not found\"}\n        </p>\n        <Link\n          href=\"/dashboard/orders\"\n          className=\"inline-flex items-center font-medium transition-colors duration-200\"\n          style={{ fontSize: '16px', color: '#0ea5e9', gap: '8px' }}\n        >\n          <svg style={{ width: '20px', height: '20px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n          </svg>\n          Back to Orders\n        </Link>\n      </div>\n    );\n  }\n\n  const statusColors = getStatusColor(order.status);\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '48px' }}>\n        <div className=\"flex items-center\" style={{ gap: '16px', marginBottom: '12px' }}>\n          <Link\n            href=\"/dashboard/orders\"\n            className=\"transition-colors duration-200\"\n            style={{ color: '#64748b' }}\n          >\n            <svg style={{ width: '20px', height: '20px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n          </Link>\n          <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n            Order Details\n          </h1>\n        </div>\n        <p style={{ fontSize: '16px', color: '#64748b' }}>\n          {order.orderNumber}\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3\" style={{ gap: '32px' }}>\n        {/* Main Content */}\n        <div className=\"lg:col-span-2\" style={{ display: 'flex', flexDirection: 'column', gap: '32px' }}>\n          \n          {/* Order Information */}\n          <div \n            className=\"bg-white rounded-xl\" \n            style={{ \n              padding: '32px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '24px' }}>\n              Order Information\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2\" style={{ gap: '24px' }}>\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Business Name\n                </p>\n                <p className=\"font-medium\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                  {order.businessName}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Entity Type\n                </p>\n                <p className=\"font-medium\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                  {order.entityType}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Service Type\n                </p>\n                <p className=\"font-medium\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                  {formatOrderType(order.type)}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  State\n                </p>\n                <p className=\"font-medium\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                  {order.state}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Order Date\n                </p>\n                <p className=\"font-medium\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                  {new Date(order.createdAt).toLocaleDateString('en-US', { \n                    year: 'numeric', \n                    month: 'long', \n                    day: 'numeric' \n                  })}\n                </p>\n              </div>\n\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Total Amount\n                </p>\n                <p className=\"font-semibold\" style={{ fontSize: '20px', color: '#0ea5e9' }}>\n                  ${order.totalAmount.toFixed(2)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Status Timeline */}\n          <div \n            className=\"bg-white rounded-xl\" \n            style={{ \n              padding: '32px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '24px' }}>\n              Status Timeline\n            </h2>\n\n            {order.statusUpdates && order.statusUpdates.length > 0 ? (\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n                {order.statusUpdates.map((update, index) => {\n                  const updateColors = getStatusColor(update.status);\n                  return (\n                    <div key={update.id} className=\"flex\" style={{ gap: '16px' }}>\n                      <div className=\"flex flex-col items-center\" style={{ width: '24px' }}>\n                        <div \n                          className=\"rounded-full\" \n                          style={{ \n                            width: '12px', \n                            height: '12px', \n                            background: updateColors.text,\n                            flexShrink: 0\n                          }}\n                        ></div>\n                        {index < order.statusUpdates.length - 1 && (\n                          <div \n                            style={{ \n                              width: '2px', \n                              flex: 1, \n                              background: '#e2e8f0',\n                              marginTop: '8px',\n                              marginBottom: '8px'\n                            }}\n                          ></div>\n                        )}\n                      </div>\n                      <div style={{ flex: 1, paddingBottom: index < order.statusUpdates.length - 1 ? '0' : '0' }}>\n                        <div className=\"flex items-center\" style={{ gap: '12px', marginBottom: '8px' }}>\n                          <span \n                            className=\"inline-block font-medium rounded-lg\"\n                            style={{ \n                              padding: '4px 10px',\n                              fontSize: '12px',\n                              background: updateColors.bg,\n                              color: updateColors.text,\n                              border: `1px solid ${updateColors.border}`\n                            }}\n                          >\n                            {update.status.replace(/_/g, ' ')}\n                          </span>\n                          <span style={{ fontSize: '13px', color: '#94a3b8' }}>\n                            {new Date(update.createdAt).toLocaleDateString('en-US', { \n                              month: 'short', \n                              day: 'numeric',\n                              hour: '2-digit',\n                              minute: '2-digit'\n                            })}\n                          </span>\n                        </div>\n                        <p style={{ fontSize: '14px', color: '#64748b' }}>\n                          {update.message}\n                        </p>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ) : (\n              <p style={{ fontSize: '14px', color: '#94a3b8', textAlign: 'center', padding: '32px 0' }}>\n                No status updates yet\n              </p>\n            )}\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n          \n          {/* Current Status Card */}\n          <div \n            className=\"bg-white rounded-xl\" \n            style={{ \n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '12px' }}>\n              Current Status\n            </p>\n            <span \n              className=\"inline-block font-semibold rounded-lg\"\n              style={{ \n                padding: '10px 16px',\n                fontSize: '14px',\n                background: statusColors.bg,\n                color: statusColors.text,\n                border: `1.5px solid ${statusColors.border}`\n              }}\n            >\n              {order.status.replace(/_/g, ' ')}\n            </span>\n          </div>\n\n          {/* Payment Status Card */}\n          <div \n            className=\"bg-white rounded-xl\" \n            style={{ \n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '12px' }}>\n              Payment Status\n            </p>\n            <p className=\"font-semibold\" style={{ fontSize: '16px', color: order.paymentStatus === 'PAID' ? '#059669' : '#dc2626' }}>\n              {order.paymentStatus}\n            </p>\n          </div>\n\n          {/* Actions */}\n          {order.paymentStatus !== 'PAID' && (\n            <button\n              className=\"w-full font-medium text-white transition-all duration-200\"\n              style={{ \n                padding: '14px', \n                background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                borderRadius: '10px',\n                fontSize: '14px',\n                boxShadow: '0 4px 12px rgba(14, 165, 233, 0.3)',\n                border: 'none',\n                cursor: 'pointer'\n              }}\n            >\n              Pay Now\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\orders\\new\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":226,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":226,"endColumn":17},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":671,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[28901,28981],"text":"\n                We&apos;ll check if this name is available in Florida\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[28901,28981],"text":"\n                We&lsquo;ll check if this name is available in Florida\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[28901,28981],"text":"\n                We&#39;ll check if this name is available in Florida\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[28901,28981],"text":"\n                We&rsquo;ll check if this name is available in Florida\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":752,"column":29,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[32348,32364],"text":"What&apos;s included:"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[32348,32364],"text":"What&lsquo;s included:"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[32348,32364],"text":"What&#39;s included:"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[32348,32364],"text":"What&rsquo;s included:"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\n/**\n * New Order Page - Professional Order Creation Form with Accordion\n */\n\n/**\n * New Order Page - Professional Order Creation Form\n */\n\nexport default function NewOrderPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [showOtherEntities, setShowOtherEntities] = useState(false);\n\n  // Name availability checking\n  const [checkingName, setCheckingName] = useState(false);\n  const [nameAvailability, setNameAvailability] = useState<{\n    available: boolean;\n    message: string;\n    suggestions?: string[];\n  } | null>(null);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    businessName: \"\",\n    entityType: \"LLC\",\n    orderType: \"LLC_FORMATION\",\n    state: \"FL\",\n  });\n\n  // Top 3 most popular entity types (95% of customers choose these)\n  const topEntities = [\n    {\n      type: \"LLC\",\n      orderType: \"LLC_FORMATION\",\n      name: \"LLC\",\n      fullName: \"Limited Liability Company\",\n      description: \"Most popular - 85% of our clients choose this\",\n      details: \"Perfect for small businesses, startups, and real estate. Liability protection with tax flexibility.\",\n      icon: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\",\n      price: 299\n    },\n    {\n      type: \"CORPORATION\",\n      orderType: \"CORP_FORMATION\",\n      name: \"Corporation\",\n      fullName: \"C-Corp or S-Corp\",\n      description: \"Best for raising capital or going public\",\n      details: \"Ideal for high-growth companies, tech startups, and businesses seeking investment.\",\n      icon: \"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\",\n      price: 299\n    },\n    {\n      type: \"SOLE_PROPRIETORSHIP\",\n      orderType: \"LLC_FORMATION\",\n      name: \"DBA\",\n      fullName: \"Doing Business As (Fictitious Name)\",\n      description: \"Simplest option for freelancers and consultants\",\n      details: \"Quick and affordable, but no liability protection. Your personal assets are at risk.\",\n      icon: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\",\n      price: 149\n    },\n  ];\n\n  // Other entity types organized by category\n  const otherEntityCategories = [\n    {\n      name: \"Professional Services\",\n      description: \"For licensed professionals like doctors, lawyers, CPAs, architects, and engineers\",\n      entities: [\n        {\n          type: \"PROFESSIONAL_LLC\",\n          orderType: \"PROFESSIONAL_LLC_FORMATION\",\n          name: \"Professional LLC (PLLC)\",\n          description: \"For licensed professionals (doctors, lawyers, CPAs, architects, engineers)\",\n          icon: \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\",\n          price: 349\n        },\n        {\n          type: \"PROFESSIONAL_CORPORATION\",\n          orderType: \"PROFESSIONAL_CORP_FORMATION\",\n          name: \"Professional Corporation (PA)\",\n          description: \"Professional association for licensed professionals\",\n          icon: \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\",\n          price: 349\n        },\n      ]\n    },\n    {\n      name: \"Partnerships\",\n      description: \"For businesses with multiple owners sharing profits and management\",\n      entities: [\n        {\n          type: \"LIMITED_PARTNERSHIP\",\n          orderType: \"LP_FORMATION\",\n          name: \"Limited Partnership (LP)\",\n          description: \"General partners manage, limited partners invest only\",\n          icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\",\n          price: 279\n        },\n        {\n          type: \"LIMITED_LIABILITY_PARTNERSHIP\",\n          orderType: \"LLP_FORMATION\",\n          name: \"Limited Liability Partnership (LLP)\",\n          description: \"All partners have limited liability protection\",\n          icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\",\n          price: 279\n        },\n        {\n          type: \"LIMITED_LIABILITY_LIMITED_PARTNERSHIP\",\n          orderType: \"LLLP_FORMATION\",\n          name: \"Limited Liability Limited Partnership (LLLP)\",\n          description: \"LP with additional liability protection for general partners\",\n          icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\",\n          price: 279\n        },\n        {\n          type: \"GENERAL_PARTNERSHIP\",\n          orderType: \"GP_FORMATION\",\n          name: \"General Partnership (GP)\",\n          description: \"All partners share management and liability equally\",\n          icon: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\",\n          price: 279\n        },\n      ]\n    },\n    {\n      name: \"Nonprofit\",\n      description: \"For charitable, religious, educational, or social welfare organizations\",\n      entities: [\n        {\n          type: \"NONPROFIT_CORPORATION\",\n          orderType: \"NONPROFIT_FORMATION\",\n          name: \"Nonprofit Corporation\",\n          description: \"Tax-exempt charitable organization (requires IRS 501(c)(3) approval)\",\n          icon: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\",\n          price: 399\n        },\n      ]\n    }\n  ];\n\n  // Check name availability with debounce\n  const checkNameAvailability = useCallback(async (name: string, entityType: string) => {\n    if (!name || name.trim().length < 3) {\n      setNameAvailability(null);\n      return;\n    }\n\n    setCheckingName(true);\n\n    try {\n      const response = await fetch('/api/check-name', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ businessName: name, entityType }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setNameAvailability({\n          available: result.data.available,\n          message: result.data.message,\n          suggestions: result.data.suggestions,\n        });\n      } else {\n        setNameAvailability({\n          available: false,\n          message: result.error || 'Unable to check name availability',\n        });\n      }\n    } catch (error) {\n      console.error('Error checking name:', error);\n      setNameAvailability({\n        available: false,\n        message: 'Unable to check name availability. Please try again.',\n      });\n    } finally {\n      setCheckingName(false);\n    }\n  }, []);\n\n  // Debounce name checking\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (formData.businessName.trim().length >= 3) {\n        checkNameAvailability(formData.businessName, formData.entityType);\n      } else {\n        setNameAvailability(null);\n      }\n    }, 800); // Wait 800ms after user stops typing\n\n    return () => clearTimeout(timer);\n  }, [formData.businessName, formData.entityType, checkNameAvailability]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"/api/orders\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Failed to create order\");\n        return;\n      }\n\n      // Redirect to order details page\n      router.push(`/dashboard/orders/${data.order.id}`);\n    } catch (err) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div style={{ marginBottom: '48px' }}>\n        <div className=\"flex items-center\" style={{ gap: '16px', marginBottom: '12px' }}>\n          <Link\n            href=\"/dashboard/orders\"\n            className=\"transition-colors duration-200\"\n            style={{ color: '#64748b' }}\n          >\n            <svg style={{ width: '20px', height: '20px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n            </svg>\n          </Link>\n          <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n            Create New Order\n          </h1>\n        </div>\n        <p style={{ fontSize: '16px', color: '#64748b', marginBottom: '16px' }}>\n          Register your business entity in Florida - All entity types available on Sunbiz.org\n        </p>\n\n        {/* Info Banner */}\n        <div\n          className=\"rounded-xl\"\n          style={{\n            padding: '16px 20px',\n            background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n            border: '1px solid #bae6fd',\n            display: 'flex',\n            alignItems: 'start',\n            gap: '12px'\n          }}\n        >\n          <svg style={{ width: '20px', height: '20px', color: '#0284c7', flexShrink: 0, marginTop: '2px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n          <div>\n            <p className=\"font-semibold\" style={{ fontSize: '14px', color: '#0369a1', marginBottom: '4px' }}>\n              Not sure which entity type to choose?\n            </p>\n            <p style={{ fontSize: '13px', color: '#0c4a6e', lineHeight: '1.5' }}>\n              LLCs are the most popular choice for small businesses (95% of our clients). They offer liability protection, tax flexibility, and simple management. Corporations are better for raising capital or going public.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Order Form Card */}\n      <div \n        className=\"bg-white rounded-xl\" \n        style={{ \n          padding: '48px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n          border: '1px solid #e2e8f0',\n          maxWidth: '800px'\n        }}\n      >\n        {/* Error Message */}\n        {error && (\n          <div \n            className=\"rounded-lg\" \n            style={{ \n              marginBottom: '32px', \n              padding: '14px 18px',\n              background: '#fef2f2',\n              border: '1px solid #fecaca',\n              color: '#dc2626'\n            }}\n          >\n            <p style={{ fontSize: '14px', fontWeight: '500' }}>{error}</p>\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '32px' }}>\n          \n          {/* Entity Type Selection */}\n          <div>\n            <label className=\"block font-medium\" style={{ fontSize: '14px', marginBottom: '16px', color: '#334155' }}>\n              Select Entity Type\n            </label>\n\n            {/* Top 3 Most Popular - Large Buttons */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3\" style={{ gap: '16px', marginBottom: '24px' }}>\n              {topEntities.map((entity) => (\n                <button\n                  key={entity.type}\n                  type=\"button\"\n                  onClick={() => setFormData({ ...formData, orderType: entity.orderType, entityType: entity.type })}\n                  className=\"text-center rounded-xl transition-all duration-200\"\n                  style={{\n                    padding: '24px 20px',\n                    border: formData.entityType === entity.type ? '2.5px solid #0ea5e9' : '2px solid #e2e8f0',\n                    background: formData.entityType === entity.type ? 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)' : '#ffffff',\n                    boxShadow: formData.entityType === entity.type ? '0 8px 24px rgba(14, 165, 233, 0.15)' : '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  }}\n                >\n                  <div\n                    className=\"flex items-center justify-center mx-auto\"\n                    style={{\n                      width: '56px',\n                      height: '56px',\n                      borderRadius: '12px',\n                      background: formData.entityType === entity.type ? '#0ea5e9' : '#dbeafe',\n                      marginBottom: '16px'\n                    }}\n                  >\n                    <svg\n                      style={{ width: '28px', height: '28px', color: formData.entityType === entity.type ? '#ffffff' : '#0284c7' }}\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      viewBox=\"0 0 24 24\"\n                      strokeWidth={2}\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d={entity.icon} />\n                    </svg>\n                  </div>\n                  <p className=\"font-bold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '6px' }}>\n                    {entity.name}\n                  </p>\n                  <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '12px' }}>\n                    {entity.fullName}\n                  </p>\n                  <p style={{ fontSize: '12px', color: '#64748b', lineHeight: '1.5', marginBottom: '12px' }}>\n                    {entity.description}\n                  </p>\n                  <div\n                    className=\"font-semibold\"\n                    style={{\n                      fontSize: '20px',\n                      color: '#0ea5e9',\n                      marginTop: '12px'\n                    }}\n                  >\n                    ${entity.price}\n                  </div>\n                </button>\n              ))}\n            </div>\n\n            {/* Accordion for Other Entity Types */}\n            <div\n              className=\"rounded-xl\"\n              style={{\n                border: '1.5px solid #e2e8f0',\n                background: '#ffffff',\n                overflow: 'hidden'\n              }}\n            >\n              <button\n                type=\"button\"\n                onClick={() => setShowOtherEntities(!showOtherEntities)}\n                className=\"w-full text-left transition-colors duration-200\"\n                style={{\n                  padding: '18px 20px',\n                  background: showOtherEntities ? '#f8fafc' : '#ffffff',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  border: 'none',\n                  cursor: 'pointer'\n                }}\n              >\n                <div className=\"flex items-center\" style={{ gap: '12px' }}>\n                  <div\n                    className=\"flex items-center justify-center\"\n                    style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '10px',\n                      background: '#f1f5f9'\n                    }}\n                  >\n                    <svg style={{ width: '20px', height: '20px', color: '#64748b' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n                    </svg>\n                  </div>\n                  <div>\n                    <p className=\"font-semibold\" style={{ fontSize: '15px', color: '#0f172a', marginBottom: '4px' }}>\n                      Other Entity Types\n                    </p>\n                    <p style={{ fontSize: '13px', color: '#64748b' }}>\n                      Professional services, partnerships, and nonprofit organizations\n                    </p>\n                  </div>\n                </div>\n                <svg\n                  style={{\n                    width: '20px',\n                    height: '20px',\n                    color: '#64748b',\n                    transform: showOtherEntities ? 'rotate(180deg)' : 'rotate(0deg)',\n                    transition: 'transform 200ms'\n                  }}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth={2}\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n\n              {/* Accordion Content */}\n              {showOtherEntities && (\n                <div style={{ padding: '20px', borderTop: '1px solid #e2e8f0', background: '#f8fafc' }}>\n                  {otherEntityCategories.map((category, categoryIndex) => (\n                    <div key={category.name} style={{ marginBottom: categoryIndex < otherEntityCategories.length - 1 ? '28px' : '0' }}>\n                      <div style={{ marginBottom: '12px' }}>\n                        <h3 className=\"font-semibold\" style={{ fontSize: '13px', color: '#0f172a', marginBottom: '4px', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                          {category.name}\n                        </h3>\n                        <p style={{ fontSize: '12px', color: '#64748b' }}>\n                          {category.description}\n                        </p>\n                      </div>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2\" style={{ gap: '12px' }}>\n                        {category.entities.map((entity) => (\n                          <button\n                            key={entity.type}\n                            type=\"button\"\n                            onClick={() => {\n                              setFormData({ ...formData, orderType: entity.orderType, entityType: entity.type });\n                              setShowOtherEntities(false); // Close accordion after selection\n                            }}\n                            className=\"text-left rounded-lg transition-all duration-200\"\n                            style={{\n                              padding: '14px',\n                              border: formData.entityType === entity.type ? '2px solid #0ea5e9' : '1.5px solid #e2e8f0',\n                              background: formData.entityType === entity.type ? '#f0f9ff' : '#ffffff',\n                            }}\n                          >\n                            <div className=\"flex items-start\" style={{ gap: '10px' }}>\n                              <div\n                                className=\"flex items-center justify-center\"\n                                style={{\n                                  width: '32px',\n                                  height: '32px',\n                                  borderRadius: '6px',\n                                  background: formData.entityType === entity.type ? '#0ea5e9' : '#dbeafe',\n                                  flexShrink: 0\n                                }}\n                              >\n                                <svg\n                                  style={{ width: '16px', height: '16px', color: formData.entityType === entity.type ? '#ffffff' : '#0284c7' }}\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  viewBox=\"0 0 24 24\"\n                                  strokeWidth={2}\n                                >\n                                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d={entity.icon} />\n                                </svg>\n                              </div>\n                              <div style={{ flex: 1 }}>\n                                <div className=\"flex items-center justify-between\" style={{ marginBottom: '4px' }}>\n                                  <p className=\"font-semibold\" style={{ fontSize: '13px', color: '#0f172a' }}>\n                                    {entity.name}\n                                  </p>\n                                  <span className=\"font-semibold\" style={{ fontSize: '14px', color: '#0ea5e9' }}>\n                                    ${entity.price}\n                                  </span>\n                                </div>\n                                <p style={{ fontSize: '11px', color: '#64748b', lineHeight: '1.4' }}>\n                                  {entity.description}\n                                </p>\n                              </div>\n                            </div>\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Business Name */}\n          <div>\n            <label\n              htmlFor=\"businessName\"\n              className=\"block font-medium\"\n              style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n            >\n              Business Name\n            </label>\n            <div style={{ position: 'relative' }}>\n              <input\n                id=\"businessName\"\n                type=\"text\"\n                value={formData.businessName}\n                onChange={(e) => setFormData({ ...formData, businessName: e.target.value })}\n                required\n                className=\"w-full bg-white transition-all duration-200\"\n                style={{\n                  padding: '14px 48px 14px 16px',\n                  borderRadius: '10px',\n                  fontSize: '15px',\n                  border: nameAvailability\n                    ? nameAvailability.available\n                      ? '2px solid #10b981'\n                      : '2px solid #ef4444'\n                    : '1.5px solid #e2e8f0',\n                  color: '#0f172a'\n                }}\n                placeholder=\"Enter your business name (e.g., Sunshine Consulting)\"\n                onFocus={(e) => {\n                  if (!nameAvailability) {\n                    e.target.style.borderColor = '#0ea5e9';\n                  }\n                }}\n                onBlur={(e) => {\n                  if (!nameAvailability) {\n                    e.target.style.borderColor = '#e2e8f0';\n                  }\n                }}\n              />\n\n              {/* Status Icon */}\n              <div\n                style={{\n                  position: 'absolute',\n                  right: '16px',\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  display: 'flex',\n                  alignItems: 'center'\n                }}\n              >\n                {checkingName && (\n                  <div\n                    className=\"animate-spin\"\n                    style={{\n                      width: '20px',\n                      height: '20px',\n                      border: '2px solid #e2e8f0',\n                      borderTopColor: '#0ea5e9',\n                      borderRadius: '50%'\n                    }}\n                  />\n                )}\n                {!checkingName && nameAvailability && nameAvailability.available && (\n                  <svg style={{ width: '24px', height: '24px', color: '#10b981' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                )}\n                {!checkingName && nameAvailability && !nameAvailability.available && (\n                  <svg style={{ width: '24px', height: '24px', color: '#ef4444' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2.5} d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                )}\n              </div>\n            </div>\n\n            {/* Availability Message */}\n            {nameAvailability && (\n              <div\n                className=\"flex items-start\"\n                style={{\n                  marginTop: '12px',\n                  padding: '12px',\n                  borderRadius: '8px',\n                  background: nameAvailability.available ? '#f0fdf4' : '#fef2f2',\n                  border: nameAvailability.available ? '1px solid #bbf7d0' : '1px solid #fecaca',\n                  gap: '8px'\n                }}\n              >\n                <svg\n                  style={{\n                    width: '16px',\n                    height: '16px',\n                    color: nameAvailability.available ? '#16a34a' : '#dc2626',\n                    flexShrink: 0,\n                    marginTop: '2px'\n                  }}\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  {nameAvailability.available ? (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  ) : (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                  )}\n                </svg>\n                <div style={{ flex: 1 }}>\n                  <p\n                    className=\"font-medium\"\n                    style={{\n                      fontSize: '13px',\n                      color: nameAvailability.available ? '#16a34a' : '#dc2626',\n                      marginBottom: '4px'\n                    }}\n                  >\n                    {nameAvailability.message}\n                  </p>\n\n                  {/* Suggestions */}\n                  {nameAvailability.suggestions && nameAvailability.suggestions.length > 0 && (\n                    <div style={{ marginTop: '8px' }}>\n                      <p style={{ fontSize: '12px', color: '#991b1b', marginBottom: '6px' }}>\n                        Try these alternatives:\n                      </p>\n                      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}>\n                        {nameAvailability.suggestions.map((suggestion, index) => (\n                          <button\n                            key={index}\n                            type=\"button\"\n                            onClick={() => setFormData({ ...formData, businessName: suggestion })}\n                            className=\"transition-colors duration-200\"\n                            style={{\n                              padding: '4px 10px',\n                              fontSize: '12px',\n                              borderRadius: '6px',\n                              background: '#ffffff',\n                              border: '1px solid #fca5a5',\n                              color: '#991b1b',\n                              cursor: 'pointer'\n                            }}\n                            onMouseEnter={(e) => {\n                              e.currentTarget.style.background = '#fee2e2';\n                            }}\n                            onMouseLeave={(e) => {\n                              e.currentTarget.style.background = '#ffffff';\n                            }}\n                          >\n                            {suggestion}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {!nameAvailability && !checkingName && (\n              <p style={{ marginTop: '8px', fontSize: '13px', color: '#64748b' }}>\n                We'll check if this name is available in Florida\n              </p>\n            )}\n          </div>\n\n          {/* State Selection */}\n          <div>\n            <label\n              htmlFor=\"state\"\n              className=\"block font-medium\"\n              style={{ fontSize: '14px', marginBottom: '10px', color: '#334155' }}\n            >\n              State of Formation\n            </label>\n            <select\n              id=\"state\"\n              value={formData.state}\n              onChange={(e) => setFormData({ ...formData, state: e.target.value })}\n              required\n              className=\"w-full bg-white transition-all duration-200\"\n              style={{ \n                padding: '14px 16px', \n                borderRadius: '10px', \n                fontSize: '15px',\n                border: '1.5px solid #e2e8f0',\n                color: '#0f172a'\n              }}\n              onFocus={(e) => e.target.style.borderColor = '#0ea5e9'}\n              onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n            >\n              <option value=\"FL\">Florida</option>\n              <option value=\"DE\">Delaware</option>\n              <option value=\"WY\">Wyoming</option>\n              <option value=\"NV\">Nevada</option>\n              <option value=\"TX\">Texas</option>\n              <option value=\"CA\">California</option>\n              <option value=\"NY\">New York</option>\n            </select>\n            <p style={{ marginTop: '8px', fontSize: '13px', color: '#64748b' }}>\n              Where you want to register your business\n            </p>\n          </div>\n\n          {/* Pricing Info */}\n          <div\n            className=\"rounded-xl\"\n            style={{\n              padding: '20px',\n              background: '#f8fafc',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <div className=\"flex items-center justify-between\" style={{ marginBottom: '12px' }}>\n              <span className=\"font-medium\" style={{ fontSize: '14px', color: '#334155' }}>\n                Base Service Fee\n              </span>\n              <span className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a' }}>\n                {formData.entityType === 'NONPROFIT_CORPORATION' ? '$399.00' :\n                 formData.entityType.startsWith('PROFESSIONAL') ? '$349.00' :\n                 formData.entityType.includes('PARTNERSHIP') ? '$279.00' :\n                 formData.entityType === 'SOLE_PROPRIETORSHIP' ? '$149.00' :\n                 '$299.00'}\n              </span>\n            </div>\n            <p style={{ fontSize: '13px', color: '#64748b' }}>\n              Includes state filing fees and registered agent service for 1 year\n            </p>\n            <div\n              className=\"flex items-start\"\n              style={{\n                marginTop: '12px',\n                padding: '12px',\n                background: '#dbeafe',\n                borderRadius: '8px',\n                gap: '8px'\n              }}\n            >\n              <svg style={{ width: '16px', height: '16px', color: '#0284c7', flexShrink: 0, marginTop: '2px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <p style={{ fontSize: '12px', color: '#0369a1', lineHeight: '1.5' }}>\n                <strong>What's included:</strong> Document preparation, state filing, registered agent (1 year), EIN application assistance, operating agreement/bylaws template\n              </p>\n            </div>\n          </div>\n\n          {/* Submit Button */}\n          <div className=\"flex\" style={{ gap: '16px', paddingTop: '16px', borderTop: '1px solid #e2e8f0' }}>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 text-white font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n              style={{ \n                padding: '15px', \n                borderRadius: '10px', \n                fontSize: '15px',\n                background: loading ? '#94a3b8' : 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                boxShadow: loading ? 'none' : '0 4px 12px rgba(14, 165, 233, 0.3)',\n                border: 'none',\n                cursor: loading ? 'not-allowed' : 'pointer'\n              }}\n            >\n              {loading ? (\n                <span className=\"flex items-center justify-center\" style={{ gap: '10px' }}>\n                  <div className=\"animate-spin rounded-full border-2 border-white border-t-transparent\" style={{ width: '18px', height: '18px' }}></div>\n                  Creating Order...\n                </span>\n              ) : (\n                \"Create Order\"\n              )}\n            </button>\n            <Link\n              href=\"/dashboard/orders\"\n              className=\"flex-1 text-center font-medium transition-all duration-200\"\n              style={{ \n                padding: '15px', \n                borderRadius: '10px', \n                fontSize: '15px',\n                background: '#f1f5f9',\n                color: '#475569',\n                border: '1px solid #e2e8f0'\n              }}\n            >\n              Cancel\n            </Link>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\orders\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":40,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":40,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  businessName: string;\n  type: string;\n  status: string;\n  totalAmount: number;\n  createdAt: string;\n  user?: {\n    name: string;\n    email: string;\n  };\n}\n\nexport default function OrdersPage() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const response = await fetch(\"/api/orders\");\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Failed to fetch orders\");\n        return;\n      }\n\n      setOrders(data.orders);\n    } catch (err) {\n      setError(\"An error occurred while fetching orders\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    const colors: Record<string, { bg: string; text: string; border: string }> = {\n      PENDING: { bg: '#fef3c7', text: '#92400e', border: '#fde68a' },\n      PAYMENT_REQUIRED: { bg: '#fee2e2', text: '#991b1b', border: '#fecaca' },\n      PAID: { bg: '#dbeafe', text: '#1e40af', border: '#bfdbfe' },\n      IN_REVIEW: { bg: '#e0e7ff', text: '#3730a3', border: '#c7d2fe' },\n      SUBMITTED_TO_STATE: { bg: '#ddd6fe', text: '#5b21b6', border: '#c4b5fd' },\n      APPROVED: { bg: '#d1fae5', text: '#065f46', border: '#a7f3d0' },\n      COMPLETED: { bg: '#d1fae5', text: '#065f46', border: '#a7f3d0' },\n      CANCELLED: { bg: '#f3f4f6', text: '#374151', border: '#e5e7eb' },\n    };\n    return colors[status] || colors.PENDING;\n  };\n\n  const formatOrderType = (type: string) => {\n    return type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n  };\n\n  return (\n    <div>\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between\" style={{ marginBottom: '48px' }}>\n        <div>\n          <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '8px' }}>\n            Orders\n          </h1>\n          <p style={{ fontSize: '16px', color: '#64748b' }}>\n            Manage and track all your business formation orders\n          </p>\n        </div>\n        <Link\n          href=\"/dashboard/orders/new\"\n          className=\"inline-flex items-center font-medium text-white transition-all duration-200\"\n          style={{\n            padding: '14px 24px',\n            background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n            borderRadius: '10px',\n            fontSize: '14px',\n            boxShadow: '0 4px 12px rgba(14, 165, 233, 0.3)',\n            gap: '8px'\n          }}\n        >\n          <svg style={{ width: '18px', height: '18px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n          New Order\n        </Link>\n      </div>\n\n      {/* Orders List */}\n      <div\n        className=\"bg-white rounded-xl\"\n        style={{\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n          border: '1px solid #e2e8f0'\n        }}\n      >\n        {loading ? (\n          <div className=\"text-center\" style={{ padding: '64px 24px' }}>\n            <div className=\"animate-spin rounded-full border-4 border-gray-200 border-t-blue-500 mx-auto\" style={{ width: '48px', height: '48px' }}></div>\n            <p className=\"font-medium\" style={{ fontSize: '16px', color: '#64748b', marginTop: '20px' }}>\n              Loading orders...\n            </p>\n          </div>\n        ) : error ? (\n          <div className=\"text-center\" style={{ padding: '64px 24px' }}>\n            <div\n              className=\"inline-flex items-center justify-center mx-auto\"\n              style={{\n                width: '64px',\n                height: '64px',\n                borderRadius: '50%',\n                background: '#fee2e2',\n                marginBottom: '20px'\n              }}\n            >\n              <svg style={{ width: '32px', height: '32px', color: '#dc2626' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </div>\n            <p className=\"font-medium\" style={{ fontSize: '18px', color: '#dc2626', marginBottom: '8px' }}>\n              {error}\n            </p>\n            <button\n              onClick={fetchOrders}\n              className=\"font-medium transition-colors duration-200\"\n              style={{ fontSize: '14px', color: '#0ea5e9', marginTop: '12px' }}\n            >\n              Try again\n            </button>\n          </div>\n        ) : orders.length === 0 ? (\n          <div className=\"text-center\" style={{ padding: '64px 24px' }}>\n            <div\n              className=\"inline-flex items-center justify-center mx-auto\"\n              style={{\n                width: '64px',\n                height: '64px',\n                borderRadius: '50%',\n                background: '#f1f5f9',\n                marginBottom: '20px'\n              }}\n            >\n              <svg style={{ width: '32px', height: '32px', color: '#94a3b8' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n            </div>\n            <p className=\"font-medium\" style={{ fontSize: '18px', color: '#64748b', marginBottom: '8px' }}>\n              No orders yet\n            </p>\n            <p style={{ fontSize: '14px', color: '#94a3b8', marginBottom: '24px' }}>\n              Create your first order to get started\n            </p>\n            <Link\n              href=\"/dashboard/orders/new\"\n              className=\"inline-flex items-center font-medium text-white transition-all duration-200\"\n              style={{\n                padding: '12px 24px',\n                background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                borderRadius: '10px',\n                fontSize: '14px',\n                boxShadow: '0 4px 12px rgba(14, 165, 233, 0.3)',\n                gap: '8px'\n              }}\n            >\n              <svg style={{ width: '18px', height: '18px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Create First Order\n            </Link>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead>\n                <tr style={{ borderBottom: '1px solid #e2e8f0' }}>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Order #\n                  </th>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Business Name\n                  </th>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Type\n                  </th>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Status\n                  </th>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Amount\n                  </th>\n                  <th className=\"text-left font-medium\" style={{ padding: '16px 24px', fontSize: '13px', color: '#64748b', fontWeight: '500' }}>\n                    Date\n                  </th>\n                  <th style={{ padding: '16px 24px' }}></th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders.map((order) => {\n                  const statusColors = getStatusColor(order.status);\n                  return (\n                    <tr key={order.id} style={{ borderBottom: '1px solid #f1f5f9' }}>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span className=\"font-medium\" style={{ fontSize: '14px', color: '#0f172a' }}>\n                          {order.orderNumber}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span style={{ fontSize: '14px', color: '#0f172a' }}>\n                          {order.businessName}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span style={{ fontSize: '14px', color: '#64748b' }}>\n                          {formatOrderType(order.type)}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span\n                          className=\"inline-block font-medium rounded-lg\"\n                          style={{\n                            padding: '6px 12px',\n                            fontSize: '12px',\n                            background: statusColors.bg,\n                            color: statusColors.text,\n                            border: `1px solid ${statusColors.border}`\n                          }}\n                        >\n                          {order.status.replace(/_/g, ' ')}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span className=\"font-medium\" style={{ fontSize: '14px', color: '#0f172a' }}>\n                          ${order.totalAmount.toFixed(2)}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <span style={{ fontSize: '14px', color: '#64748b' }}>\n                          {new Date(order.createdAt).toLocaleDateString()}\n                        </span>\n                      </td>\n                      <td style={{ padding: '20px 24px' }}>\n                        <Link\n                          href={`/dashboard/orders/${order.id}`}\n                          className=\"font-medium transition-colors duration-200\"\n                          style={{ fontSize: '14px', color: '#0ea5e9' }}\n                        >\n                          View ‚Üí\n                        </Link>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\profile\\change-password\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":63,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":63,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\n/**\n * Change Password Page - Jony Ive Design Philosophy\n * Principles: Clarity, Simplicity, Functionality First\n */\n\nexport default function ChangePasswordPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\",\n  });\n\n  const [showPasswords, setShowPasswords] = useState({\n    current: false,\n    new: false,\n    confirm: false,\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"/api/user/change-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Failed to change password\");\n        return;\n      }\n\n      setSuccess(\"Password changed successfully! Redirecting...\");\n      setFormData({\n        currentPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\",\n      });\n\n      // Redirect to profile after 2 seconds\n      setTimeout(() => {\n        router.push(\"/dashboard/profile\");\n      }, 2000);\n    } catch (err) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const togglePasswordVisibility = (field: 'current' | 'new' | 'confirm') => {\n    setShowPasswords(prev => ({\n      ...prev,\n      [field]: !prev[field]\n    }));\n  };\n\n  return (\n    <div className=\"page-enter\">\n      {/* Page Header - Minimal with Back Button and Breathing Room */}\n      <div className=\"mb-10\">\n        <div className=\"flex items-center gap-3 mb-3\">\n          <Link\n            href=\"/dashboard/profile\"\n            className=\"text-neutral-500 hover:text-neutral-700 transition-colors duration-200\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n          </Link>\n          <h1 className=\"text-2xl font-semibold text-neutral-900 tracking-tight\">Change Password</h1>\n        </div>\n        <p className=\"mt-2 text-sm text-neutral-600 ml-8\">\n          Update your password to keep your account secure\n        </p>\n      </div>\n\n      <div className=\"max-w-2xl\">\n        <div className=\"bg-white rounded-lg shadow-md p-10\">\n          {/* Success Message - Subtle */}\n          {success && (\n            <div className=\"mb-6 bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded-md flex items-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <p className=\"text-sm\">{success}</p>\n            </div>\n          )}\n\n          {/* Error Message - Subtle */}\n          {error && (\n            <div className=\"mb-6 bg-error-50 border border-error-200 text-error-700 px-4 py-3 rounded-md flex items-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n              <p className=\"text-sm\">{error}</p>\n            </div>\n          )}\n\n          {/* Security Tips - Minimal Info Box with Breathing Room */}\n          <div className=\"mb-8 bg-info-50 border border-info-200 rounded-md p-5\">\n            <div className=\"flex gap-3\">\n              <svg className=\"w-5 h-5 text-info-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n              <div>\n                <p className=\"text-sm font-medium text-info-900 mb-1.5\">Password Requirements</p>\n                <ul className=\"text-xs text-info-700 space-y-1\">\n                  <li>‚Ä¢ Minimum 8 characters</li>\n                  <li>‚Ä¢ Mix of uppercase and lowercase letters</li>\n                  <li>‚Ä¢ Include numbers and special characters</li>\n                  <li>‚Ä¢ Avoid common words or patterns</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"space-y-6\">\n              {/* Current Password - Clean */}\n              <div>\n                <label htmlFor=\"currentPassword\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Current Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    id=\"currentPassword\"\n                    type={showPasswords.current ? \"text\" : \"password\"}\n                    value={formData.currentPassword}\n                    onChange={(e) => setFormData({ ...formData, currentPassword: e.target.value })}\n                    className=\"w-full px-4 py-2.5 pr-12 border border-neutral-300 rounded-md bg-white text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200\"\n                    placeholder=\"Enter current password\"\n                    required\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => togglePasswordVisibility('current')}\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-700 transition-colors duration-200\"\n                  >\n                    {showPasswords.current ? (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                      </svg>\n                    ) : (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                      </svg>\n                    )}\n                  </button>\n                </div>\n              </div>\n\n              {/* New Password Section - Subtle Divider with Breathing Room */}\n              <div className=\"pt-6 border-t border-neutral-100 space-y-6\">\n                {/* New Password - Clean */}\n                <div>\n                  <label htmlFor=\"newPassword\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                    New Password\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"newPassword\"\n                      type={showPasswords.new ? \"text\" : \"password\"}\n                      value={formData.newPassword}\n                      onChange={(e) => setFormData({ ...formData, newPassword: e.target.value })}\n                      className=\"w-full px-4 py-2.5 pr-12 border border-neutral-300 rounded-md bg-white text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200\"\n                      placeholder=\"Enter new password\"\n                      required\n                      minLength={6}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => togglePasswordVisibility('new')}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-700 transition-colors duration-200\"\n                    >\n                      {showPasswords.new ? (\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                        </svg>\n                      ) : (\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                        </svg>\n                      )}\n                    </button>\n                  </div>\n                  <p className=\"mt-1.5 text-xs text-neutral-500\">Minimum 6 characters</p>\n                </div>\n\n                {/* Confirm New Password - Clean */}\n                <div>\n                  <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                    Confirm New Password\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"confirmPassword\"\n                      type={showPasswords.confirm ? \"text\" : \"password\"}\n                      value={formData.confirmPassword}\n                      onChange={(e) => setFormData({ ...formData, confirmPassword: e.target.value })}\n                      className=\"w-full px-4 py-2.5 pr-12 border border-neutral-300 rounded-md bg-white text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200\"\n                      placeholder=\"Confirm new password\"\n                      required\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => togglePasswordVisibility('confirm')}\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500 hover:text-neutral-700 transition-colors duration-200\"\n                    >\n                      {showPasswords.confirm ? (\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                        </svg>\n                      ) : (\n                        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                        </svg>\n                      )}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons - Clean */}\n            <div className=\"mt-8 flex gap-3\">\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"flex-1 bg-primary-500 text-white py-2.5 rounded-md font-medium hover:bg-primary-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\n              >\n                {loading ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n                    Changing Password...\n                  </span>\n                ) : (\n                  \"Change Password\"\n                )}\n              </button>\n              <Link\n                href=\"/dashboard/profile\"\n                className=\"flex-1 bg-neutral-100 text-neutral-900 py-2.5 rounded-md font-medium hover:bg-neutral-200 transition-all duration-200 text-center inline-flex items-center justify-center\"\n              >\n                Cancel\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\profile\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":59,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":59,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":104,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":104,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function ProfilePage() {\n  const { data: session, update } = useSession();\n  const router = useRouter();\n  const [isEditing, setIsEditing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [sendingVerification, setSendingVerification] = useState(false);\n  const [verificationMessage, setVerificationMessage] = useState(\"\");\n\n  const [formData, setFormData] = useState({\n    name: session?.user?.name || \"\",\n    email: session?.user?.email || \"\",\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(\"\");\n    setLoading(true);\n\n    try {\n      const response = await fetch(\"/api/user/profile\", {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || \"Failed to update profile\");\n        return;\n      }\n\n      setSuccess(\"Profile updated successfully!\");\n      setIsEditing(false);\n      \n      // Update the session\n      await update({\n        ...session,\n        user: {\n          ...session?.user,\n          name: formData.name,\n          email: formData.email,\n        },\n      });\n\n      router.refresh();\n    } catch (err) {\n      setError(\"An error occurred. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setFormData({\n      name: session?.user?.name || \"\",\n      email: session?.user?.email || \"\",\n    });\n    setIsEditing(false);\n    setError(\"\");\n    setSuccess(\"\");\n  };\n\n  const handleSendVerification = async () => {\n    setSendingVerification(true);\n    setVerificationMessage(\"\");\n\n    try {\n      const response = await fetch(\"/api/auth/send-verification\", {\n        method: \"POST\",\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setVerificationMessage(\n          `‚úÖ Verification link generated! Check the console (F12) or the message below to copy the link.`\n        );\n        // In development, log the verification URL\n        if (data.verificationUrl) {\n          console.log(\"üîó VERIFICATION URL (Click to copy):\", data.verificationUrl);\n          console.log(\"üìã Copy this link and paste it in your browser to verify your email\");\n\n          // Store the URL in state to display it\n          setVerificationMessage(\n            `‚úÖ Verification link generated!\\n\\nCopy this link: ${data.verificationUrl}\\n\\n(In production, this would be sent via email)`\n          );\n        }\n      } else {\n        setVerificationMessage(data.error || \"Failed to send verification email\");\n      }\n    } catch (error) {\n      setVerificationMessage(\"An error occurred. Please try again.\");\n    } finally {\n      setSendingVerification(false);\n    }\n  };\n\n  return (\n    <div className=\"page-enter\">\n      {/* Page Header - Minimal with Breathing Room */}\n      <div className=\"mb-10\">\n        <h1 className=\"text-2xl font-semibold text-neutral-900 tracking-tight\">Profile</h1>\n        <p className=\"mt-2 text-sm text-neutral-600\">\n          Manage your account information\n        </p>\n      </div>\n\n      {/* Profile Card - Clean Design with Generous Spacing */}\n      <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n\n        {/* Header - Minimal with Avatar and Breathing Room */}\n        <div className=\"bg-neutral-50 px-8 py-10 border-b border-neutral-200\">\n          <div className=\"flex items-center gap-6\">\n            {/* Avatar - Simple Circle */}\n            <div className=\"h-20 w-20 rounded-full bg-primary-100 flex items-center justify-center text-primary-700 font-semibold text-3xl\">\n              {session?.user?.name?.charAt(0).toUpperCase() || \"U\"}\n            </div>\n\n            {/* User Info - Clean Typography */}\n            <div>\n              <h2 className=\"text-xl font-semibold text-neutral-900\">{session?.user?.name || \"User\"}</h2>\n              <p className=\"text-sm text-neutral-600 mt-0.5\">{session?.user?.email}</p>\n              <div className=\"mt-2 inline-flex items-center gap-1.5 bg-neutral-200 px-2.5 py-1 rounded-md\">\n                <span className=\"text-xs font-medium text-neutral-700 uppercase tracking-wide\">\n                  {session?.user?.role || \"USER\"}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Form Section with Breathing Room */}\n        <div className=\"p-8\">\n          {/* Success Message - Subtle */}\n          {success && (\n            <div className=\"mb-6 bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded-md flex items-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <p className=\"text-sm\">{success}</p>\n            </div>\n          )}\n\n          {/* Error Message - Subtle */}\n          {error && (\n            <div className=\"mb-6 bg-error-50 border border-error-200 text-error-700 px-4 py-3 rounded-md flex items-center gap-2\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n              <p className=\"text-sm\">{error}</p>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"space-y-6\">\n              {/* Name Field - Clean */}\n              <div>\n                <label htmlFor=\"name\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Full Name\n                </label>\n                {isEditing ? (\n                  <input\n                    id=\"name\"\n                    type=\"text\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    className=\"w-full px-4 py-2.5 border border-neutral-300 rounded-md bg-white text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200\"\n                    placeholder=\"Enter your full name\"\n                  />\n                ) : (\n                  <p className=\"px-4 py-2.5 bg-neutral-50 rounded-md text-neutral-900\">\n                    {session?.user?.name || \"Not set\"}\n                  </p>\n                )}\n              </div>\n\n              {/* Email Field - Clean */}\n              <div>\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Email\n                </label>\n                {isEditing ? (\n                  <input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                    className=\"w-full px-4 py-2.5 border border-neutral-300 rounded-md bg-white text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200\"\n                    placeholder=\"Enter your email\"\n                  />\n                ) : (\n                  <p className=\"px-4 py-2.5 bg-neutral-50 rounded-md text-neutral-900\">\n                    {session?.user?.email || \"Not set\"}\n                  </p>\n                )}\n              </div>\n\n              {/* Role Field (Read-only) - Minimal */}\n              <div>\n                <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Role\n                </label>\n                <p className=\"px-4 py-2.5 bg-neutral-50 rounded-md text-neutral-900 flex items-center justify-between\">\n                  <span>{session?.user?.role || \"USER\"}</span>\n                  <span className=\"text-xs text-neutral-500\">Read only</span>\n                </p>\n              </div>\n\n              {/* Account Created - Minimal */}\n              <div>\n                <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Member Since\n                </label>\n                <p className=\"px-4 py-2.5 bg-neutral-50 rounded-md text-neutral-900\">\n                  {new Date().toLocaleDateString('en-US', {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric'\n                  })}\n                </p>\n              </div>\n            </div>\n\n            {/* Action Buttons - Clean */}\n            <div className=\"mt-8 flex gap-3\">\n              {isEditing ? (\n                <>\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"flex-1 bg-primary-500 text-white py-2.5 rounded-md font-medium hover:bg-primary-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md\"\n                  >\n                    {loading ? (\n                      <span className=\"flex items-center justify-center gap-2\">\n                        <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent\"></div>\n                        Saving...\n                      </span>\n                    ) : (\n                      \"Save Changes\"\n                    )}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={handleCancel}\n                    disabled={loading}\n                    className=\"flex-1 bg-neutral-100 text-neutral-900 py-2.5 rounded-md font-medium hover:bg-neutral-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Cancel\n                  </button>\n                </>\n              ) : (\n                <button\n                  type=\"button\"\n                  onClick={() => setIsEditing(true)}\n                  className=\"flex-1 bg-primary-500 text-white py-2.5 rounded-md font-medium hover:bg-primary-600 transition-all duration-200 shadow-sm hover:shadow-md\"\n                >\n                  Edit Profile\n                </button>\n              )}\n            </div>\n          </form>\n        </div>\n      </div>\n\n      {/* Email Verification Section - Clean with Breathing Room */}\n      <div className=\"mt-8 bg-white rounded-lg shadow-md p-8\">\n        <h3 className=\"text-lg font-semibold text-neutral-900 mb-6\">Email Verification</h3>\n\n        {verificationMessage && (\n          <div className={`mb-4 px-4 py-3 rounded-md ${\n            verificationMessage.includes(\"‚úÖ\")\n              ? \"bg-success-50 border border-success-200 text-success-700\"\n              : \"bg-error-50 border border-error-200 text-error-700\"\n          }`}>\n            <div className=\"flex items-start gap-2\">\n              <svg className=\"w-5 h-5 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                {verificationMessage.includes(\"‚úÖ\") ? (\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                ) : (\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                )}\n              </svg>\n              <div className=\"flex-1\">\n                <p className=\"text-sm whitespace-pre-wrap break-all\">{verificationMessage}</p>\n                {verificationMessage.includes(\"http\") && (\n                  <button\n                    onClick={() => {\n                      const urlMatch = verificationMessage.match(/(http[^\\s]+)/);\n                      if (urlMatch) {\n                        navigator.clipboard.writeText(urlMatch[0]);\n                        alert(\"Link copied to clipboard!\");\n                      }\n                    }}\n                    className=\"mt-2 px-3 py-1.5 bg-success-600 text-white text-xs rounded-md hover:bg-success-700 transition-colors duration-200\"\n                  >\n                    Copy Link\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex items-center justify-between p-4 bg-neutral-50 rounded-md\">\n          <div className=\"flex items-center gap-3\">\n            <div className={`rounded-full p-2 ${\n              session?.user?.emailVerified\n                ? \"bg-success-100\"\n                : \"bg-warning-100\"\n            }`}>\n              {session?.user?.emailVerified ? (\n                <svg className=\"w-5 h-5 text-success-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              ) : (\n                <svg className=\"w-5 h-5 text-warning-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                </svg>\n              )}\n            </div>\n            <div>\n              <p className=\"font-medium text-neutral-900 text-sm\">\n                {session?.user?.emailVerified ? \"Email Verified\" : \"Email Not Verified\"}\n              </p>\n              <p className=\"text-xs text-neutral-500 mt-0.5\">\n                {session?.user?.emailVerified\n                  ? \"Your email address has been verified\"\n                  : \"Verify your email to secure your account\"}\n              </p>\n            </div>\n          </div>\n          {!session?.user?.emailVerified && (\n            <button\n              onClick={handleSendVerification}\n              disabled={sendingVerification}\n              className=\"px-4 py-2 bg-primary-500 text-white rounded-md text-sm font-medium hover:bg-primary-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {sendingVerification ? \"Sending...\" : \"Verify Email\"}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Security Section - Clean with Breathing Room */}\n      <div className=\"mt-8 bg-white rounded-lg shadow-md p-8\">\n        <h3 className=\"text-lg font-semibold text-neutral-900 mb-6\">Security</h3>\n        <div className=\"space-y-4\">\n          <Link\n            href=\"/dashboard/profile/change-password\"\n            className=\"block px-4 py-3 border border-neutral-200 rounded-md hover:bg-neutral-50 transition-all duration-200 group\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"bg-primary-100 group-hover:bg-primary-200 rounded-md p-2 transition-colors duration-200\">\n                  <svg className=\"w-5 h-5 text-primary-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z\" />\n                  </svg>\n                </div>\n                <div>\n                  <p className=\"font-medium text-neutral-900 text-sm\">Change Password</p>\n                  <p className=\"text-xs text-neutral-500 mt-0.5\">Update your password</p>\n                </div>\n              </div>\n              <svg className=\"w-5 h-5 text-neutral-400 group-hover:text-neutral-600 transition-colors duration-200\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n              </svg>\n            </div>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\ra-mail\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\services\\reinstatement\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":30,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":30,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[878,881],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[878,881],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'selectedPackage' is assigned a value but never used.","line":36,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSelectedPackage' is assigned a value but never used.","line":36,"column":27,"nodeType":null,"messageId":"unusedVar","endLine":36,"endColumn":45},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchBusiness'. Either include it or remove the dependency array.","line":57,"column":6,"nodeType":"ArrayExpression","endLine":57,"endColumn":18,"suggestions":[{"desc":"Update the dependencies array to be: [businessId, fetchBusiness]","fix":{"range":[1473,1485],"text":"[businessId, fetchBusiness]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1986,1989],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1986,1989],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useRouter, useSearchParams } from 'next/navigation';\n\ninterface ReinstatementFees {\n  baseFee: number;\n  annualReportFeePerYear: number;\n  yearsRevoked: number;\n  totalAnnualReportFees: number;\n  totalBaseFees: number;\n  addOns: {\n    changeAgent: boolean;\n    amendBusiness: boolean;\n    einApplication: boolean;\n    operatingAgreement: boolean;\n  };\n  addOnFees: number;\n  grandTotal: number;\n}\n\n// Helper function to format entity type\nconst formatEntityType = (entityType: string) => {\n  if (!entityType) return '';\n  return entityType.replace(/_/g, ' ');\n};\n\nexport default function ReinstatementPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const businessId = searchParams.get('businessId');\n\n  const [business, setBusiness] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedPackage, setSelectedPackage] = useState<'basic' | 'standard' | 'premium'>('standard');\n  const [fees, setFees] = useState<ReinstatementFees>({\n    baseFee: 0,\n    annualReportFeePerYear: 0,\n    yearsRevoked: 0,\n    totalAnnualReportFees: 0,\n    totalBaseFees: 0,\n    addOns: {\n      changeAgent: false,\n      amendBusiness: false,\n      einApplication: false,\n      operatingAgreement: false\n    },\n    addOnFees: 0,\n    grandTotal: 0\n  });\n\n  useEffect(() => {\n    if (businessId) {\n      fetchBusiness();\n    }\n  }, [businessId]);\n\n  const fetchBusiness = async () => {\n    try {\n      const response = await fetch(`/api/businesses/${businessId}`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.business) {\n          setBusiness(data.business);\n          calculateFees(data.business);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching business:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const calculateFees = (businessData: any) => {\n    // Calculate base fees based on entity type\n    let baseFee = 0;\n    let annualReportFeePerYear = 0;\n\n    if (businessData.entityType === 'LLC') {\n      baseFee = 100;\n      annualReportFeePerYear = 138.75;\n    } else if (businessData.entityType === 'CORPORATION') {\n      baseFee = 600;\n      annualReportFeePerYear = 150;\n    } else if (businessData.entityType === 'NONPROFIT_CORPORATION') {\n      baseFee = 175;\n      annualReportFeePerYear = 61.25;\n    }\n\n    // Calculate years revoked (simplified - would need actual revocation date)\n    const filingYear = new Date(businessData.filingDate).getFullYear();\n    const currentYear = new Date().getFullYear();\n    const yearsRevoked = Math.max(1, currentYear - filingYear);\n\n    const totalAnnualReportFees = annualReportFeePerYear * yearsRevoked;\n    const totalBaseFees = baseFee + totalAnnualReportFees;\n\n    setFees({\n      baseFee,\n      annualReportFeePerYear,\n      yearsRevoked,\n      totalAnnualReportFees,\n      totalBaseFees,\n      addOns: {\n        changeAgent: false,\n        amendBusiness: false,\n        einApplication: false,\n        operatingAgreement: false\n      },\n      addOnFees: 0,\n      grandTotal: totalBaseFees\n    });\n  };\n\n  const toggleAddOn = (addOn: keyof ReinstatementFees['addOns']) => {\n    const addOnPrices = {\n      changeAgent: 25,\n      amendBusiness: 25,\n      einApplication: 99,\n      operatingAgreement: 149\n    };\n\n    const newAddOns = {\n      ...fees.addOns,\n      [addOn]: !fees.addOns[addOn]\n    };\n\n    const addOnFees = Object.entries(newAddOns).reduce((total, [key, value]) => {\n      if (value) {\n        return total + addOnPrices[key as keyof typeof addOnPrices];\n      }\n      return total;\n    }, 0);\n\n    setFees({\n      ...fees,\n      addOns: newAddOns,\n      addOnFees,\n      grandTotal: fees.totalBaseFees + addOnFees\n    });\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  if (!business) {\n    return (\n      <div style={{ padding: '40px', textAlign: 'center' }}>\n        <h1 style={{ fontSize: '24px', fontWeight: '600', marginBottom: '16px' }}>Business Not Found</h1>\n        <Link href=\"/dashboard/businesses\" style={{ color: '#0ea5e9', textDecoration: 'underline' }}>\n          Return to My Businesses\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(to bottom, #f8fafc 0%, #e2e8f0 100%)',\n      padding: '40px 20px'\n    }}>\n      <div style={{ maxWidth: '900px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ textAlign: 'center', marginBottom: '40px' }}>\n          <h1 style={{ fontSize: '32px', fontWeight: '700', color: '#0f172a', marginBottom: '12px' }}>\n            Reinstate Your Business\n          </h1>\n          <p style={{ fontSize: '16px', color: '#64748b', lineHeight: '1.6' }}>\n            Get {business.legalName} back in good standing with the State of Florida\n          </p>\n        </div>\n\n        {/* Business Info Card */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            marginBottom: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0'\n          }}\n        >\n          <h2 style={{ fontSize: '20px', fontWeight: '600', color: '#0f172a', marginBottom: '20px' }}>\n            Business Information\n          </h2>\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748b', marginBottom: '6px', fontWeight: '500', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Legal Name</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{business.legalName}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748b', marginBottom: '6px', fontWeight: '500', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Entity Type</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{formatEntityType(business.entityType)}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748b', marginBottom: '6px', fontWeight: '500', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Document Number</p>\n              <p style={{ fontSize: '15px', color: '#0f172a', fontWeight: '500' }}>{business.documentNumber}</p>\n            </div>\n            <div>\n              <p style={{ fontSize: '12px', color: '#64748b', marginBottom: '6px', fontWeight: '500', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Years Revoked</p>\n              <p style={{ fontSize: '15px', color: '#dc2626', fontWeight: '600' }}>{fees.yearsRevoked} year{fees.yearsRevoked !== 1 ? 's' : ''}</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Fee Breakdown Card */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            marginBottom: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0'\n          }}\n        >\n          <h2 style={{ fontSize: '20px', fontWeight: '600', color: '#0f172a', marginBottom: '20px' }}>\n            Reinstatement Fee Breakdown\n          </h2>\n\n          {/* Base Fees */}\n          <div style={{ marginBottom: '24px', paddingBottom: '24px', borderBottom: '1px solid #e2e8f0' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '12px' }}>\n              <span style={{ fontSize: '16px', color: '#475569' }}>Base Reinstatement Fee</span>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>${fees.baseFee.toFixed(2)}</span>\n            </div>\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n              <span style={{ fontSize: '16px', color: '#475569' }}>\n                Annual Reports ({fees.yearsRevoked} year{fees.yearsRevoked !== 1 ? 's' : ''} √ó ${fees.annualReportFeePerYear})\n              </span>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>${fees.totalAnnualReportFees.toFixed(2)}</span>\n            </div>\n          </div>\n\n          {/* Add-On Services */}\n          <div style={{ marginBottom: '24px' }}>\n            <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#0f172a', marginBottom: '16px' }}>\n              Optional Add-On Services\n            </h3>\n            \n            <label style={{ \n              display: 'flex', \n              alignItems: 'center', \n              padding: '16px', \n              background: fees.addOns.changeAgent ? '#eff6ff' : '#f8fafc',\n              border: fees.addOns.changeAgent ? '2px solid #0ea5e9' : '1px solid #e2e8f0',\n              borderRadius: '8px',\n              marginBottom: '12px',\n              cursor: 'pointer'\n            }}>\n              <input \n                type=\"checkbox\" \n                checked={fees.addOns.changeAgent}\n                onChange={() => toggleAddOn('changeAgent')}\n                style={{ marginRight: '12px', width: '18px', height: '18px', cursor: 'pointer' }}\n              />\n              <div style={{ flex: 1 }}>\n                <p style={{ fontSize: '16px', fontWeight: '500', color: '#0f172a' }}>Change Registered Agent</p>\n                <p style={{ fontSize: '14px', color: '#64748b' }}>Update your registered agent information</p>\n              </div>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>+$25.00</span>\n            </label>\n\n            <label style={{ \n              display: 'flex', \n              alignItems: 'center', \n              padding: '16px', \n              background: fees.addOns.amendBusiness ? '#eff6ff' : '#f8fafc',\n              border: fees.addOns.amendBusiness ? '2px solid #0ea5e9' : '1px solid #e2e8f0',\n              borderRadius: '8px',\n              marginBottom: '12px',\n              cursor: 'pointer'\n            }}>\n              <input \n                type=\"checkbox\" \n                checked={fees.addOns.amendBusiness}\n                onChange={() => toggleAddOn('amendBusiness')}\n                style={{ marginRight: '12px', width: '18px', height: '18px', cursor: 'pointer' }}\n              />\n              <div style={{ flex: 1 }}>\n                <p style={{ fontSize: '16px', fontWeight: '500', color: '#0f172a' }}>Amend Business Information</p>\n                <p style={{ fontSize: '14px', color: '#64748b' }}>Update name, purpose, or management structure</p>\n              </div>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>+$25.00</span>\n            </label>\n\n            <label style={{ \n              display: 'flex', \n              alignItems: 'center', \n              padding: '16px', \n              background: fees.addOns.einApplication ? '#eff6ff' : '#f8fafc',\n              border: fees.addOns.einApplication ? '2px solid #0ea5e9' : '1px solid #e2e8f0',\n              borderRadius: '8px',\n              marginBottom: '12px',\n              cursor: 'pointer'\n            }}>\n              <input \n                type=\"checkbox\" \n                checked={fees.addOns.einApplication}\n                onChange={() => toggleAddOn('einApplication')}\n                style={{ marginRight: '12px', width: '18px', height: '18px', cursor: 'pointer' }}\n              />\n              <div style={{ flex: 1 }}>\n                <p style={{ fontSize: '16px', fontWeight: '500', color: '#0f172a' }}>Apply for New EIN</p>\n                <p style={{ fontSize: '14px', color: '#64748b' }}>Get a new Federal Tax ID number</p>\n              </div>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>+$99.00</span>\n            </label>\n\n            <label style={{ \n              display: 'flex', \n              alignItems: 'center', \n              padding: '16px', \n              background: fees.addOns.operatingAgreement ? '#eff6ff' : '#f8fafc',\n              border: fees.addOns.operatingAgreement ? '2px solid #0ea5e9' : '1px solid #e2e8f0',\n              borderRadius: '8px',\n              cursor: 'pointer'\n            }}>\n              <input \n                type=\"checkbox\" \n                checked={fees.addOns.operatingAgreement}\n                onChange={() => toggleAddOn('operatingAgreement')}\n                style={{ marginRight: '12px', width: '18px', height: '18px', cursor: 'pointer' }}\n              />\n              <div style={{ flex: 1 }}>\n                <p style={{ fontSize: '16px', fontWeight: '500', color: '#0f172a' }}>\n                  {business.entityType === 'LLC' ? 'Operating Agreement' : 'Corporate Bylaws'}\n                </p>\n                <p style={{ fontSize: '14px', color: '#64748b' }}>Updated governing documents for your business</p>\n              </div>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#0f172a' }}>+$149.00</span>\n            </label>\n          </div>\n\n          {/* Total */}\n          <div\n            className=\"bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl\"\n            style={{\n              padding: '24px',\n              border: '2px solid #0ea5e9',\n              borderLeft: '4px solid #0ea5e9',\n              marginTop: '24px'\n            }}\n          >\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '20px' }}>\n              <div>\n                <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '6px', fontWeight: '500', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Total Due Today</p>\n                <p style={{ fontSize: '32px', fontWeight: '700', color: '#0f172a' }}>${fees.grandTotal.toFixed(2)}</p>\n              </div>\n              <button\n                onClick={() => {\n                  // TODO: Navigate to checkout with reinstatement package\n                  alert('Proceeding to checkout...');\n                }}\n                className=\"relative overflow-hidden\"\n                style={{\n                  fontSize: '16px',\n                  padding: '16px 32px',\n                  background: 'linear-gradient(135deg, #38bdf8 0%, #0284c7 100%)',\n                  boxShadow: '0 6px 16px -2px rgba(14, 165, 233, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.4)',\n                  border: '1px solid rgba(255, 255, 255, 0.4)',\n                  borderRadius: '8px',\n                  color: 'white',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 200ms'\n                }}\n              >\n                {/* Glass highlight effect */}\n                <div\n                  className=\"absolute inset-0\"\n                  style={{\n                    background: 'linear-gradient(135deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 50%)',\n                    transform: 'translateY(-30%)',\n                  }}\n                />\n                <span className=\"relative\">Proceed to Checkout ‚Üí</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Back Link */}\n        <div style={{ textAlign: 'center', marginTop: '24px' }}>\n          <Link\n            href={`/dashboard/businesses/${businessId}`}\n            style={{ color: '#64748b', fontSize: '14px', textDecoration: 'none', fontWeight: '500' }}\n            className=\"hover:text-sky-600 transition-colors\"\n          >\n            ‚Üê Back to Business Details\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":19,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":15},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":197,"column":47,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., &quot;Jhon\" ‚Üí \"John\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., &ldquo;Jhon\" ‚Üí \"John\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., &#34;Jhon\" ‚Üí \"John\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., &rdquo;Jhon\" ‚Üí \"John\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":197,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon&quot; ‚Üí \"John\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon&ldquo; ‚Üí \"John\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon&#34; ‚Üí \"John\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon&rdquo; ‚Üí \"John\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":197,"column":56,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí &quot;John\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí &ldquo;John\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí &#34;John\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí &rdquo;John\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":197,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí \"John&quot;)"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí \"John&ldquo;)"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí \"John&#34;)"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6609,6653],"text":"Fixing obvious typos (e.g., \"Jhon\" ‚Üí \"John&rdquo;)"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":198,"column":56,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., &quot;St\" ‚Üí \"Street\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., &ldquo;St\" ‚Üí \"Street\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., &#34;St\" ‚Üí \"Street\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., &rdquo;St\" ‚Üí \"Street\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":198,"column":59,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St&quot; ‚Üí \"Street\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St&ldquo; ‚Üí \"Street\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St&#34; ‚Üí \"Street\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St&rdquo; ‚Üí \"Street\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":198,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí &quot;Street\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí &ldquo;Street\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí &#34;Street\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí &rdquo;Street\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":198,"column":70,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí \"Street&quot;)"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí \"Street&ldquo;)"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí \"Street&#34;)"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6677,6730],"text":"Standardizing address formats (e.g., \"St\" ‚Üí \"Street&rdquo;)"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":199,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., &quot;JOHN DOE\" ‚Üí \"John Doe\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., &ldquo;JOHN DOE\" ‚Üí \"John Doe\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., &#34;JOHN DOE\" ‚Üí \"John Doe\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., &rdquo;JOHN DOE\" ‚Üí \"John Doe\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":199,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE&quot; ‚Üí \"John Doe\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE&ldquo; ‚Üí \"John Doe\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE&#34; ‚Üí \"John Doe\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE&rdquo; ‚Üí \"John Doe\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":199,"column":65,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí &quot;John Doe\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí &ldquo;John Doe\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí &#34;John Doe\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí &rdquo;John Doe\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":199,"column":74,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí \"John Doe&quot;)"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí \"John Doe&ldquo;)"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí \"John Doe&#34;)"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6754,6811],"text":"Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí \"John Doe&rdquo;)"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":200,"column":51,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., &quot;3055551234\" ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., &ldquo;3055551234\" ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., &#34;3055551234\" ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., &rdquo;3055551234\" ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":200,"column":62,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234&quot; ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234&ldquo; ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234&#34; ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234&rdquo; ‚Üí \"(305) 555-1234\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":200,"column":66,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí &quot;(305) 555-1234\")"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí &ldquo;(305) 555-1234\")"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí &#34;(305) 555-1234\")"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí &rdquo;(305) 555-1234\")"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":200,"column":81,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí \"(305) 555-1234&quot;)"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí \"(305) 555-1234&ldquo;)"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí \"(305) 555-1234&#34;)"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6835,6899],"text":"Formatting phone numbers (e.g., \"3055551234\" ‚Üí \"(305) 555-1234&rdquo;)"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":232,"column":28,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8308,8338],"text":"You won&apos;t review minor changes"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8308,8338],"text":"You won&lsquo;t review minor changes"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8308,8338],"text":"You won&#39;t review minor changes"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8308,8338],"text":"You won&rsquo;t review minor changes"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":17,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Customer Settings Page\n * \n * Allows customers to configure their filing preferences\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\n\ninterface UserSettings {\n  autoApproveMinorChanges: boolean;\n  autoApproveGrantedAt: string | null;\n  autoApproveAcknowledged: boolean;\n}\n\nexport default function SettingsPage() {\n  const router = useRouter();\n  const [settings, setSettings] = useState<UserSettings | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n\n  useEffect(() => {\n    fetchSettings();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const response = await fetch('/api/user/settings');\n      const data = await response.json();\n      if (data.success) {\n        setSettings(data.settings);\n      }\n    } catch (error) {\n      console.error('Error fetching settings:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleAutoApprove = () => {\n    if (!settings) return;\n\n    // If turning ON, show confirmation dialog\n    if (!settings.autoApproveMinorChanges) {\n      setShowConfirmDialog(true);\n    } else {\n      // If turning OFF, just do it\n      saveAutoApprove(false);\n    }\n  };\n\n  const confirmAutoApprove = async () => {\n    await saveAutoApprove(true);\n    setShowConfirmDialog(false);\n  };\n\n  const saveAutoApprove = async (enabled: boolean) => {\n    setSaving(true);\n    try {\n      const response = await fetch('/api/user/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          autoApproveMinorChanges: enabled,\n          autoApproveAcknowledged: enabled,\n        })\n      });\n\n      const data = await response.json();\n      if (data.success) {\n        setSettings(data.settings);\n        alert(enabled \n          ? '‚úÖ Auto-approval enabled! We can now proceed faster with minor corrections.'\n          : '‚úÖ Auto-approval disabled. You will review all changes before filing.'\n        );\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      alert('Failed to save settings. Please try again.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '48px',\n          height: '48px',\n          border: '4px solid #e5e7eb',\n          borderTopColor: '#0ea5e9',\n          borderRadius: '50%',\n          margin: '0 auto',\n          animation: 'spin 1s linear infinite'\n        }} />\n        <p style={{ marginTop: '1rem', color: '#64748b' }}>Loading settings...</p>\n      </div>\n    );\n  }\n\n  if (!settings) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <p style={{ fontSize: '18px', color: '#64748b' }}>Failed to load settings</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ maxWidth: '900px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <h1 className=\"font-semibold\" style={{ fontSize: '28px', color: '#0f172a', marginBottom: '8px' }}>\n          ‚öôÔ∏è Settings\n        </h1>\n        <p style={{ fontSize: '16px', color: '#64748b' }}>\n          Manage your filing preferences and account settings\n        </p>\n      </div>\n\n      {/* Filing Preferences Section */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '32px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n        marginBottom: '24px'\n      }}>\n        <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '24px' }}>\n          üìã Filing Preferences\n        </h2>\n\n        {/* Auto-Approve Toggle */}\n        <div style={{\n          padding: '24px',\n          background: settings.autoApproveMinorChanges ? '#f0fdf4' : '#f8fafc',\n          border: settings.autoApproveMinorChanges ? '2px solid #059669' : '2px solid #e2e8f0',\n          borderRadius: '12px',\n          marginBottom: '16px'\n        }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '16px' }}>\n            <div style={{ flex: 1 }}>\n              <h3 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '8px' }}>\n                üöÄ Fast-Track Minor Corrections\n              </h3>\n              <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '12px', lineHeight: '1.6' }}>\n                Allow our team to make minor corrections and proceed with filing immediately, without waiting for your approval.\n              </p>\n              <p style={{ fontSize: '13px', color: '#64748b', fontStyle: 'italic' }}>\n                <strong>Status:</strong> {settings.autoApproveMinorChanges ? (\n                  <span style={{ color: '#059669' }}>‚úì Enabled</span>\n                ) : (\n                  <span style={{ color: '#64748b' }}>‚óã Disabled</span>\n                )}\n                {settings.autoApproveGrantedAt && (\n                  <span> ‚Ä¢ Enabled on {new Date(settings.autoApproveGrantedAt).toLocaleDateString()}</span>\n                )}\n              </p>\n            </div>\n            <button\n              onClick={handleToggleAutoApprove}\n              disabled={saving}\n              style={{\n                background: settings.autoApproveMinorChanges ? '#059669' : '#64748b',\n                color: 'white',\n                padding: '10px 20px',\n                borderRadius: '8px',\n                border: 'none',\n                cursor: saving ? 'not-allowed' : 'pointer',\n                fontWeight: '500',\n                fontSize: '14px',\n                opacity: saving ? 0.6 : 1,\n                marginLeft: '16px'\n              }}\n            >\n              {saving ? 'Saving...' : settings.autoApproveMinorChanges ? 'Disable' : 'Enable'}\n            </button>\n          </div>\n\n          {/* Examples */}\n          <div style={{\n            background: 'white',\n            borderRadius: '8px',\n            padding: '16px',\n            marginTop: '16px'\n          }}>\n            <p className=\"font-semibold\" style={{ fontSize: '14px', color: '#0f172a', marginBottom: '12px' }}>\n              Examples of minor corrections we can make:\n            </p>\n            <ul style={{ fontSize: '13px', color: '#64748b', paddingLeft: '20px', margin: 0, lineHeight: '1.8' }}>\n              <li>Fixing obvious typos (e.g., \"Jhon\" ‚Üí \"John\")</li>\n              <li>Standardizing address formats (e.g., \"St\" ‚Üí \"Street\")</li>\n              <li>Correcting capitalization (e.g., \"JOHN DOE\" ‚Üí \"John Doe\")</li>\n              <li>Formatting phone numbers (e.g., \"3055551234\" ‚Üí \"(305) 555-1234\")</li>\n              <li>Adding missing punctuation or abbreviations</li>\n            </ul>\n          </div>\n\n          {/* Benefits & Risks */}\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px', marginTop: '16px' }}>\n            <div style={{\n              background: '#f0fdf4',\n              border: '1px solid #bbf7d0',\n              borderRadius: '8px',\n              padding: '16px'\n            }}>\n              <p className=\"font-semibold\" style={{ fontSize: '13px', color: '#059669', marginBottom: '8px' }}>\n                ‚úì Benefits:\n              </p>\n              <ul style={{ fontSize: '12px', color: '#065f46', paddingLeft: '16px', margin: 0, lineHeight: '1.6' }}>\n                <li>Faster filing (no approval delays)</li>\n                <li>Reduced back-and-forth</li>\n                <li>Same-day processing possible</li>\n              </ul>\n            </div>\n            <div style={{\n              background: '#fef3c7',\n              border: '1px solid #fde047',\n              borderRadius: '8px',\n              padding: '16px'\n            }}>\n              <p className=\"font-semibold\" style={{ fontSize: '13px', color: '#d97706', marginBottom: '8px' }}>\n                ‚ö†Ô∏è Important to know:\n              </p>\n              <ul style={{ fontSize: '12px', color: '#92400e', paddingLeft: '16px', margin: 0, lineHeight: '1.6' }}>\n                <li>You won't review minor changes</li>\n                <li>Small errors could be missed</li>\n                <li>You can disable anytime</li>\n              </ul>\n            </div>\n          </div>\n\n          {/* Note about substantive changes */}\n          <div style={{\n            background: '#eff6ff',\n            border: '1px solid #bfdbfe',\n            borderRadius: '8px',\n            padding: '12px',\n            marginTop: '16px'\n          }}>\n            <p style={{ fontSize: '13px', color: '#1e40af', margin: 0 }}>\n              <strong>Note:</strong> Substantive changes (like changing your business name, address, or registered agent) \n              will <strong>always</strong> require your approval, regardless of this setting.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Confirmation Dialog */}\n      {showConfirmDialog && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '32px',\n            maxWidth: '500px',\n            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n          }}>\n            <h3 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a', marginBottom: '16px' }}>\n              ‚ö° Enable Fast-Track Processing?\n            </h3>\n            <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '16px', lineHeight: '1.6' }}>\n              By enabling this feature, you authorize our team to make minor corrections and proceed with filing \n              immediately, without waiting for your approval.\n            </p>\n            <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '24px', lineHeight: '1.6' }}>\n              <strong>You acknowledge that:</strong>\n            </p>\n            <ul style={{ fontSize: '13px', color: '#64748b', paddingLeft: '20px', marginBottom: '24px', lineHeight: '1.8' }}>\n              <li>Minor corrections will be made without your review</li>\n              <li>This may result in faster processing but could include small errors</li>\n              <li>Substantive changes will still require your approval</li>\n              <li>You can disable this feature at any time</li>\n            </ul>\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\n              <button\n                onClick={() => setShowConfirmDialog(false)}\n                disabled={saving}\n                style={{\n                  background: 'white',\n                  color: '#64748b',\n                  border: '2px solid #e2e8f0',\n                  padding: '10px 20px',\n                  borderRadius: '8px',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  fontWeight: '500',\n                  fontSize: '14px'\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={confirmAutoApprove}\n                disabled={saving}\n                style={{\n                  background: '#059669',\n                  color: 'white',\n                  border: 'none',\n                  padding: '10px 20px',\n                  borderRadius: '8px',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  fontWeight: '500',\n                  fontSize: '14px',\n                  opacity: saving ? 0.6 : 1\n                }}\n              >\n                {saving ? 'Enabling...' : 'I Understand, Enable Fast-Track'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\staff\\filings\\[id]\\review\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":25,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[497,500],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[497,500],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchFiling'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [fetchFiling, filingId]","fix":{"range":[1091,1101],"text":"[fetchFiling, filingId]"}}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Staff Filing Review Page\n * \n * Staff reviews filing and marks changes as substantive or minor\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport Link from 'next/link';\n\ninterface Change {\n  field: string;\n  oldValue: string;\n  newValue: string;\n  changeType: 'SUBSTANTIVE' | 'MINOR';\n  reason: string;\n}\n\ninterface Filing {\n  id: string;\n  filingType: string;\n  filingStatus: string;\n  filingData: any;\n  businessEntity: {\n    legalName: string;\n    documentNumber: string | null;\n  };\n}\n\nexport default function StaffFilingReviewPage() {\n  const params = useParams();\n  const router = useRouter();\n  const filingId = params?.id as string;\n\n  const [filing, setFiling] = useState<Filing | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [changes, setChanges] = useState<Change[]>([]);\n  const [overallReason, setOverallReason] = useState('');\n\n  useEffect(() => {\n    if (filingId) {\n      fetchFiling();\n    }\n  }, [filingId]);\n\n  const fetchFiling = async () => {\n    try {\n      const response = await fetch(`/api/filings/${filingId}`);\n      const data = await response.json();\n\n      if (data.success) {\n        setFiling(data.filing);\n      }\n    } catch (error) {\n      console.error('Error fetching filing:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addChange = () => {\n    setChanges([\n      ...changes,\n      {\n        field: '',\n        oldValue: '',\n        newValue: '',\n        changeType: 'SUBSTANTIVE',\n        reason: ''\n      }\n    ]);\n  };\n\n  const updateChange = (index: number, field: keyof Change, value: string) => {\n    const updated = [...changes];\n    updated[index] = { ...updated[index], [field]: value };\n    setChanges(updated);\n  };\n\n  const removeChange = (index: number) => {\n    setChanges(changes.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async () => {\n    // Validate\n    if (changes.length === 0) {\n      alert('Please add at least one change.');\n      return;\n    }\n\n    for (let i = 0; i < changes.length; i++) {\n      const change = changes[i];\n      if (!change.field || !change.oldValue || !change.newValue || !change.reason) {\n        alert(`Please fill in all fields for change ${i + 1}.`);\n        return;\n      }\n    }\n\n    if (!overallReason.trim()) {\n      alert('Please provide an overall reason for the changes.');\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const response = await fetch(`/api/staff/filings/${filingId}/review`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          changes: changes.map(c => ({\n            ...c,\n            changedBy: 'Staff User', // TODO: Get from session\n            changedAt: new Date().toISOString()\n          })),\n          overallReason\n        }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        if (data.requiresApproval) {\n          alert('‚úÖ Review submitted! Customer approval notice created.');\n        } else {\n          alert('‚úÖ Review submitted! Filing marked as ready to file (minor changes only).');\n        }\n        router.push('/dashboard/staff/filings');\n      } else {\n        alert(`Error: ${data.error}`);\n      }\n    } catch (error) {\n      console.error('Error submitting review:', error);\n      alert('Failed to submit review. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div style={{\n          width: '48px',\n          height: '48px',\n          border: '4px solid #e5e7eb',\n          borderTopColor: '#0ea5e9',\n          borderRadius: '50%',\n          margin: '0 auto',\n          animation: 'spin 1s linear infinite'\n        }} />\n        <p style={{ marginTop: '1rem', color: '#64748b' }}>Loading filing...</p>\n      </div>\n    );\n  }\n\n  if (!filing) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <p style={{ fontSize: '18px', color: '#64748b' }}>Filing not found</p>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ maxWidth: '1000px', margin: '0 auto' }}>\n      {/* Header */}\n      <div style={{ marginBottom: '32px' }}>\n        <Link\n          href=\"/dashboard/staff/filings\"\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            color: '#64748b',\n            textDecoration: 'none',\n            fontSize: '14px',\n            marginBottom: '16px'\n          }}\n        >\n          <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Back to Filings\n        </Link>\n\n        <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '8px' }}>\n          Review Filing\n        </h1>\n        <p style={{ fontSize: '16px', color: '#64748b' }}>\n          Document changes and mark them as substantive or minor\n        </p>\n      </div>\n\n      {/* Filing Info */}\n      <div style={{\n        background: 'white',\n        borderRadius: '12px',\n        padding: '20px',\n        marginBottom: '24px',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n      }}>\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n          <div>\n            <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Filing Type</p>\n            <p className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n              {filing.filingType.replace(/_/g, ' ')}\n            </p>\n          </div>\n          <div>\n            <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '4px' }}>Business</p>\n            <p className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n              {filing.businessEntity.legalName}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Changes */}\n      <div style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n          <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a' }}>\n            Changes Made ({changes.length})\n          </h2>\n          <button\n            onClick={addChange}\n            style={{\n              background: '#0ea5e9',\n              color: 'white',\n              padding: '10px 18px',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '14px',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.background = '#0284c7';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.background = '#0ea5e9';\n            }}\n          >\n            + Add Change\n          </button>\n        </div>\n\n        {changes.length === 0 && (\n          <div style={{\n            background: 'white',\n            borderRadius: '12px',\n            padding: '48px',\n            textAlign: 'center',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n          }}>\n            <p style={{ color: '#64748b', marginBottom: '16px' }}>No changes added yet</p>\n            <button\n              onClick={addChange}\n              style={{\n                background: '#0ea5e9',\n                color: 'white',\n                padding: '10px 18px',\n                borderRadius: '8px',\n                border: 'none',\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer'\n              }}\n            >\n              Add First Change\n            </button>\n          </div>\n        )}\n\n        {changes.map((change, index) => (\n          <div\n            key={index}\n            style={{\n              background: 'white',\n              borderRadius: '12px',\n              padding: '20px',\n              marginBottom: '16px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n              border: change.changeType === 'SUBSTANTIVE' ? '2px solid #fbbf24' : '1px solid #e2e8f0'\n            }}\n          >\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n                Change {index + 1}\n              </h3>\n              <button\n                onClick={() => removeChange(index)}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: '#ef4444',\n                  fontSize: '14px',\n                  cursor: 'pointer',\n                  padding: '4px 8px'\n                }}\n              >\n                Remove\n              </button>\n            </div>\n\n            <div style={{ display: 'grid', gap: '16px' }}>\n              {/* Field Name */}\n              <div>\n                <label style={{ fontSize: '13px', color: '#64748b', marginBottom: '6px', display: 'block', fontWeight: '500' }}>\n                  Field Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={change.field}\n                  onChange={(e) => updateChange(index, 'field', e.target.value)}\n                  placeholder=\"e.g., registeredAgent.firstName\"\n                  style={{\n                    width: '100%',\n                    padding: '10px 12px',\n                    borderRadius: '6px',\n                    border: '1px solid #e2e8f0',\n                    fontSize: '14px'\n                  }}\n                />\n              </div>\n\n              {/* Old/New Values */}\n              <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n                <div>\n                  <label style={{ fontSize: '13px', color: '#64748b', marginBottom: '6px', display: 'block', fontWeight: '500' }}>\n                    Original Value\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={change.oldValue}\n                    onChange={(e) => updateChange(index, 'oldValue', e.target.value)}\n                    placeholder=\"Original value\"\n                    style={{\n                      width: '100%',\n                      padding: '10px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #e2e8f0',\n                      fontSize: '14px',\n                      background: '#fef2f2'\n                    }}\n                  />\n                </div>\n                <div>\n                  <label style={{ fontSize: '13px', color: '#64748b', marginBottom: '6px', display: 'block', fontWeight: '500' }}>\n                    Corrected Value\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={change.newValue}\n                    onChange={(e) => updateChange(index, 'newValue', e.target.value)}\n                    placeholder=\"Corrected value\"\n                    style={{\n                      width: '100%',\n                      padding: '10px 12px',\n                      borderRadius: '6px',\n                      border: '1px solid #e2e8f0',\n                      fontSize: '14px',\n                      background: '#f0fdf4'\n                    }}\n                  />\n                </div>\n              </div>\n\n              {/* Change Type */}\n              <div>\n                <label style={{ fontSize: '13px', color: '#64748b', marginBottom: '6px', display: 'block', fontWeight: '500' }}>\n                  Change Type\n                </label>\n                <div style={{ display: 'flex', gap: '12px' }}>\n                  <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>\n                    <input\n                      type=\"radio\"\n                      name={`changeType-${index}`}\n                      value=\"SUBSTANTIVE\"\n                      checked={change.changeType === 'SUBSTANTIVE'}\n                      onChange={(e) => updateChange(index, 'changeType', e.target.value)}\n                    />\n                    <span style={{ fontSize: '14px', color: '#0f172a' }}>\n                      ‚ö†Ô∏è Substantive (requires customer approval)\n                    </span>\n                  </label>\n                  <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer' }}>\n                    <input\n                      type=\"radio\"\n                      name={`changeType-${index}`}\n                      value=\"MINOR\"\n                      checked={change.changeType === 'MINOR'}\n                      onChange={(e) => updateChange(index, 'changeType', e.target.value)}\n                    />\n                    <span style={{ fontSize: '14px', color: '#0f172a' }}>\n                      ‚úì Minor (typo/formatting)\n                    </span>\n                  </label>\n                </div>\n              </div>\n\n              {/* Reason */}\n              <div>\n                <label style={{ fontSize: '13px', color: '#64748b', marginBottom: '6px', display: 'block', fontWeight: '500' }}>\n                  Reason for Change\n                </label>\n                <textarea\n                  value={change.reason}\n                  onChange={(e) => updateChange(index, 'reason', e.target.value)}\n                  placeholder=\"Explain why this change was made...\"\n                  style={{\n                    width: '100%',\n                    minHeight: '80px',\n                    padding: '10px 12px',\n                    borderRadius: '6px',\n                    border: '1px solid #e2e8f0',\n                    fontSize: '14px',\n                    fontFamily: 'inherit',\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Overall Reason */}\n      {changes.length > 0 && (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '20px',\n          marginBottom: '24px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)'\n        }}>\n          <label style={{ fontSize: '14px', color: '#0f172a', marginBottom: '8px', display: 'block', fontWeight: '500' }}>\n            Overall Summary (shown to customer)\n          </label>\n          <textarea\n            value={overallReason}\n            onChange={(e) => setOverallReason(e.target.value)}\n            placeholder=\"Provide a summary of all changes made to this filing...\"\n            style={{\n              width: '100%',\n              minHeight: '100px',\n              padding: '12px',\n              borderRadius: '8px',\n              border: '2px solid #e2e8f0',\n              fontSize: '14px',\n              fontFamily: 'inherit',\n              resize: 'vertical'\n            }}\n          />\n        </div>\n      )}\n\n      {/* Submit */}\n      {changes.length > 0 && (\n        <div style={{\n          background: 'white',\n          borderRadius: '12px',\n          padding: '20px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n          marginBottom: '32px'\n        }}>\n          <button\n            onClick={handleSubmit}\n            disabled={submitting}\n            style={{\n              background: '#10b981',\n              color: 'white',\n              padding: '14px 28px',\n              borderRadius: '8px',\n              border: 'none',\n              fontSize: '16px',\n              fontWeight: '500',\n              cursor: submitting ? 'not-allowed' : 'pointer',\n              opacity: submitting ? 0.6 : 1,\n              transition: 'all 0.2s',\n              width: '100%'\n            }}\n            onMouseEnter={(e) => {\n              if (!submitting) e.currentTarget.style.background = '#059669';\n            }}\n            onMouseLeave={(e) => {\n              if (!submitting) e.currentTarget.style.background = '#10b981';\n            }}\n          >\n            {submitting ? 'Submitting Review...' : '‚úÖ Submit Review'}\n          </button>\n          <p style={{ fontSize: '13px', color: '#64748b', marginTop: '12px', textAlign: 'center' }}>\n            {changes.some(c => c.changeType === 'SUBSTANTIVE')\n              ? '‚ö†Ô∏è Customer approval will be required before filing'\n              : '‚úì Filing will be marked as ready to file (minor changes only)'\n            }\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dashboard\\users\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":346,"column":21,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11946,12021],"text":"\n              Click &quot;Add Test User\" to create your first user\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11946,12021],"text":"\n              Click &ldquo;Add Test User\" to create your first user\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11946,12021],"text":"\n              Click &#34;Add Test User\" to create your first user\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11946,12021],"text":"\n              Click &rdquo;Add Test User\" to create your first user\n            "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":346,"column":35,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[11946,12021],"text":"\n              Click \"Add Test User&quot; to create your first user\n            "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[11946,12021],"text":"\n              Click \"Add Test User&ldquo; to create your first user\n            "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[11946,12021],"text":"\n              Click \"Add Test User&#34; to create your first user\n            "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[11946,12021],"text":"\n              Click \"Add Test User&rdquo; to create your first user\n            "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface User {\n  id: string;\n  email: string;\n  name: string | null;\n  role: string;\n  createdAt: string;\n}\n\ninterface DatabaseStats {\n  totalUsers: number;\n  totalOrders: number;\n  totalDocuments: number;\n}\n\ninterface ApiResponse {\n  success: boolean;\n  message: string;\n  data: {\n    connection: string;\n    statistics: DatabaseStats;\n    users: User[];\n  };\n  timestamp: string;\n}\n\nexport default function UsersPage() {\n  const [data, setData] = useState<ApiResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [creating, setCreating] = useState(false);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/test-db');\n      const result = await response.json();\n      setData(result);\n      setError(null);\n    } catch (err) {\n      setError('Failed to fetch users');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createTestUser = async () => {\n    try {\n      setCreating(true);\n      const response = await fetch('/api/test-db', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: `user-${Date.now()}@example.com`,\n          name: `Test User ${new Date().toLocaleTimeString()}`,\n        }),\n      });\n\n      if (response.ok) {\n        // Refresh the user list\n        await fetchUsers();\n      }\n    } catch (err) {\n      console.error('Failed to create user:', err);\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center\" style={{ minHeight: '400px' }}>\n        <div className=\"text-center\">\n          <div\n            className=\"mx-auto rounded-full animate-spin\"\n            style={{\n              width: '48px',\n              height: '48px',\n              border: '4px solid #e2e8f0',\n              borderTopColor: '#0ea5e9'\n            }}\n          />\n          <p className=\"font-medium\" style={{ marginTop: '16px', fontSize: '14px', color: '#64748b' }}>\n            Loading users...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center\" style={{ minHeight: '400px' }}>\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '32px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0',\n            textAlign: 'center'\n          }}\n        >\n          <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#ef4444', marginBottom: '16px' }}>\n            Error\n          </h2>\n          <p style={{ fontSize: '14px', color: '#64748b', marginBottom: '24px' }}>{error}</p>\n          <button\n            onClick={fetchUsers}\n            className=\"font-semibold transition-all duration-200\"\n            style={{\n              padding: '12px 24px',\n              fontSize: '14px',\n              color: '#ffffff',\n              background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\n              borderRadius: '8px',\n              border: 'none',\n              cursor: 'pointer'\n            }}\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Header */}\n      <div style={{ marginBottom: '48px' }}>\n        <h1 className=\"font-semibold\" style={{ fontSize: '36px', color: '#0f172a', marginBottom: '12px' }}>\n          User Management\n        </h1>\n        <p style={{ fontSize: '16px', color: '#64748b' }}>\n          Manage users and view system statistics\n        </p>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3\" style={{ gap: '24px', marginBottom: '48px' }}>\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0',\n            borderLeft: '4px solid #0ea5e9'\n          }}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                Total Users\n              </p>\n              <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                {data?.data.statistics.totalUsers || 0}\n              </p>\n            </div>\n            <div\n              className=\"flex items-center justify-center\"\n              style={{\n                width: '56px',\n                height: '56px',\n                borderRadius: '50%',\n                background: '#dbeafe'\n              }}\n            >\n              <svg style={{ width: '28px', height: '28px', color: '#0284c7' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0',\n            borderLeft: '4px solid #10b981'\n          }}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                Total Orders\n              </p>\n              <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                {data?.data.statistics.totalOrders || 0}\n              </p>\n            </div>\n            <div\n              className=\"flex items-center justify-center\"\n              style={{\n                width: '56px',\n                height: '56px',\n                borderRadius: '50%',\n                background: '#d1fae5'\n              }}\n            >\n              <svg style={{ width: '28px', height: '28px', color: '#059669' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            padding: '24px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            border: '1px solid #e2e8f0',\n            borderLeft: '4px solid #8b5cf6'\n          }}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                Total Documents\n              </p>\n              <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                {data?.data.statistics.totalDocuments || 0}\n              </p>\n            </div>\n            <div\n              className=\"flex items-center justify-center\"\n              style={{\n                width: '56px',\n                height: '56px',\n                borderRadius: '50%',\n                background: '#ede9fe'\n              }}\n            >\n              <svg style={{ width: '28px', height: '28px', color: '#7c3aed' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"flex\" style={{ gap: '16px', marginBottom: '32px' }}>\n        <button\n          onClick={createTestUser}\n          disabled={creating}\n          className=\"font-semibold transition-all duration-200 flex items-center disabled:opacity-50 disabled:cursor-not-allowed\"\n          style={{\n            gap: '8px',\n            padding: '12px 24px',\n            fontSize: '14px',\n            color: '#ffffff',\n            background: creating ? '#94a3b8' : 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n            borderRadius: '8px',\n            border: 'none',\n            cursor: creating ? 'not-allowed' : 'pointer',\n            boxShadow: creating ? 'none' : '0 2px 8px rgba(14, 165, 233, 0.25)'\n          }}\n        >\n          {creating ? (\n            <>\n              <div\n                className=\"rounded-full animate-spin\"\n                style={{\n                  width: '16px',\n                  height: '16px',\n                  border: '2px solid #ffffff',\n                  borderTopColor: 'transparent'\n                }}\n              />\n              Creating...\n            </>\n          ) : (\n            <>\n              <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 4v16m8-8H4\" />\n              </svg>\n              Add Test User\n            </>\n          )}\n        </button>\n\n        <button\n          onClick={fetchUsers}\n          className=\"font-semibold transition-all duration-200 flex items-center\"\n          style={{\n            gap: '8px',\n            padding: '12px 24px',\n            fontSize: '14px',\n            color: '#475569',\n            background: '#f8fafc',\n            borderRadius: '8px',\n            border: '1px solid #e2e8f0',\n            cursor: 'pointer'\n          }}\n        >\n          <svg style={{ width: '16px', height: '16px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>\n          Refresh\n        </button>\n      </div>\n\n      {/* Users Table */}\n      <div\n        className=\"bg-white rounded-xl overflow-hidden\"\n        style={{\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n          border: '1px solid #e2e8f0'\n        }}\n      >\n        <div style={{ padding: '24px 32px', borderBottom: '1px solid #e2e8f0' }}>\n          <h2 className=\"font-semibold\" style={{ fontSize: '20px', color: '#0f172a' }}>\n            All Users\n          </h2>\n        </div>\n\n        {data?.data.users.length === 0 ? (\n          <div className=\"text-center\" style={{ padding: '64px 32px' }}>\n            <svg\n              className=\"mx-auto\"\n              style={{ width: '64px', height: '64px', color: '#cbd5e1', marginBottom: '20px' }}\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              strokeWidth={1.5}\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n            </svg>\n            <p className=\"font-medium\" style={{ fontSize: '18px', color: '#64748b', marginBottom: '8px' }}>\n              No users yet\n            </p>\n            <p style={{ fontSize: '14px', color: '#94a3b8' }}>\n              Click \"Add Test User\" to create your first user\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead style={{ background: '#f8fafc', borderBottom: '1px solid #e2e8f0' }}>\n                <tr>\n                  <th className=\"font-medium text-left\" style={{ padding: '12px 24px', fontSize: '12px', color: '#64748b', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    Name\n                  </th>\n                  <th className=\"font-medium text-left\" style={{ padding: '12px 24px', fontSize: '12px', color: '#64748b', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    Email\n                  </th>\n                  <th className=\"font-medium text-left\" style={{ padding: '12px 24px', fontSize: '12px', color: '#64748b', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    Role\n                  </th>\n                  <th className=\"font-medium text-left\" style={{ padding: '12px 24px', fontSize: '12px', color: '#64748b', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    Created\n                  </th>\n                  <th className=\"font-medium text-left\" style={{ padding: '12px 24px', fontSize: '12px', color: '#64748b', textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    ID\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white\" style={{ borderTop: '1px solid #e2e8f0' }}>\n                {data?.data.users.map((user, index) => (\n                  <tr\n                    key={user.id}\n                    className=\"transition-colors duration-150\"\n                    style={{\n                      borderBottom: index < data.data.users.length - 1 ? '1px solid #f1f5f9' : 'none'\n                    }}\n                  >\n                    <td style={{ padding: '16px 24px' }}>\n                      <div className=\"font-medium\" style={{ fontSize: '14px', color: '#0f172a' }}>\n                        {user.name || 'N/A'}\n                      </div>\n                    </td>\n                    <td style={{ padding: '16px 24px' }}>\n                      <div style={{ fontSize: '14px', color: '#0f172a' }}>{user.email}</div>\n                    </td>\n                    <td style={{ padding: '16px 24px' }}>\n                      <span\n                        className=\"font-semibold inline-flex\"\n                        style={{\n                          padding: '4px 12px',\n                          fontSize: '12px',\n                          borderRadius: '9999px',\n                          background: '#d1fae5',\n                          color: '#065f46'\n                        }}\n                      >\n                        {user.role}\n                      </span>\n                    </td>\n                    <td style={{ padding: '16px 24px', fontSize: '14px', color: '#64748b' }}>\n                      {new Date(user.createdAt).toLocaleString()}\n                    </td>\n                    <td style={{ padding: '16px 24px' }}>\n                      <code\n                        style={{\n                          fontSize: '12px',\n                          color: '#64748b',\n                          background: '#f1f5f9',\n                          padding: '4px 8px',\n                          borderRadius: '4px'\n                        }}\n                      >\n                        {user.id.substring(0, 12)}...\n                      </code>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Footer Info */}\n      <div className=\"text-center\" style={{ marginTop: '32px' }}>\n        <p style={{ fontSize: '13px', color: '#94a3b8' }}>\n          Last updated: {data?.timestamp ? new Date(data.timestamp).toLocaleString() : 'N/A'}\n        </p>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\dba\\resume\\[token]\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\design-system\\icons\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":89,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":92,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[603,606],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[603,606],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":83,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":83,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2010,2013],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2010,2013],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":102,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2750,2847],"text":"\n            Inspired by Apple&apos;s Liquid Glass design language (iOS 26, macOS Tahoe 26)\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2750,2847],"text":"\n            Inspired by Apple&lsquo;s Liquid Glass design language (iOS 26, macOS Tahoe 26)\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2750,2847],"text":"\n            Inspired by Apple&#39;s Liquid Glass design language (iOS 26, macOS Tahoe 26)\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2750,2847],"text":"\n            Inspired by Apple&rsquo;s Liquid Glass design language (iOS 26, macOS Tahoe 26)\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { LiquidGlassIcon, IconCategory } from '@/components/legalops/icons/LiquidGlassIcon';\nimport {\n  Building2,\n  FileText,\n  CreditCard,\n  User,\n  BarChart3,\n  Bot,\n  ScrollText,\n  CheckCircle,\n  AlertTriangle,\n  XCircle,\n  Info,\n  Upload,\n  Download,\n  Edit,\n  Trash2,\n  Plus,\n  Search,\n  Settings,\n  Bell,\n  Mail,\n  Phone,\n  Home,\n  TrendingUp,\n  Calendar,\n  ShoppingCart,\n  DollarSign,\n  Heart,\n  Briefcase,\n  Brain,\n  Zap,\n} from 'lucide-react';\n\nexport default function IconShowcasePage() {\n  const categories: { name: string; category: IconCategory; description: string; icons: any[] }[] = [\n    {\n      name: 'Business & Entity',\n      category: 'business',\n      description: 'LLC formation, business management, corporate filings',\n      icons: [Building2, Edit, Plus, Trash2, Search, Home],\n    },\n    {\n      name: 'Documents & Filings',\n      category: 'documents',\n      description: 'Annual reports, document uploads, filing submissions',\n      icons: [FileText, Upload, Download, CheckCircle, XCircle],\n    },\n    {\n      name: 'Payment & Orders',\n      category: 'payment',\n      description: 'Checkout, payment methods, order history',\n      icons: [CreditCard, DollarSign, ShoppingCart],\n    },\n    {\n      name: 'User & Account',\n      category: 'user',\n      description: 'Profile, account settings, notifications',\n      icons: [User, Settings, Bell, Mail, Phone],\n    },\n    {\n      name: 'Dashboard & Analytics',\n      category: 'analytics',\n      description: 'Analytics, reports, statistics',\n      icons: [BarChart3, TrendingUp, Calendar],\n    },\n    {\n      name: 'AI & Automation',\n      category: 'ai',\n      description: 'AI risk scoring, smart suggestions, automation',\n      icons: [Bot, Brain, Zap],\n    },\n    {\n      name: 'Estate Planning',\n      category: 'estate',\n      description: 'Wills, trusts, estate documents (future)',\n      icons: [ScrollText, Heart, Briefcase],\n    },\n  ];\n\n  const statusIcons: { name: string; category: IconCategory; icon: any }[] = [\n    { name: 'Success', category: 'success', icon: CheckCircle },\n    { name: 'Warning', category: 'warning', icon: AlertTriangle },\n    { name: 'Error', category: 'error', icon: XCircle },\n    { name: 'Info', category: 'info', icon: Info },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n            üíé Liquid Glass Icon System\n          </h1>\n          <p className=\"text-lg text-gray-600 mb-2\">\n            Apple-inspired icon design with category-based gradients and glass effects\n          </p>\n          <p className=\"text-sm text-gray-500\">\n            Inspired by Apple's Liquid Glass design language (iOS 26, macOS Tahoe 26)\n          </p>\n        </div>\n\n        {/* Size Examples */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Size Variations</h2>\n          <div className=\"flex items-end gap-8\">\n            <div className=\"text-center\">\n              <LiquidGlassIcon icon={Building2} category=\"business\" size=\"sm\" />\n              <p className=\"text-xs text-gray-600 mt-2\">Small (24px)</p>\n            </div>\n            <div className=\"text-center\">\n              <LiquidGlassIcon icon={Building2} category=\"business\" size=\"md\" />\n              <p className=\"text-xs text-gray-600 mt-2\">Medium (32px)</p>\n            </div>\n            <div className=\"text-center\">\n              <LiquidGlassIcon icon={Building2} category=\"business\" size=\"lg\" />\n              <p className=\"text-xs text-gray-600 mt-2\">Large (48px)</p>\n            </div>\n            <div className=\"text-center\">\n              <LiquidGlassIcon icon={Building2} category=\"business\" size=\"xl\" />\n              <p className=\"text-xs text-gray-600 mt-2\">Extra Large (64px)</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Category Sections */}\n        {categories.map((cat) => (\n          <div key={cat.category} className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n            <div className=\"mb-6\">\n              <div className=\"flex items-center gap-4 mb-2\">\n                <LiquidGlassIcon icon={cat.icons[0]} category={cat.category} size=\"lg\" />\n                <div>\n                  <h2 className=\"text-2xl font-semibold text-gray-900\">{cat.name}</h2>\n                  <p className=\"text-sm text-gray-600\">{cat.description}</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Icons Grid */}\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-6\">\n              {cat.icons.map((IconComponent, index) => (\n                <div key={index} className=\"flex flex-col items-center gap-3\">\n                  <LiquidGlassIcon \n                    icon={IconComponent} \n                    category={cat.category} \n                    size=\"lg\"\n                    onClick={() => console.log(`${cat.name} icon clicked`)}\n                  />\n                  <p className=\"text-xs text-gray-600 text-center\">\n                    {IconComponent.displayName || IconComponent.name || 'Icon'}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        {/* Status Icons */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Status Icons</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8\">\n            {statusIcons.map((status) => (\n              <div key={status.category} className=\"flex flex-col items-center gap-3\">\n                <LiquidGlassIcon \n                  icon={status.icon} \n                  category={status.category} \n                  size=\"lg\"\n                />\n                <p className=\"text-sm font-medium text-gray-900\">{status.name}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Interactive States */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Interactive States</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8\">\n            <div className=\"text-center\">\n              <LiquidGlassIcon \n                icon={Building2} \n                category=\"business\" \n                size=\"lg\"\n              />\n              <p className=\"text-xs text-gray-600 mt-2\">Default</p>\n            </div>\n            <div className=\"text-center\">\n              <LiquidGlassIcon \n                icon={Building2} \n                category=\"business\" \n                size=\"lg\"\n                onClick={() => alert('Clicked!')}\n              />\n              <p className=\"text-xs text-gray-600 mt-2\">Clickable (hover me)</p>\n            </div>\n            <div className=\"text-center\">\n              <LiquidGlassIcon \n                icon={Building2} \n                category=\"business\" \n                size=\"lg\"\n                disabled\n              />\n              <p className=\"text-xs text-gray-600 mt-2\">Disabled</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Usage Examples */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Usage Examples</h2>\n          \n          {/* Service Card Example */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Service Card</h3>\n            <div className=\"bg-gray-50 rounded-lg p-6 border-2 border-gray-200\">\n              <div className=\"flex items-start gap-4\">\n                <LiquidGlassIcon icon={Building2} category=\"business\" size=\"lg\" />\n                <div className=\"flex-1\">\n                  <h4 className=\"text-xl font-semibold text-gray-900 mb-2\">LLC Formation</h4>\n                  <p className=\"text-gray-600 mb-4\">\n                    Professional LLC formation service for Florida businesses\n                  </p>\n                  <div className=\"text-2xl font-bold text-gray-900\">$299.00</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Status Badge Example */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Status Badges</h3>\n            <div className=\"flex flex-wrap gap-4\">\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg border-2 border-gray-200\">\n                <LiquidGlassIcon icon={CheckCircle} category=\"success\" size=\"sm\" />\n                <span className=\"text-sm font-medium text-gray-900\">Approved</span>\n              </div>\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg border-2 border-gray-200\">\n                <LiquidGlassIcon icon={AlertTriangle} category=\"warning\" size=\"sm\" />\n                <span className=\"text-sm font-medium text-gray-900\">Pending Review</span>\n              </div>\n              <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg border-2 border-gray-200\">\n                <LiquidGlassIcon icon={XCircle} category=\"error\" size=\"sm\" />\n                <span className=\"text-sm font-medium text-gray-900\">Rejected</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Navigation Example */}\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Navigation Items</h3>\n            <div className=\"space-y-2\">\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 hover:bg-gray-100 transition-colors\">\n                <LiquidGlassIcon icon={Home} category=\"business\" size=\"md\" />\n                <span className=\"text-sm font-medium text-gray-900\">Dashboard</span>\n              </button>\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 hover:bg-gray-100 transition-colors\">\n                <LiquidGlassIcon icon={FileText} category=\"documents\" size=\"md\" />\n                <span className=\"text-sm font-medium text-gray-900\">Documents</span>\n              </button>\n              <button className=\"w-full flex items-center gap-3 px-4 py-3 bg-gray-50 rounded-lg border-2 border-gray-200 hover:bg-gray-100 transition-colors\">\n                <LiquidGlassIcon icon={User} category=\"user\" size=\"md\" />\n                <span className=\"text-sm font-medium text-gray-900\">Account</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Code Example */}\n        <div className=\"bg-gray-900 rounded-lg shadow-lg p-8 mt-8\">\n          <h2 className=\"text-2xl font-semibold text-white mb-4\">Code Example</h2>\n          <pre className=\"text-sm text-green-400 overflow-x-auto\">\n{`import { LiquidGlassIcon } from '@/components/legalops/icons/LiquidGlassIcon';\nimport { Building2 } from 'lucide-react';\n\n// Business entity icon\n<LiquidGlassIcon \n  icon={Building2} \n  category=\"business\" \n  size=\"lg\" \n/>\n\n// Interactive button\n<LiquidGlassIcon \n  icon={Settings} \n  category=\"user\" \n  size=\"md\"\n  onClick={() => console.log('Clicked!')}\n/>`}\n          </pre>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\design-system\\service-cards\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\legal\\privacy-policy\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":27,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (&quot;we,\" \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (&ldquo;we,\" \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (&#34;we,\" \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (&rdquo;we,\" \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":31,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,&quot; \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,&ldquo; \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,&#34; \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,&rdquo; \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" &quot;us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" &ldquo;us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" &#34;us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" &rdquo;us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,&quot; or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,&ldquo; or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,&#34; or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,&rdquo; or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":42,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or &quot;our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or &ldquo;our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or &#34;our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or &rdquo;our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":30,"column":46,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or \"our&quot;) is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or \"our&ldquo;) is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or \"our&#34;) is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[937,1193],"text":"\n                LegalOps (\"we,\" \"us,\" or \"our&rdquo;) is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":257,"column":65,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking &quot;unsubscribe\" in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking &ldquo;unsubscribe\" in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking &#34;unsubscribe\" in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking &rdquo;unsubscribe\" in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":257,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking \"unsubscribe&quot; in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking \"unsubscribe&ldquo; in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking \"unsubscribe&#34; in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[10953,11107],"text":"\n                You can opt out of marketing emails by clicking \"unsubscribe&rdquo; in any marketing email \n                or by contacting us.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":306,"column":79,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13200,13221],"text":"8. Children&apos;s Privacy"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13200,13221],"text":"8. Children&lsquo;s Privacy"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13200,13221],"text":"8. Children&#39;s Privacy"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13200,13221],"text":"8. Children&rsquo;s Privacy"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":322,"column":81,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the &quot;Last Updated\" date.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the &ldquo;Last Updated\" date.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the &#34;Last Updated\" date.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the &rdquo;Last Updated\" date.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":322,"column":94,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the \"Last Updated&quot; date.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the \"Last Updated&ldquo; date.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the \"Last Updated&#34; date.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13913,14133],"text":"\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the \"Last Updated&rdquo; date.\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Privacy Policy Page\n * \n * CRITICAL: This page is required for GDPR, CCPA, and Florida law compliance.\n * \n * DO NOT modify without consulting an attorney.\n */\n\n'use client';\n\nexport default function PrivacyPolicyPage() {\n  const lastUpdated = \"October 30, 2025\";\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-sky-50 py-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <h1 className=\"text-4xl font-bold text-slate-900 mb-2\">Privacy Policy</h1>\n          <p className=\"text-slate-600\">Last Updated: {lastUpdated}</p>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 space-y-8\">\n          \n          {/* Introduction */}\n          <section>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                LegalOps (\"we,\" \"us,\" or \"our\") is committed to protecting your privacy. This Privacy \n                Policy explains how we collect, use, disclose, and safeguard your information when you \n                use our services.\n              </p>\n              <p className=\"font-semibold\">\n                Please read this Privacy Policy carefully. By using our services, you agree to the \n                collection and use of information in accordance with this policy.\n              </p>\n            </div>\n          </section>\n\n          {/* 1. Information We Collect */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">1. Information We Collect</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p className=\"font-semibold text-slate-900\">\n                1.1 Personal Information\n              </p>\n              <p>\n                We collect personal information that you voluntarily provide to us when you:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Create an account</li>\n                <li>Purchase our services</li>\n                <li>Complete forms or wizards</li>\n                <li>Contact customer support</li>\n                <li>Subscribe to newsletters or communications</li>\n              </ul>\n              <p className=\"mt-3\">\n                This information may include:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Name, email address, phone number</li>\n                <li>Mailing address</li>\n                <li>Payment information (processed securely through Stripe)</li>\n                <li>Business information (business name, address, ownership details)</li>\n                <li>Government identification numbers (EIN, SSN for business purposes)</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                1.2 Automatically Collected Information\n              </p>\n              <p>\n                When you access our services, we automatically collect certain information, including:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>IP address</li>\n                <li>Browser type and version</li>\n                <li>Device information</li>\n                <li>Pages visited and time spent on pages</li>\n                <li>Referring website</li>\n                <li>Cookies and similar tracking technologies</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                1.3 Information from Third Parties\n              </p>\n              <p>\n                We may receive information from third parties, including:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Payment processors (Stripe)</li>\n                <li>Address validation services (USPS)</li>\n                <li>Government agencies (Florida Department of State)</li>\n              </ul>\n            </div>\n          </section>\n\n          {/* 2. How We Use Your Information */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">2. How We Use Your Information</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We use the information we collect to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Provide, operate, and maintain our services</li>\n                <li>Process your orders and payments</li>\n                <li>Prepare and file documents on your behalf</li>\n                <li>Serve as your registered agent (if purchased)</li>\n                <li>Communicate with you about your orders and services</li>\n                <li>Send you important notices and updates</li>\n                <li>Provide customer support</li>\n                <li>Improve our services and develop new features</li>\n                <li>Prevent fraud and enhance security</li>\n                <li>Comply with legal obligations</li>\n                <li>Send marketing communications (with your consent)</li>\n              </ul>\n            </div>\n          </section>\n\n          {/* 3. How We Share Your Information */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">3. How We Share Your Information</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We may share your information with:\n              </p>\n              \n              <p className=\"font-semibold text-slate-900 mt-3\">\n                3.1 Government Agencies\n              </p>\n              <p>\n                We share information with government agencies as necessary to provide our services, \n                including the Florida Department of State for business filings.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                3.2 Service Providers\n              </p>\n              <p>\n                We share information with third-party service providers who perform services on our behalf:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Payment processing (Stripe)</li>\n                <li>Email delivery (Resend)</li>\n                <li>SMS messaging (Twilio)</li>\n                <li>Address validation (USPS)</li>\n                <li>Cloud hosting and storage</li>\n                <li>Analytics and performance monitoring</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                3.3 Legal Requirements\n              </p>\n              <p>\n                We may disclose your information if required by law or in response to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Court orders or subpoenas</li>\n                <li>Government investigations</li>\n                <li>Legal processes</li>\n                <li>Protection of our rights or safety</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                3.4 Business Transfers\n              </p>\n              <p>\n                If LegalOps is involved in a merger, acquisition, or sale of assets, your information \n                may be transferred as part of that transaction.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                3.5 With Your Consent\n              </p>\n              <p>\n                We may share your information for other purposes with your explicit consent.\n              </p>\n            </div>\n          </section>\n\n          {/* 4. Data Security */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">4. Data Security</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We implement appropriate technical and organizational security measures to protect \n                your information, including:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Encryption of data in transit and at rest</li>\n                <li>Secure payment processing through PCI-compliant providers</li>\n                <li>Regular security audits and updates</li>\n                <li>Access controls and authentication</li>\n                <li>Employee training on data protection</li>\n              </ul>\n              <p className=\"mt-3 font-semibold text-amber-900\">\n                ‚ö†Ô∏è However, no method of transmission over the Internet or electronic storage is 100% \n                secure. We cannot guarantee absolute security of your information.\n              </p>\n            </div>\n          </section>\n\n          {/* 5. Data Retention */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">5. Data Retention</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We retain your information for as long as necessary to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Provide our services to you</li>\n                <li>Comply with legal obligations (minimum 7 years for business records)</li>\n                <li>Resolve disputes</li>\n                <li>Enforce our agreements</li>\n              </ul>\n              <p className=\"mt-3\">\n                When we no longer need your information, we will securely delete or anonymize it.\n              </p>\n            </div>\n          </section>\n\n          {/* 6. Your Privacy Rights */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">6. Your Privacy Rights</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                Depending on your location, you may have the following rights:\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.1 Access and Portability\n              </p>\n              <p>\n                You have the right to request a copy of the personal information we hold about you.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.2 Correction\n              </p>\n              <p>\n                You have the right to request correction of inaccurate or incomplete information.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.3 Deletion\n              </p>\n              <p>\n                You have the right to request deletion of your personal information, subject to legal \n                retention requirements.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.4 Opt-Out of Marketing\n              </p>\n              <p>\n                You can opt out of marketing emails by clicking \"unsubscribe\" in any marketing email \n                or by contacting us.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.5 California Residents (CCPA)\n              </p>\n              <p>\n                California residents have additional rights under the California Consumer Privacy Act, \n                including the right to know what personal information is collected and the right to \n                opt out of sale of personal information (we do not sell personal information).\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-3\">\n                6.6 European Residents (GDPR)\n              </p>\n              <p>\n                European residents have additional rights under the General Data Protection Regulation, \n                including the right to object to processing and the right to data portability.\n              </p>\n\n              <p className=\"mt-4\">\n                To exercise any of these rights, please contact us at privacy@legalops.com.\n              </p>\n            </div>\n          </section>\n\n          {/* 7. Cookies and Tracking */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">7. Cookies and Tracking Technologies</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We use cookies and similar tracking technologies to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Maintain your session and keep you logged in</li>\n                <li>Remember your preferences</li>\n                <li>Analyze usage and improve our services</li>\n                <li>Provide personalized content</li>\n              </ul>\n              <p className=\"mt-3\">\n                You can control cookies through your browser settings. However, disabling cookies may \n                limit your ability to use certain features of our services.\n              </p>\n            </div>\n          </section>\n\n          {/* 8. Children's Privacy */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">8. Children's Privacy</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                Our services are not intended for individuals under the age of 18. We do not knowingly \n                collect personal information from children. If you believe we have collected information \n                from a child, please contact us immediately.\n              </p>\n            </div>\n          </section>\n\n          {/* 9. Changes to This Privacy Policy */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">9. Changes to This Privacy Policy</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                We may update this Privacy Policy from time to time. We will notify you of any changes \n                by posting the new Privacy Policy on this page and updating the \"Last Updated\" date.\n              </p>\n              <p>\n                You are advised to review this Privacy Policy periodically for any changes. Changes \n                are effective when posted on this page.\n              </p>\n            </div>\n          </section>\n\n          {/* 10. Contact Us */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">10. Contact Us</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                If you have questions about this Privacy Policy or our privacy practices, please contact us:\n              </p>\n              <p className=\"font-semibold\">\n                LegalOps<br />\n                Email: privacy@legalops.com<br />\n                Phone: (555) 123-4567<br />\n                Address: [Your Business Address]\n              </p>\n            </div>\n          </section>\n\n        </div>\n\n        {/* Bottom Notice */}\n        <div className=\"bg-slate-100 rounded-lg p-6 mt-6 text-center\">\n          <p className=\"text-sm text-slate-600\">\n            By using LegalOps services, you acknowledge that you have read and understood this Privacy Policy.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\legal\\terms-of-service\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":247,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED &quot;AS IS\" WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED &ldquo;AS IS\" WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED &#34;AS IS\" WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED &rdquo;AS IS\" WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":247,"column":49,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED \"AS IS&quot; WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED \"AS IS&ldquo; WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED \"AS IS&#34; WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[12220,12315],"text":"\n                ALL SERVICES ARE PROVIDED \"AS IS&rdquo; WITHOUT WARRANTY OF ANY KIND.\n              "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Terms of Service Page\n * \n * CRITICAL: This page contains comprehensive UPL (Unauthorized Practice of Law) \n * protection disclaimers required for legal compliance in Florida.\n * \n * DO NOT modify disclaimer language without consulting an attorney.\n */\n\n'use client';\n\nexport default function TermsOfServicePage() {\n  const lastUpdated = \"October 30, 2025\";\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-sky-50 py-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <h1 className=\"text-4xl font-bold text-slate-900 mb-2\">Terms of Service</h1>\n          <p className=\"text-slate-600\">Last Updated: {lastUpdated}</p>\n        </div>\n\n        {/* Critical UPL Disclaimer - Prominent Display */}\n        <div className=\"bg-amber-50 border-2 border-amber-400 rounded-lg p-6 mb-6\">\n          <div className=\"flex items-start gap-3\">\n            <div className=\"text-3xl\">‚öñÔ∏è</div>\n            <div>\n              <h2 className=\"text-xl font-bold text-amber-900 mb-3\">\n                IMPORTANT LEGAL NOTICE - PLEASE READ CAREFULLY\n              </h2>\n              <div className=\"text-amber-900 space-y-2 text-sm leading-relaxed\">\n                <p className=\"font-semibold\">\n                  LEGALOPS IS NOT A LAW FIRM AND DOES NOT PROVIDE LEGAL ADVICE.\n                </p>\n                <p>\n                  We provide self-help document preparation services at your specific direction. \n                  We are not a substitute for the advice of an attorney.\n                </p>\n                <p>\n                  Use of our services does not create an attorney-client relationship between \n                  you and LegalOps or any of our employees or contractors.\n                </p>\n                <p className=\"font-semibold\">\n                  For legal advice, please consult a licensed attorney in your jurisdiction.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Terms Content */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 space-y-8\">\n          \n          {/* 1. Acceptance of Terms */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">1. Acceptance of Terms</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                By accessing or using LegalOps services, you agree to be bound by these Terms of Service \n                and all applicable laws and regulations. If you do not agree with any of these terms, \n                you are prohibited from using our services.\n              </p>\n            </div>\n          </section>\n\n          {/* 2. Nature of Services - CRITICAL UPL PROTECTION */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">2. Nature of Our Services</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p className=\"font-semibold text-slate-900\">\n                2.1 Document Preparation Services Only\n              </p>\n              <p>\n                LegalOps provides self-help document preparation services. We prepare and file documents \n                based solely on the information you provide to us. We do not:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Provide legal advice or recommendations</li>\n                <li>Make legal judgments on your behalf</li>\n                <li>Interpret laws or regulations for your specific situation</li>\n                <li>Recommend which legal documents or services you should purchase</li>\n                <li>Advise you on the legal consequences of your decisions</li>\n                <li>Represent you in any legal proceedings</li>\n                <li>Act as your attorney or legal representative</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                2.2 No Attorney-Client Relationship\n              </p>\n              <p>\n                Use of our services does not create an attorney-client relationship. Communications \n                between you and LegalOps are not protected by attorney-client privilege. We are not \n                your attorney and you are not our client.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                2.3 You Are Responsible for Your Decisions\n              </p>\n              <p>\n                You are solely responsible for all decisions regarding which services to purchase, \n                what information to provide, and how to use the documents we prepare. We cannot and \n                do not advise you on these matters.\n              </p>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                2.4 Recommendation to Consult an Attorney\n              </p>\n              <p>\n                We strongly recommend that you consult with a licensed attorney before making any \n                legal decisions, including but not limited to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Choosing a business entity type (LLC, Corporation, etc.)</li>\n                <li>Deciding on business management structure</li>\n                <li>Determining ownership percentages</li>\n                <li>Understanding tax implications of your choices</li>\n                <li>Reviewing any legal documents before signing</li>\n                <li>Making changes to your business structure</li>\n                <li>Dissolving your business</li>\n              </ul>\n            </div>\n          </section>\n\n          {/* 3. Scope of Services */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">3. Scope of Services</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p className=\"font-semibold text-slate-900\">\n                3.1 What We Do\n              </p>\n              <p>\n                LegalOps provides the following services:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Prepare business formation documents based on information you provide</li>\n                <li>File documents with the Florida Department of State on your behalf</li>\n                <li>Serve as registered agent for service of process (if purchased)</li>\n                <li>Prepare standardized template documents (Operating Agreements, Bylaws, etc.)</li>\n                <li>Prepare and file annual reports based on information you provide</li>\n                <li>Prepare amendment documents based on your instructions</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                3.2 What We Do NOT Do\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Provide legal advice or recommendations</li>\n                <li>Customize legal documents based on your specific situation</li>\n                <li>Interpret laws or regulations</li>\n                <li>Advise on tax implications</li>\n                <li>Represent you in legal matters</li>\n                <li>Guarantee that our services are suitable for your needs</li>\n              </ul>\n\n              <p className=\"font-semibold text-slate-900 mt-4\">\n                3.3 Standardized Templates Only\n              </p>\n              <p>\n                All template documents (Operating Agreements, Bylaws, etc.) are standardized forms. \n                We do not customize legal provisions or advise which provisions to include. These \n                templates may not be suitable for your specific situation. You should have an attorney \n                review any legal document before signing it.\n              </p>\n            </div>\n          </section>\n\n          {/* 4. Registered Agent Services */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">4. Registered Agent Services</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                If you purchase registered agent services, we will receive legal documents and \n                service of process on behalf of your business and forward them to you. We do not:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Interpret or explain legal documents we receive</li>\n                <li>Advise you on how to respond to legal documents</li>\n                <li>Represent you in any legal proceedings</li>\n              </ul>\n              <p className=\"font-semibold text-amber-900 mt-3\">\n                ‚ö†Ô∏è IMPORTANT: If you receive legal documents through our registered agent service, \n                consult an attorney immediately. Legal documents often have strict deadlines.\n              </p>\n            </div>\n          </section>\n\n          {/* 5. Right to Refuse Service */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">5. Right to Refuse Service</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                LegalOps reserves the right to refuse service to any customer at our sole discretion. \n                We may decline to process your order for any reason, including but not limited to:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Inability to verify identity or payment information</li>\n                <li>Compliance with fraud prevention policies</li>\n                <li>Inability to verify business information</li>\n                <li>Suspicious or unusual order patterns</li>\n                <li>Previous payment disputes or chargebacks</li>\n                <li>Any other reason deemed necessary for business protection</li>\n              </ul>\n              <p className=\"mt-3\">\n                If your order is declined, you will be notified immediately and any payment \n                authorization will be voided. No charges will be processed for declined orders.\n              </p>\n            </div>\n          </section>\n\n          {/* 6. Accuracy of Information */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">6. Accuracy of Information</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                You are solely responsible for the accuracy and completeness of all information \n                you provide to us. We prepare documents based on the information you provide and \n                do not verify its accuracy. Errors in the information you provide may result in:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Rejection of filings by government agencies</li>\n                <li>Additional fees for corrections or re-filings</li>\n                <li>Legal or tax consequences</li>\n              </ul>\n              <p className=\"mt-3\">\n                LegalOps is not responsible for any consequences resulting from inaccurate or \n                incomplete information you provide.\n              </p>\n            </div>\n          </section>\n\n          {/* 7. No Guarantees */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">7. No Guarantees or Warranties</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                LegalOps makes no guarantees or warranties regarding:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>The suitability of our services for your specific needs</li>\n                <li>The legal sufficiency of documents we prepare</li>\n                <li>The acceptance of filings by government agencies</li>\n                <li>The legal or tax consequences of using our services</li>\n                <li>The completeness or accuracy of information we provide</li>\n              </ul>\n              <p className=\"mt-3 font-semibold\">\n                ALL SERVICES ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n              </p>\n            </div>\n          </section>\n\n          {/* 8. Limitation of Liability */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">8. Limitation of Liability</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                To the maximum extent permitted by law, LegalOps shall not be liable for any \n                indirect, incidental, special, consequential, or punitive damages, or any loss \n                of profits or revenues, whether incurred directly or indirectly, or any loss of \n                data, use, goodwill, or other intangible losses resulting from:\n              </p>\n              <ul className=\"list-disc ml-6 space-y-2\">\n                <li>Your use or inability to use our services</li>\n                <li>Any errors or omissions in documents we prepare</li>\n                <li>Rejection of filings by government agencies</li>\n                <li>Legal or tax consequences of your decisions</li>\n              </ul>\n              <p className=\"mt-3\">\n                Our total liability to you for any claim arising from our services shall not \n                exceed the amount you paid for the specific service giving rise to the claim.\n              </p>\n            </div>\n          </section>\n\n          {/* 9. Governing Law */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">9. Governing Law</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                These Terms of Service shall be governed by and construed in accordance with the \n                laws of the State of Florida, without regard to its conflict of law provisions.\n              </p>\n            </div>\n          </section>\n\n          {/* 10. Contact Information */}\n          <section>\n            <h2 className=\"text-2xl font-bold text-slate-900 mb-4\">10. Contact Information</h2>\n            <div className=\"text-slate-700 space-y-3 leading-relaxed\">\n              <p>\n                If you have questions about these Terms of Service, please contact us at:\n              </p>\n              <p className=\"font-semibold\">\n                LegalOps<br />\n                Email: support@legalops.com<br />\n                Phone: (555) 123-4567\n              </p>\n            </div>\n          </section>\n\n        </div>\n\n        {/* Bottom Disclaimer */}\n        <div className=\"bg-slate-100 rounded-lg p-6 mt-6 text-center\">\n          <p className=\"text-sm text-slate-600\">\n            By using LegalOps services, you acknowledge that you have read, understood, and agree \n            to be bound by these Terms of Service.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\order-confirmation\\[orderId]\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":271,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9551,9642],"text":" value). We&apos;ll handle all legal correspondence on behalf of your business.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9551,9642],"text":" value). We&lsquo;ll handle all legal correspondence on behalf of your business.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9551,9642],"text":" value). We&#39;ll handle all legal correspondence on behalf of your business.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9551,9642],"text":" value). We&rsquo;ll handle all legal correspondence on behalf of your business.\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":289,"column":87,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10266,10546],"text":"\n                    After your first year, this service will automatically renew at $125/year to ensure continuous compliance.\n                    You can cancel anytime from your dashboard with 30 days notice. We&apos;ll send you a reminder 60 days before renewal.\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10266,10546],"text":"\n                    After your first year, this service will automatically renew at $125/year to ensure continuous compliance.\n                    You can cancel anytime from your dashboard with 30 days notice. We&lsquo;ll send you a reminder 60 days before renewal.\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10266,10546],"text":"\n                    After your first year, this service will automatically renew at $125/year to ensure continuous compliance.\n                    You can cancel anytime from your dashboard with 30 days notice. We&#39;ll send you a reminder 60 days before renewal.\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10266,10546],"text":"\n                    After your first year, this service will automatically renew at $125/year to ensure continuous compliance.\n                    You can cancel anytime from your dashboard with 30 days notice. We&rsquo;ll send you a reminder 60 days before renewal.\n                  "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { SuccessCard } from '@/components/legalops/cards/SuccessCard';\nimport { formatCurrency } from '@/components/legalops/utils';\n\ninterface OrderItem {\n  id: string;\n  serviceType: string;\n  description: string;\n  quantity: number;\n  unitPrice: number;\n  totalPrice: number;\n}\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  description: string;\n  features: string[];\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  subtotal: number;\n  tax: number;\n  total: number;\n  paymentStatus: string;\n  orderStatus: string;\n  createdAt: string;\n  paidAt: string;\n  isRushOrder: boolean;\n  orderItems?: OrderItem[];\n  package?: Package | null;\n  packageId?: string | null;\n}\n\nexport default function OrderConfirmationPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<Order | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!session) {\n      router.push('/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const data = await response.json();\n          setOrder(data);\n        }\n      } catch (error) {\n        console.error('Failed to load order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [session, orderId, router]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div\n            className=\"w-16 h-16 rounded-full animate-spin mx-auto\"\n            style={{\n              border: '4px solid #e2e8f0',\n              borderTopColor: '#0ea5e9',\n              marginBottom: '24px',\n            }}\n          />\n          <p className=\"text-slate-600 font-medium\" style={{ fontSize: '18px' }}>\n            Loading confirmation...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-red-600 font-semibold\" style={{ fontSize: '18px' }}>Order not found</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Calculate rush processing timeline\n  const getRushTimingInfo = () => {\n    if (!order.isRushOrder) {\n      return null;\n    }\n\n    // Rush order - check if before noon EST\n    const orderDate = new Date(order.createdAt);\n\n    // Convert to EST (UTC-5 or UTC-4 depending on DST)\n    const estOffset = -5; // Standard time offset\n    const orderHourEST = orderDate.getUTCHours() + estOffset;\n\n    // Check if it's a weekday (Monday = 1, Friday = 5)\n    const dayOfWeek = orderDate.getUTCDay();\n    const isWeekday = dayOfWeek >= 1 && dayOfWeek <= 5;\n\n    if (isWeekday && orderHourEST < 12) {\n      // Before noon on weekday - same day filing\n      return {\n        reviewEta: 'Within 4 hours',\n        reviewDescription: \"üöÄ RUSH PROCESSING: We'll review your filing information for accuracy and completeness on a priority basis\",\n        submitDescription: 'üöÄ RUSH PROCESSING: Your documents will be submitted to the Florida Department of State TODAY (same-day filing)',\n        submitEta: 'Same day (before 5pm EST)',\n      };\n    } else if (isWeekday) {\n      // After noon on weekday - next business day\n      return {\n        reviewEta: 'Within 4 hours',\n        reviewDescription: \"üöÄ RUSH PROCESSING: We'll review your filing information for accuracy and completeness on a priority basis\",\n        submitDescription: 'üöÄ RUSH PROCESSING: Your documents will be submitted to the Florida Department of State by noon tomorrow',\n        submitEta: 'Next business day (before noon EST)',\n      };\n    } else {\n      // Weekend order - next business day\n      return {\n        reviewEta: 'Next business day morning',\n        reviewDescription: \"üöÄ RUSH PROCESSING: We'll review your filing information for accuracy and completeness first thing on the next business day\",\n        submitDescription: 'üöÄ RUSH PROCESSING: Your documents will be submitted to the Florida Department of State on the next business day',\n        submitEta: 'Next business day (before noon EST)',\n      };\n    }\n  };\n\n  const rushInfo = getRushTimingInfo();\n\n  const steps = [\n    {\n      title: 'Review Filing Information',\n      description: rushInfo?.reviewDescription || \"We'll review your filing information for accuracy and completeness\",\n      eta: rushInfo?.reviewEta || 'Within 24 hours',\n      isRush: !!rushInfo,\n    },\n    {\n      title: 'Submit to State',\n      description: rushInfo?.submitDescription || 'Our team will submit your documents to the Florida Department of State',\n      eta: rushInfo?.submitEta || '1-2 business days',\n      isRush: !!rushInfo,\n    },\n    {\n      title: 'Email Updates',\n      description: \"You'll receive email updates as your filing progresses\",\n      eta: 'Throughout process',\n      isRush: false,\n    },\n    {\n      title: 'Filing Confirmation',\n      description: \"Once approved, you'll receive your filing confirmation\",\n      eta: '5-7 business days',\n      isRush: false,\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50 flex items-center justify-center\" style={{ padding: '48px 24px' }}>\n      <div className=\"w-full\" style={{ maxWidth: '900px' }}>\n        <SuccessCard\n          title=\"Order Confirmed!\"\n          subtitle=\"Thank you for your order\"\n          orderNumber={order.orderNumber}\n          message={`A confirmation email has been sent to ${session?.user?.email}`}\n          steps={steps}\n          primaryAction={{\n            label: 'Go to Dashboard',\n            onClick: () => router.push('/dashboard/customer'),\n          }}\n          secondaryAction={{\n            label: 'Order Another Service',\n            onClick: () => router.push('/services'),\n          }}\n        />\n\n        {/* Package Information (if applicable) */}\n        {order.package && (\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              marginTop: '32px',\n              padding: '32px',\n              border: '3px solid #10b981',\n              boxShadow: '0 6px 20px rgba(16, 185, 129, 0.2)',\n              background: 'linear-gradient(135deg, #ffffff 0%, #ecfdf5 100%)',\n            }}\n          >\n            <div className=\"flex items-center gap-4 mb-6\">\n              <div\n                className=\"rounded-full\"\n                style={{\n                  width: '56px',\n                  height: '56px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',\n                }}\n              >\n                <span style={{ fontSize: '28px' }}>‚úì</span>\n              </div>\n              <div>\n                <h3 className=\"text-emerald-900 font-bold\" style={{ fontSize: '24px', lineHeight: '1.2' }}>\n                  {order.package.name} Package\n                </h3>\n                <p className=\"text-emerald-700\" style={{ fontSize: '16px' }}>\n                  ${order.package.price} value included in your order\n                </p>\n              </div>\n            </div>\n\n            <p className=\"text-slate-700 mb-6\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n              {order.package.description}\n            </p>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n              {order.package.features.map((feature, index) => (\n                <div key={index} className=\"flex items-start gap-3\">\n                  <span className=\"text-emerald-600 font-bold\" style={{ fontSize: '18px', marginTop: '2px' }}>‚úì</span>\n                  <span className=\"text-slate-700\" style={{ fontSize: '15px', lineHeight: '1.5' }}>\n                    {feature}\n                  </span>\n                </div>\n              ))}\n            </div>\n\n            {/* Special callouts for package inclusions */}\n            {order.package.includesRA && (\n              <div\n                className=\"rounded-lg\"\n                style={{\n                  marginTop: '24px',\n                  padding: '20px',\n                  background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\n                  border: '2px solid #3b82f6',\n                }}\n              >\n                <p className=\"text-blue-900 font-semibold\" style={{ fontSize: '16px', marginBottom: '8px' }}>\n                  üéâ FREE Registered Agent Service Included!\n                </p>\n                <p className=\"text-blue-800\" style={{ fontSize: '14px', lineHeight: '1.6', marginBottom: '12px' }}>\n                  Your package includes {order.package.raYears} year{order.package.raYears > 1 ? 's' : ''} of registered agent service\n                  (${125 * order.package.raYears} value). We'll handle all legal correspondence on behalf of your business.\n                </p>\n\n                {/* Renewal Terms */}\n                <div\n                  className=\"rounded-lg\"\n                  style={{\n                    marginTop: '12px',\n                    padding: '16px',\n                    background: 'rgba(255, 255, 255, 0.6)',\n                    border: '1px solid #93c5fd',\n                  }}\n                >\n                  <p className=\"text-blue-900 font-semibold\" style={{ fontSize: '14px', marginBottom: '6px' }}>\n                    üìÖ Renewal Terms\n                  </p>\n                  <p className=\"text-blue-800\" style={{ fontSize: '13px', lineHeight: '1.6' }}>\n                    After your first year, this service will automatically renew at $125/year to ensure continuous compliance.\n                    You can cancel anytime from your dashboard with 30 days notice. We'll send you a reminder 60 days before renewal.\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {order.package.includesOperatingAgreement && (\n              <div\n                className=\"rounded-lg\"\n                style={{\n                  marginTop: '20px',\n                  padding: '20px',\n                  background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n                  border: '2px solid #f59e0b',\n                }}\n              >\n                <p className=\"text-amber-900 font-semibold\" style={{ fontSize: '16px', marginBottom: '8px' }}>\n                  üìÑ Operating Agreement Included!\n                </p>\n                <p className=\"text-amber-800\" style={{ fontSize: '14px', lineHeight: '1.6' }}>\n                  Your customized Operating Agreement will be prepared and delivered with your formation documents.\n                </p>\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Order Summary */}\n        <div\n          className=\"bg-white rounded-xl\"\n          style={{\n            marginTop: '32px',\n            padding: '32px',\n            border: '3px solid #0ea5e9',\n            boxShadow: '0 6px 20px rgba(14, 165, 233, 0.2)',\n            background: 'linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%)',\n          }}\n        >\n          <h3 className=\"text-slate-900 font-bold\" style={{ fontSize: '24px', marginBottom: '24px' }}>Order Summary</h3>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n            {/* Line Items */}\n            {order.orderItems && order.orderItems.length > 0 && (\n              <div style={{ marginBottom: '16px' }}>\n                {order.orderItems.map((item) => (\n                  <div key={item.id} className=\"flex justify-between\" style={{ padding: '12px 0' }}>\n                    <span className=\"text-slate-600\" style={{ fontSize: '16px' }}>{item.description}</span>\n                    <span className=\"text-slate-900 font-semibold\" style={{ fontSize: '16px' }}>{formatCurrency(item.totalPrice)}</span>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            <div className=\"flex justify-between\" style={{ padding: '12px 0', borderTop: '2px solid #e2e8f0' }}>\n              <span className=\"text-slate-600\" style={{ fontSize: '16px' }}>Subtotal</span>\n              <span className=\"text-slate-900 font-semibold\" style={{ fontSize: '16px' }}>{formatCurrency(order.subtotal)}</span>\n            </div>\n            <div className=\"flex justify-between\" style={{ padding: '12px 0', borderBottom: '2px solid #e2e8f0' }}>\n              <span className=\"text-slate-600\" style={{ fontSize: '16px' }}>Tax</span>\n              <span className=\"text-slate-900 font-semibold\" style={{ fontSize: '16px' }}>{formatCurrency(order.tax)}</span>\n            </div>\n            <div className=\"flex justify-between\" style={{ padding: '16px 0' }}>\n              <span className=\"text-slate-900 font-bold\" style={{ fontSize: '20px' }}>Total Paid</span>\n              <span className=\"text-sky-600 font-bold\" style={{ fontSize: '24px' }}>{formatCurrency(order.total)}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Support */}\n        <div\n          className=\"bg-white rounded-xl text-center\"\n          style={{\n            marginTop: '32px',\n            padding: '32px',\n            border: '3px solid #10b981',\n            boxShadow: '0 6px 20px rgba(16, 185, 129, 0.2)',\n            background: 'linear-gradient(135deg, #ffffff 0%, #ecfdf5 100%)',\n          }}\n        >\n          <p className=\"text-slate-700 font-semibold\" style={{ fontSize: '18px', marginBottom: '12px' }}>Have questions?</p>\n          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n            Contact our support team at <strong className=\"text-slate-900\">support@legalops.com</strong> or call{' '}\n            <strong className=\"text-slate-900\">1-800-LEGAL-OPS</strong>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\amendment\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[595,598],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[595,598],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[650,653],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[650,653],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1353,1356],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1353,1356],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2257,2260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2257,2260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3313,3316],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3313,3316],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4209,4212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4209,4212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'entityType' is assigned a value but never used.","line":146,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":146,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":147,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4389,4392],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4389,4392],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { ArrowLeft } from 'lucide-react';\nimport EntityInformationUpdateForm from '@/components/forms/EntityInformationUpdateForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function AmendmentPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  useEffect(() => {\n    if (status === 'loading') return;\n    if (!session) {\n      router.push('/api/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        \n        const data = await response.json();\n        setOrder(data);\n\n        const amendmentItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'ENTITY_INFORMATION_UPDATE'\n        );\n\n        if (amendmentItem?.additionalData) {\n          setFormData(amendmentItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(amendmentItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, session, status, router]);\n\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const amendmentItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'ENTITY_INFORMATION_UPDATE'\n        );\n\n        if (!amendmentItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${amendmentItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const amendmentItem = order.orderItems.find(\n        (item: any) => item.serviceType === 'AMENDMENT'\n      );\n\n      if (!amendmentItem) return;\n\n      const response = await fetch(`/api/orders/${orderId}/items/${amendmentItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      router.push(`/orders/${orderId}/complete-documents`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  const businessName = order?.orderItems.find(\n    (item: any) => item.serviceType === 'LLC_FORMATION' || item.serviceType === 'CORP_FORMATION'\n  )?.description || 'Your Business';\n\n  const entityType = order?.orderItems.find(\n    (item: any) => item.serviceType === 'LLC_FORMATION'\n  ) ? 'LLC' : 'CORPORATION';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.back()}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Update Entity Information</h1>\n              \n              {saveStatus !== 'idle' && (\n                <div className=\"text-sm\">\n                  {saveStatus === 'saving' && <span className=\"text-gray-600\">Saving...</span>}\n                  {saveStatus === 'saved' && <span className=\"text-green-600\">‚úì All changes saved</span>}\n                  {saveStatus === 'error' && <span className=\"text-red-600\">Failed to save</span>}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-full max-w-4xl px-6 py-8\">\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n            style={{ padding: '16px 20px', marginBottom: '32px' }}\n          >\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <EntityInformationUpdateForm\n              initialData={formData}\n              onChange={setFormData}\n              preFilledBusinessName={businessName}\n            />\n\n            <div style={{ marginTop: '32px' }}>\n              <button\n                type=\"submit\"\n                className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                }}\n              >\n                Submit Update\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\annual-report\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[434,437],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[434,437],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used.","line":27,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":27,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":32,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1008,1011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1008,1011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, CheckCircle2, AlertCircle, Clock } from 'lucide-react';\nimport AnnualReportForm, { validateAnnualReportForm } from '@/components/forms/AnnualReportForm';\n\ninterface OrderItem {\n  id: string;\n  serviceType: string;\n  description: string;\n  additionalData: any;\n  additionalDataCollected: boolean;\n}\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  orderStatus: string;\n  paymentStatus: string;\n  total: number;\n  orderItems: OrderItem[];\n}\n\nexport default function AnnualReportPage({ params }: { params: Promise<{ orderId: string }> }) {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const [orderId, setOrderId] = useState<string>('');\n  const [order, setOrder] = useState<Order | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Unwrap params\n  useEffect(() => {\n    params.then((p) => setOrderId(p.orderId));\n  }, [params]);\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (status === 'unauthenticated') {\n      router.push('/auth/signin');\n    }\n  }, [status, router]);\n\n  // Fetch order data\n  useEffect(() => {\n    if (!orderId || status !== 'authenticated') return;\n\n    async function fetchOrder() {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        const data = await response.json();\n        setOrder(data);\n\n        // Find the Annual Report item\n        const annualReportItem = data.orderItems.find(\n          (item: OrderItem) => item.serviceType === 'ANNUAL_REPORT'\n        );\n\n        console.log('[Annual Report Page] Order items:', data.orderItems);\n        console.log('[Annual Report Page] Annual report item:', annualReportItem);\n        console.log('[Annual Report Page] Additional data:', annualReportItem?.additionalData);\n\n        if (annualReportItem?.additionalData) {\n          console.log('[Annual Report Page] Loading saved form data');\n          setFormData(annualReportItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(annualReportItem.additionalData);\n        } else {\n          console.log('[Annual Report Page] No saved data found, using empty form');\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchOrder();\n  }, [orderId, status]);\n\n  // Auto-save with debounce\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    // Set new timeout\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const annualReportItem = order.orderItems.find(\n          (item) => item.serviceType === 'ANNUAL_REPORT'\n        );\n\n        if (!annualReportItem) {\n          console.log('[Auto-save] No annual report item found');\n          return;\n        }\n\n        console.log('[Auto-save] Saving form data to order item:', annualReportItem.id);\n        console.log('[Auto-save] Form data:', formData);\n\n        const response = await fetch(`/api/orders/${orderId}/items/${annualReportItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error('[Auto-save] Failed to save:', errorData);\n          throw new Error('Failed to save');\n        }\n\n        const savedData = await response.json();\n        console.log('[Auto-save] Successfully saved:', savedData);\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('[Auto-save] Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async () => {\n    try {\n      // Validate form before submission\n      const validation = validateAnnualReportForm(formData);\n\n      if (!validation.isValid) {\n        // Show all validation errors\n        const errorMessage = 'Please fix the following errors:\\n\\n' + validation.errors.join('\\n');\n        alert(errorMessage);\n        return;\n      }\n\n      const annualReportItem = order?.orderItems.find(\n        (item) => item.serviceType === 'ANNUAL_REPORT'\n      );\n\n      if (!annualReportItem) return;\n\n      // Ensure data is saved\n      const response = await fetch(`/api/orders/${orderId}/items/${annualReportItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      // Redirect to checkout page\n      router.push(`/checkout/${orderId}`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading || status === 'loading') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Clock className=\"w-12 h-12 text-purple-600 mx-auto mb-4 animate-spin\" />\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"w-12 h-12 text-red-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">Order not found</p>\n        </div>\n      </div>\n    );\n  }\n\n  const annualReportItem = order.orderItems.find(\n    (item) => item.serviceType === 'ANNUAL_REPORT'\n  );\n\n  if (!annualReportItem) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"w-12 h-12 text-red-600 mx-auto mb-4\" />\n          <p className=\"text-gray-600\">No Annual Report found in this order</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Determine entity type from order\n  const hasLLC = order.orderItems.some((item) => item.serviceType === 'LLC_FORMATION');\n  const hasCorp = order.orderItems.some((item) => item.serviceType === 'CORP_FORMATION');\n  const entityType = hasLLC ? 'LLC' : hasCorp ? 'CORPORATION' : 'LLC';\n\n  // Get business name from formation\n  const businessName = order.orderItems.find(\n    (item) => item.serviceType === 'LLC_FORMATION' || item.serviceType === 'CORP_FORMATION'\n  )?.description;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              <span>Back to Order</span>\n            </button>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Florida Annual Report</h1>\n                <p className=\"text-gray-600 mt-1\">Order #{order.orderNumber}</p>\n              </div>\n              {saveStatus !== 'idle' && (\n                <div className=\"flex items-center gap-2\">\n                  {saveStatus === 'saving' && (\n                    <>\n                      <Clock className=\"w-4 h-4 text-gray-400 animate-spin\" />\n                      <span className=\"text-sm text-gray-600\">Saving...</span>\n                    </>\n                  )}\n                  {saveStatus === 'saved' && (\n                    <>\n                      <CheckCircle2 className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-sm text-green-600\">All changes saved</span>\n                    </>\n                  )}\n                  {saveStatus === 'error' && (\n                    <>\n                      <AlertCircle className=\"w-4 h-4 text-red-600\" />\n                      <span className=\"text-sm text-red-600\">Failed to save</span>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Content - Centered */}\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"w-full max-w-4xl mx-auto px-6\">\n          {/* Auto-save Notice */}\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50 shadow-sm\"\n            style={{ padding: '20px 24px', marginBottom: '32px' }}\n          >\n            <p className=\"text-sm text-blue-800\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type. You can safely close this page and return anytime.\n            </p>\n          </div>\n\n          {/* Form */}\n          <AnnualReportForm\n            initialData={formData}\n            onChange={setFormData}\n            preFilledBusinessName={businessName}\n            preFilledEntityType={entityType}\n          />\n\n          {/* Submit Button */}\n          <div style={{ marginTop: '32px' }} className=\"flex justify-end\">\n            <button\n              onClick={handleSubmit}\n              className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n              style={{ padding: '12px 24px' }}\n            >\n              Submit Annual Report\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\business-amendment\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[470,473],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[470,473],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1179,1182],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1179,1182],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1852,1855],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1852,1855],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":164,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5600,5699],"text":"\n              After saving, you&apos;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5600,5699],"text":"\n              After saving, you&lsquo;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5600,5699],"text":"\n              After saving, you&#39;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5600,5699],"text":"\n              After saving, you&rsquo;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport BusinessAmendmentForm from '@/components/forms/BusinessAmendmentForm';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\nexport default function BusinessAmendmentPage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [formData, setFormData] = useState<any>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [preFilledBusinessName, setPreFilledBusinessName] = useState<string>('');\n  const [preFilledEntityType, setPreFilledEntityType] = useState<'LLC' | 'CORPORATION'>('LLC');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    const fetchOrderData = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const order = await response.json();\n          \n          const amendmentItem = order.items?.find(\n            (item: any) => item.serviceType === 'BUSINESS_AMENDMENT'\n          );\n\n          if (amendmentItem?.formData) {\n            setFormData(amendmentItem.formData);\n            lastSavedDataRef.current = JSON.stringify(amendmentItem.formData);\n          }\n\n          if (order.businessName) {\n            setPreFilledBusinessName(order.businessName);\n          }\n\n          if (order.entityType) {\n            setPreFilledEntityType(order.entityType);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n\n    fetchOrderData();\n  }, [orderId]);\n\n  // Auto-save with debounce\n  const handleFormChange = useCallback((data: any) => {\n    setFormData(data);\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      const currentDataString = JSON.stringify(data);\n      \n      if (currentDataString === lastSavedDataRef.current) {\n        return;\n      }\n\n      setSaveStatus('saving');\n\n      try {\n        const response = await fetch(`/api/orders/${orderId}/update-form-data`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            serviceType: 'BUSINESS_AMENDMENT',\n            formData: data,\n          }),\n        });\n\n        if (response.ok) {\n          setSaveStatus('saved');\n          lastSavedDataRef.current = currentDataString;\n          setTimeout(() => setSaveStatus('idle'), 2000);\n        } else {\n          setSaveStatus('error');\n        }\n      } catch (error) {\n        console.error('Error saving form data:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n  }, [orderId]);\n\n  useEffect(() => {\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  if (!formData) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n        <div className=\"text-white text-xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n      <div className=\"w-full max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">File Business Amendment</h1>\n          <p className=\"text-purple-100\">\n            Amend your business name, purpose, management structure, or stock information\n          </p>\n        </div>\n\n        {saveStatus !== 'idle' && (\n          <div className=\"mb-6 text-center\">\n            <span\n              className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n                saveStatus === 'saving'\n                  ? 'bg-blue-100 text-blue-800'\n                  : saveStatus === 'saved'\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-red-100 text-red-800'\n              }`}\n            >\n              {saveStatus === 'saving' && 'üíæ Saving...'}\n              {saveStatus === 'saved' && '‚úÖ Saved'}\n              {saveStatus === 'error' && '‚ùå Error saving'}\n            </span>\n          </div>\n        )}\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"form\" />\n        </div>\n\n        <div className=\"rounded-lg border-2 border-white/20 bg-white/95 backdrop-blur-sm shadow-2xl\" style={{ padding: '32px' }}>\n          <BusinessAmendmentForm\n            initialData={formData}\n            onChange={handleFormChange}\n            preFilledBusinessName={preFilledBusinessName}\n            preFilledEntityType={preFilledEntityType}\n          />\n\n          <div style={{ marginTop: '32px', paddingTop: '24px', borderTop: '2px solid #e5e7eb' }}>\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '14px 28px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Save and Continue\n            </button>\n            \n            <p className=\"text-xs text-gray-500 text-center mt-3\">\n              After saving, you'll be able to download the completed form for mailing\n            </p>\n          </div>\n        </div>\n\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.push(`/orders/${orderId}`)}\n            className=\"text-white hover:text-purple-100 underline\"\n          >\n            ‚Üê Back to Order\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\certificate-of-status\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[597,600],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[597,600],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[652,655],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[652,655],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1350,1353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1350,1353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2230,2233],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2230,2233],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3267,3270],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3267,3270],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4165,4168],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4165,4168],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { ArrowLeft } from 'lucide-react';\nimport CertificateOfStatusForm from '@/components/forms/CertificateOfStatusForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function CertificateOfStatusPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  useEffect(() => {\n    if (status === 'loading') return;\n    if (!session) {\n      router.push('/api/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        \n        const data = await response.json();\n        setOrder(data);\n\n        const certItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'CERTIFICATE_OF_STATUS'\n        );\n\n        if (certItem?.additionalData) {\n          setFormData(certItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(certItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, session, status, router]);\n\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const certItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'CERTIFICATE_OF_STATUS'\n        );\n\n        if (!certItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${certItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const certItem = order.orderItems.find(\n        (item: any) => item.serviceType === 'CERTIFICATE_OF_STATUS'\n      );\n\n      if (!certItem) return;\n\n      const response = await fetch(`/api/orders/${orderId}/items/${certItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      router.push(`/orders/${orderId}/complete-documents`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  const businessName = order?.orderItems.find(\n    (item: any) => item.serviceType === 'LLC_FORMATION' || item.serviceType === 'CORP_FORMATION'\n  )?.description || 'Your Business';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.back()}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Certificate of Status</h1>\n              \n              {saveStatus !== 'idle' && (\n                <div className=\"text-sm\">\n                  {saveStatus === 'saving' && <span className=\"text-gray-600\">Saving...</span>}\n                  {saveStatus === 'saved' && <span className=\"text-green-600\">‚úì All changes saved</span>}\n                  {saveStatus === 'error' && <span className=\"text-red-600\">Failed to save</span>}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-full max-w-4xl px-6 py-8\">\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n            style={{ padding: '16px 20px', marginBottom: '32px' }}\n          >\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <CertificateOfStatusForm\n              initialData={formData}\n              onChange={setFormData}\n              preFilledBusinessName={businessName}\n            />\n\n            <div style={{ marginTop: '32px' }}>\n              <button\n                type=\"submit\"\n                className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                }}\n              >\n                Request Certificate of Status\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\complete-documents\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[693,696],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[693,696],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":39,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":39,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1413,1416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1413,1416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4325,4328],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4325,4328],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":142,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":142,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4488,4491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4488,4491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport { CheckCircle2, Clock, FileText, AlertCircle } from 'lucide-react';\nimport DocumentWizard, { WizardStep } from '@/components/DocumentWizard';\nimport OperatingAgreementForm from '@/components/forms/OperatingAgreementForm';\nimport EINApplicationForm from '@/components/forms/EINApplicationForm';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\ninterface OrderItem {\n  id: string;\n  serviceType: string;\n  description: string;\n  requiresAdditionalData: boolean;\n  additionalDataCollected: boolean;\n  additionalData: any;\n  dataCollectionFormType: string | null;\n}\n\ninterface Order {\n  id: string;\n  orderNumber: string;\n  orderStatus: string;\n  paymentStatus: string;\n  total: number;\n  orderItems: OrderItem[];\n}\n\nexport default function CompleteDocumentsPage({ params }: { params: Promise<{ orderId: string }> }) {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const [orderId, setOrderId] = useState<string | null>(null);\n  const [order, setOrder] = useState<Order | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [formData, setFormData] = useState<Record<string, any>>({});\n\n  // Unwrap params\n  useEffect(() => {\n    params.then((p) => setOrderId(p.orderId));\n  }, [params]);\n\n  // Fetch order data\n  useEffect(() => {\n    if (status === 'loading' || !orderId) return;\n\n    if (!session) {\n      router.push('/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        \n        if (!response.ok) {\n          throw new Error('Order not found');\n        }\n\n        const data = await response.json();\n        setOrder(data);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load order');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [session, status, orderId, router]);\n\n  // Get items that need data collection\n  const itemsNeedingData = order?.orderItems.filter(\n    (item) => item.requiresAdditionalData && !item.additionalDataCollected\n  ) || [];\n\n  const totalItems = itemsNeedingData.length;\n  const completedItems = order?.orderItems.filter(\n    (item) => item.requiresAdditionalData && item.additionalDataCollected\n  ).length || 0;\n\n  // Create wizard steps from items needing data\n  const wizardSteps: WizardStep[] = itemsNeedingData.map((item) => {\n    let component = null;\n\n    switch (item.dataCollectionFormType) {\n      case 'OPERATING_AGREEMENT':\n        component = (\n          <>\n            <UPLDisclaimer variant=\"document\" className=\"mb-6\" />\n            <OperatingAgreementForm\n              initialData={item.additionalData || formData[item.id]}\n              onChange={(data) => handleFormDataChange(item.id, data)}\n              preFilledBusinessName={order?.orderItems.find(i => i.serviceType === 'LLC_FORMATION')?.description}\n            />\n          </>\n        );\n        break;\n      case 'EIN_APPLICATION':\n        component = (\n          <>\n            <UPLDisclaimer variant=\"form\" className=\"mb-6\" />\n            <EINApplicationForm\n              initialData={item.additionalData || formData[item.id]}\n              onChange={(data) => handleFormDataChange(item.id, data)}\n              preFilledBusinessName={order?.orderItems.find(i => i.serviceType === 'LLC_FORMATION')?.description}\n              preFilledEntityType=\"LLC\"\n            />\n          </>\n        );\n        break;\n      default:\n        component = (\n          <div className=\"text-center py-12\">\n            <FileText className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <p className=\"text-gray-600\">Form for {item.dataCollectionFormType} coming soon...</p>\n          </div>\n        );\n    }\n\n    return {\n      id: item.id,\n      title: item.description,\n      description: `Provide details for your ${item.description}`,\n      component,\n      estimatedTime: '3-5 minutes',\n    };\n  });\n\n  // Handle form data changes\n  const handleFormDataChange = useCallback((itemId: string, data: any) => {\n    setFormData((prev) => ({\n      ...prev,\n      [itemId]: data,\n    }));\n  }, []);\n\n  // Handle save\n  const handleSave = async (stepId: string, data: any) => {\n    if (!orderId) return;\n\n    const response = await fetch(`/api/orders/${orderId}/save-document-data`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        orderItemId: stepId,\n        formData: data,\n        markAsComplete: false,\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to save');\n    }\n  };\n\n  // Handle completion\n  const handleComplete = async () => {\n    if (!orderId) return;\n\n    // Mark current step as complete\n    const currentItem = itemsNeedingData[currentStep];\n    if (currentItem) {\n      await fetch(`/api/orders/${orderId}/save-document-data`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          orderItemId: currentItem.id,\n          formData: formData[currentItem.id],\n          markAsComplete: true,\n        }),\n      });\n    }\n\n    // Redirect to dashboard\n    router.push('/dashboard?documents=complete');\n  };\n\n  // Loading state\n  if (loading || status === 'loading') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-gray-900 text-xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  // Error state\n  if (error || !order) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Order Not Found</h1>\n          <p className=\"text-gray-600 mb-6\">{error || 'Unable to load order'}</p>\n          <button\n            onClick={() => router.push('/dashboard')}\n            className=\"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-all\"\n          >\n            Return to Dashboard\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Check if payment is complete\n  if (order.paymentStatus !== 'PAID') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <AlertCircle className=\"w-16 h-16 text-yellow-500 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Payment Required</h1>\n          <p className=\"text-gray-600 mb-6\">Please complete payment before providing document details.</p>\n          <button\n            onClick={() => router.push(`/checkout/${orderId}`)}\n            className=\"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-all\"\n          >\n            Complete Payment\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // All documents complete\n  if (itemsNeedingData.length === 0) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <CheckCircle2 className=\"w-16 h-16 text-green-500 mx-auto mb-4\" />\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">All Documents Complete!</h1>\n          <p className=\"text-gray-600 mb-6\">\n            {completedItems > 0\n              ? 'Thank you! We have all the information we need to prepare your documents.'\n              : 'No additional information needed for your order.'}\n          </p>\n          <button\n            onClick={() => router.push('/dashboard')}\n            className=\"px-6 py-3 bg-purple-600 text-white rounded-lg font-semibold hover:bg-purple-700 transition-all\"\n          >\n            Go to Dashboard\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"w-full max-w-4xl mx-auto px-4 py-12\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Complete Your Documents</h1>\n          <p className=\"text-xl text-gray-700 mb-2\">Order #{order.orderNumber}</p>\n          <p className=\"text-gray-600\">\n            Just a few quick details to finish preparing your documents\n          </p>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-12\">\n          <div\n            className=\"rounded-xl bg-white\"\n            style={{\n              padding: '24px',\n              border: '2px solid #e5e7eb',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n            }}\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <div className=\"flex items-center gap-2\">\n                <FileText className=\"w-5 h-5 text-purple-600\" />\n                <span className=\"text-gray-900 font-semibold\">\n                  Progress: {completedItems} of {totalItems + completedItems} documents\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"w-4 h-4 text-gray-500\" />\n                <span className=\"text-gray-600 text-sm\">\n                  {itemsNeedingData.length * 3} minutes remaining\n                </span>\n              </div>\n            </div>\n\n            {/* Progress bar */}\n            <div className=\"w-full bg-gray-200 rounded-full h-3\">\n              <div\n                className=\"h-3 rounded-full transition-all duration-500\"\n                style={{\n                  width: `${(completedItems / (totalItems + completedItems)) * 100}%`,\n                  background: 'linear-gradient(90deg, #10b981 0%, #34d399 100%)',\n                }}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Document Wizard */}\n        <div>\n          <DocumentWizard\n            steps={wizardSteps}\n            currentStepIndex={currentStep}\n            onStepChange={setCurrentStep}\n            onSave={handleSave}\n            onComplete={handleComplete}\n            formData={formData}\n            onFormDataChange={handleFormDataChange}\n            autoSaveEnabled={true}\n          />\n        </div>\n\n        {/* Auto-save Notice */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            Your progress is automatically saved as you type. You can safely close this page and return anytime.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\corporate-bylaws\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[585,588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[585,588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[640,643],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[640,643],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1420,1423],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1420,1423],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2332,2335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2332,2335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":114,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3370,3373],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3370,3373],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":146,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":146,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4267,4270],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4267,4270],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { ArrowLeft } from 'lucide-react';\nimport CorporateBylawsForm from '@/components/forms/CorporateBylawsForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function CorporateBylawsPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    if (status === 'loading') return;\n    if (!session) {\n      router.push('/api/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        \n        const data = await response.json();\n        setOrder(data);\n\n        // Find Corporate Bylaws item and load saved data\n        const bylawsItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'CORPORATE_BYLAWS'\n        );\n\n        if (bylawsItem?.additionalData) {\n          setFormData(bylawsItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(bylawsItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, session, status, router]);\n\n  // Auto-save with debounce\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const bylawsItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'CORPORATE_BYLAWS'\n        );\n\n        if (!bylawsItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${bylawsItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const bylawsItem = order.orderItems.find(\n        (item: any) => item.serviceType === 'CORPORATE_BYLAWS'\n      );\n\n      if (!bylawsItem) return;\n\n      const response = await fetch(`/api/orders/${orderId}/items/${bylawsItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      router.push(`/orders/${orderId}/complete-documents`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  const businessName = order?.orderItems.find(\n    (item: any) => item.serviceType === 'CORP_FORMATION'\n  )?.description || 'Your Corporation';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.back()}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Corporate Bylaws</h1>\n              \n              {saveStatus !== 'idle' && (\n                <div className=\"text-sm\">\n                  {saveStatus === 'saving' && (\n                    <span className=\"text-gray-600\">Saving...</span>\n                  )}\n                  {saveStatus === 'saved' && (\n                    <span className=\"text-green-600\">‚úì All changes saved</span>\n                  )}\n                  {saveStatus === 'error' && (\n                    <span className=\"text-red-600\">Failed to save</span>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-full max-w-4xl px-6 py-8\">\n          {/* Auto-save Notice */}\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n            style={{ padding: '16px 20px', marginBottom: '32px' }}\n          >\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <CorporateBylawsForm\n              initialData={formData}\n              onChange={setFormData}\n              preFilledBusinessName={businessName}\n            />\n\n            {/* Submit Button */}\n            <div style={{ marginTop: '32px' }}>\n              <button\n                type=\"submit\"\n                className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                }}\n              >\n                Complete Corporate Bylaws\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\dissolution\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[573,576],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[573,576],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[628,631],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[628,631],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1333,1336],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1333,1336],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2231,2234],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2231,2234],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3279,3282],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3279,3282],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":143,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":143,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4181,4184],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4181,4184],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":147,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4361,4364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4361,4364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { ArrowLeft } from 'lucide-react';\nimport DissolutionForm from '@/components/forms/DissolutionForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function DissolutionPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  useEffect(() => {\n    if (status === 'loading') return;\n    if (!session) {\n      router.push('/api/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        \n        const data = await response.json();\n        setOrder(data);\n\n        const dissolutionItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'DISSOLUTION'\n        );\n\n        if (dissolutionItem?.additionalData) {\n          setFormData(dissolutionItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(dissolutionItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, session, status, router]);\n\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const dissolutionItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'DISSOLUTION'\n        );\n\n        if (!dissolutionItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${dissolutionItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const dissolutionItem = order.orderItems.find(\n        (item: any) => item.serviceType === 'DISSOLUTION'\n      );\n\n      if (!dissolutionItem) return;\n\n      const response = await fetch(`/api/orders/${orderId}/items/${dissolutionItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      router.push(`/orders/${orderId}/complete-documents`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  const businessName = order?.orderItems.find(\n    (item: any) => item.serviceType === 'LLC_FORMATION' || item.serviceType === 'CORP_FORMATION'\n  )?.description || 'Your Business';\n\n  const entityType = order?.orderItems.find(\n    (item: any) => item.serviceType === 'LLC_FORMATION'\n  ) ? 'LLC' : 'CORPORATION';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.back()}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Dissolve Business</h1>\n              \n              {saveStatus !== 'idle' && (\n                <div className=\"text-sm\">\n                  {saveStatus === 'saving' && <span className=\"text-gray-600\">Saving...</span>}\n                  {saveStatus === 'saved' && <span className=\"text-green-600\">‚úì All changes saved</span>}\n                  {saveStatus === 'error' && <span className=\"text-red-600\">Failed to save</span>}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-full max-w-4xl px-6 py-8\">\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n            style={{ padding: '16px 20px', marginBottom: '32px' }}\n          >\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <DissolutionForm\n              initialData={formData}\n              onChange={setFormData}\n              preFilledBusinessName={businessName}\n              preFilledEntityType={entityType}\n            />\n\n            <div style={{ marginTop: '32px' }}>\n              <button\n                type=\"submit\"\n                className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                }}\n              >\n                Submit Dissolution\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\ein-application\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[520,523],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[520,523],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[575,578],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[575,578],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1227,1230],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1227,1230],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2154,2157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2154,2157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3140,3143],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3140,3143],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { ArrowLeft, Clock, CheckCircle2, AlertCircle } from 'lucide-react';\nimport EINApplicationForm from '@/components/forms/EINApplicationForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function EINApplicationPage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        const data = await response.json();\n        setOrder(data);\n\n        // Find EIN Application item and load existing data\n        const einItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'EIN_APPLICATION'\n        );\n\n        if (einItem?.additionalData) {\n          setFormData(einItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(einItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId]);\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    // Set new timeout\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const einItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'EIN_APPLICATION'\n        );\n\n        if (!einItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${einItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async () => {\n    try {\n      const einItem = order?.orderItems.find(\n        (item: any) => item.serviceType === 'EIN_APPLICATION'\n      );\n\n      if (!einItem) return;\n\n      // Ensure data is saved\n      const response = await fetch(`/api/orders/${orderId}/items/${einItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      // Redirect to order page\n      router.push(`/orders/${orderId}`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-red-600\">Order not found</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              <span>Back to Order</span>\n            </button>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">EIN Application</h1>\n                <p className=\"text-gray-600 mt-1\">Order #{order.orderNumber}</p>\n              </div>\n              {saveStatus !== 'idle' && (\n                <div className=\"flex items-center gap-2\">\n                  {saveStatus === 'saving' && (\n                    <>\n                      <Clock className=\"w-4 h-4 text-gray-400 animate-spin\" />\n                      <span className=\"text-sm text-gray-600\">Saving...</span>\n                    </>\n                  )}\n                  {saveStatus === 'saved' && (\n                    <>\n                      <CheckCircle2 className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-sm text-green-600\">All changes saved</span>\n                    </>\n                  )}\n                  {saveStatus === 'error' && (\n                    <>\n                      <AlertCircle className=\"w-4 h-4 text-red-600\" />\n                      <span className=\"text-sm text-red-600\">Failed to save</span>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Content - Centered */}\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"w-full max-w-4xl mx-auto px-6\">\n          {/* Auto-save Notice */}\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50 shadow-sm\"\n            style={{ padding: '20px 24px', marginBottom: '32px' }}\n          >\n            <p className=\"text-sm text-blue-800\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type. You can safely close this page and return anytime.\n            </p>\n          </div>\n\n          {/* EIN Application Form */}\n          <EINApplicationForm\n            initialData={formData}\n            onChange={setFormData}\n          />\n\n          {/* Submit Button */}\n          <div style={{ marginTop: '32px' }}>\n            <button\n              onClick={handleSubmit}\n              className=\"w-full rounded-lg text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '12px 24px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Submit EIN Application\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\entity-information-update\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[488,491],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[488,491],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1178,1181],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1178,1181],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1795,1798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1795,1798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport EntityInformationUpdateForm from '@/components/forms/EntityInformationUpdateForm';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\nexport default function EntityInformationUpdatePage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [formData, setFormData] = useState<any>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [preFilledBusinessName, setPreFilledBusinessName] = useState<string>('');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data and pre-fill business name\n  useEffect(() => {\n    const fetchOrderData = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const order = await response.json();\n          \n          // Find the entity information update item\n          const updateItem = order.items?.find(\n            (item: any) => item.serviceType === 'ENTITY_INFORMATION_UPDATE'\n          );\n\n          if (updateItem?.formData) {\n            setFormData(updateItem.formData);\n            lastSavedDataRef.current = JSON.stringify(updateItem.formData);\n          }\n\n          // Pre-fill business name from order\n          if (order.businessName) {\n            setPreFilledBusinessName(order.businessName);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n\n    fetchOrderData();\n  }, [orderId]);\n\n  // Auto-save with debounce\n  const handleFormChange = useCallback((data: any) => {\n    setFormData(data);\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Set new timeout for auto-save\n    saveTimeoutRef.current = setTimeout(async () => {\n      const currentDataString = JSON.stringify(data);\n      \n      // Only save if data has changed\n      if (currentDataString === lastSavedDataRef.current) {\n        return;\n      }\n\n      setSaveStatus('saving');\n\n      try {\n        const response = await fetch(`/api/orders/${orderId}/update-form-data`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            serviceType: 'ENTITY_INFORMATION_UPDATE',\n            formData: data,\n          }),\n        });\n\n        if (response.ok) {\n          setSaveStatus('saved');\n          lastSavedDataRef.current = currentDataString;\n          setTimeout(() => setSaveStatus('idle'), 2000);\n        } else {\n          setSaveStatus('error');\n        }\n      } catch (error) {\n        console.error('Error saving form data:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n  }, [orderId]);\n\n  // Cleanup timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  if (!formData) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n        <div className=\"text-white text-xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n      <div className=\"w-full max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Update Entity Information</h1>\n          <p className=\"text-purple-100\">\n            Update your email, FEIN, or addresses with the Florida Department of State\n          </p>\n        </div>\n\n        {/* Save Status */}\n        {saveStatus !== 'idle' && (\n          <div className=\"mb-6 text-center\">\n            <span\n              className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n                saveStatus === 'saving'\n                  ? 'bg-blue-100 text-blue-800'\n                  : saveStatus === 'saved'\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-red-100 text-red-800'\n              }`}\n            >\n              {saveStatus === 'saving' && 'üíæ Saving...'}\n              {saveStatus === 'saved' && '‚úÖ Saved'}\n              {saveStatus === 'error' && '‚ùå Error saving'}\n            </span>\n          </div>\n        )}\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"form\" />\n        </div>\n\n        {/* Form */}\n        <div className=\"rounded-lg border-2 border-white/20 bg-white/95 backdrop-blur-sm shadow-2xl\" style={{ padding: '32px' }}>\n          <EntityInformationUpdateForm\n            initialData={formData}\n            onChange={handleFormChange}\n            preFilledBusinessName={preFilledBusinessName}\n          />\n\n          {/* Submit Button */}\n          <div style={{ marginTop: '32px', paddingTop: '24px', borderTop: '2px solid #e5e7eb' }}>\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '14px 28px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Save and Continue\n            </button>\n          </div>\n        </div>\n\n        {/* Back Link */}\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.push(`/orders/${orderId}`)}\n            className=\"text-white hover:text-purple-100 underline\"\n          >\n            ‚Üê Back to Order\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\name-reservation\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":17,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":17,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[585,588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[585,588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[640,643],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[640,643],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1341,1344],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1341,1344],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2228,2231],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2228,2231],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":111,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3269,3272],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3269,3272],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { ArrowLeft } from 'lucide-react';\nimport NameReservationForm from '@/components/forms/NameReservationForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function NameReservationPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session, status } = useSession();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  useEffect(() => {\n    if (status === 'loading') return;\n    if (!session) {\n      router.push('/api/auth/signin');\n      return;\n    }\n\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        \n        const data = await response.json();\n        setOrder(data);\n\n        const nameResItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'NAME_RESERVATION'\n        );\n\n        if (nameResItem?.additionalData) {\n          setFormData(nameResItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(nameResItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId, session, status, router]);\n\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const nameResItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'NAME_RESERVATION'\n        );\n\n        if (!nameResItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${nameResItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      const nameResItem = order.orderItems.find(\n        (item: any) => item.serviceType === 'NAME_RESERVATION'\n      );\n\n      if (!nameResItem) return;\n\n      const response = await fetch(`/api/orders/${orderId}/items/${nameResItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      router.push(`/orders/${orderId}/complete-documents`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.back()}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              Back\n            </button>\n\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">Reserve Business Name</h1>\n              \n              {saveStatus !== 'idle' && (\n                <div className=\"text-sm\">\n                  {saveStatus === 'saving' && <span className=\"text-gray-600\">Saving...</span>}\n                  {saveStatus === 'saved' && <span className=\"text-green-600\">‚úì All changes saved</span>}\n                  {saveStatus === 'error' && <span className=\"text-red-600\">Failed to save</span>}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-center\">\n        <div className=\"w-full max-w-4xl px-6 py-8\">\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n            style={{ padding: '16px 20px', marginBottom: '32px' }}\n          >\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type.\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <NameReservationForm\n              initialData={formData}\n              onChange={setFormData}\n            />\n\n            <div style={{ marginTop: '32px' }}>\n              <button\n                type=\"submit\"\n                className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                }}\n              >\n                Submit Name Reservation\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\officer-address-update\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[479,482],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[479,482],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1185,1188],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1185,1188],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1853,1856],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1853,1856],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport OfficerAddressUpdateForm from '@/components/forms/OfficerAddressUpdateForm';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\nexport default function OfficerAddressUpdatePage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [formData, setFormData] = useState<any>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [preFilledBusinessName, setPreFilledBusinessName] = useState<string>('');\n  const [preFilledEntityType, setPreFilledEntityType] = useState<'LLC' | 'CORPORATION'>('LLC');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    const fetchOrderData = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const order = await response.json();\n          \n          const updateItem = order.items?.find(\n            (item: any) => item.serviceType === 'OFFICER_ADDRESS_UPDATE'\n          );\n\n          if (updateItem?.formData) {\n            setFormData(updateItem.formData);\n            lastSavedDataRef.current = JSON.stringify(updateItem.formData);\n          }\n\n          if (order.businessName) {\n            setPreFilledBusinessName(order.businessName);\n          }\n\n          if (order.entityType) {\n            setPreFilledEntityType(order.entityType);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n\n    fetchOrderData();\n  }, [orderId]);\n\n  // Auto-save with debounce\n  const handleFormChange = useCallback((data: any) => {\n    setFormData(data);\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      const currentDataString = JSON.stringify(data);\n      \n      if (currentDataString === lastSavedDataRef.current) {\n        return;\n      }\n\n      setSaveStatus('saving');\n\n      try {\n        const response = await fetch(`/api/orders/${orderId}/update-form-data`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            serviceType: 'OFFICER_ADDRESS_UPDATE',\n            formData: data,\n          }),\n        });\n\n        if (response.ok) {\n          setSaveStatus('saved');\n          lastSavedDataRef.current = currentDataString;\n          setTimeout(() => setSaveStatus('idle'), 2000);\n        } else {\n          setSaveStatus('error');\n        }\n      } catch (error) {\n        console.error('Error saving form data:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n  }, [orderId]);\n\n  useEffect(() => {\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  if (!formData) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n        <div className=\"text-white text-xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n      <div className=\"w-full max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">\n            Update {preFilledEntityType === 'CORPORATION' ? 'Officer/Director' : 'Manager/Member'} Address\n          </h1>\n          <p className=\"text-purple-100\">\n            Update the address for a specific {preFilledEntityType === 'CORPORATION' ? 'officer or director' : 'manager or member'}\n          </p>\n        </div>\n\n        {saveStatus !== 'idle' && (\n          <div className=\"mb-6 text-center\">\n            <span\n              className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n                saveStatus === 'saving'\n                  ? 'bg-blue-100 text-blue-800'\n                  : saveStatus === 'saved'\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-red-100 text-red-800'\n              }`}\n            >\n              {saveStatus === 'saving' && 'üíæ Saving...'}\n              {saveStatus === 'saved' && '‚úÖ Saved'}\n              {saveStatus === 'error' && '‚ùå Error saving'}\n            </span>\n          </div>\n        )}\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"form\" />\n        </div>\n\n        <div className=\"rounded-lg border-2 border-white/20 bg-white/95 backdrop-blur-sm shadow-2xl\" style={{ padding: '32px' }}>\n          <OfficerAddressUpdateForm\n            initialData={formData}\n            onChange={handleFormChange}\n            preFilledBusinessName={preFilledBusinessName}\n            preFilledEntityType={preFilledEntityType}\n          />\n\n          <div style={{ marginTop: '32px', paddingTop: '24px', borderTop: '2px solid #e5e7eb' }}>\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '14px 28px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Save and Continue\n            </button>\n          </div>\n        </div>\n\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.push(`/orders/${orderId}`)}\n            className=\"text-white hover:text-purple-100 underline\"\n          >\n            ‚Üê Back to Order\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\operating-agreement\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[532,535],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[532,535],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":16,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":16,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[587,590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[587,590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":34,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":34,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1242,1245],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1242,1245],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":69,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":69,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2169,2172],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2169,2172],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3156,3159],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3156,3159],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { ArrowLeft, Clock, CheckCircle2, AlertCircle } from 'lucide-react';\nimport OperatingAgreementForm from '@/components/forms/OperatingAgreementForm';\n\ntype SaveStatus = 'idle' | 'saving' | 'saved' | 'error';\n\nexport default function OperatingAgreementPage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [order, setOrder] = useState<any>(null);\n  const [formData, setFormData] = useState<any>({});\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('idle');\n  const [loading, setLoading] = useState(true);\n\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    const fetchOrder = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (!response.ok) throw new Error('Failed to fetch order');\n        const data = await response.json();\n        setOrder(data);\n\n        // Find Operating Agreement item and load existing data\n        const oaItem = data.orderItems.find(\n          (item: any) => item.serviceType === 'OPERATING_AGREEMENT'\n        );\n\n        if (oaItem?.additionalData) {\n          setFormData(oaItem.additionalData);\n          lastSavedDataRef.current = JSON.stringify(oaItem.additionalData);\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchOrder();\n  }, [orderId]);\n\n  // Auto-save functionality\n  useEffect(() => {\n    if (!order || Object.keys(formData).length === 0) return;\n\n    const currentData = JSON.stringify(formData);\n    if (currentData === lastSavedDataRef.current) return;\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    setSaveStatus('saving');\n\n    // Set new timeout\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        const oaItem = order.orderItems.find(\n          (item: any) => item.serviceType === 'OPERATING_AGREEMENT'\n        );\n\n        if (!oaItem) return;\n\n        const response = await fetch(`/api/orders/${orderId}/items/${oaItem.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            additionalData: formData,\n            additionalDataCollected: false,\n          }),\n        });\n\n        if (!response.ok) throw new Error('Failed to save');\n\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        console.error('Error saving:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, order, orderId]);\n\n  const handleSubmit = async () => {\n    try {\n      const oaItem = order?.orderItems.find(\n        (item: any) => item.serviceType === 'OPERATING_AGREEMENT'\n      );\n\n      if (!oaItem) return;\n\n      // Ensure data is saved\n      const response = await fetch(`/api/orders/${orderId}/items/${oaItem.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          additionalData: formData,\n          additionalDataCollected: true,\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to submit');\n\n      // Redirect to order page\n      router.push(`/orders/${orderId}`);\n    } catch (error) {\n      console.error('Error submitting:', error);\n      alert('Failed to submit form. Please try again.');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!order) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-red-600\">Order not found</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"flex items-center justify-center\">\n          <div className=\"w-full max-w-4xl px-6 py-6\">\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n            >\n              <ArrowLeft className=\"w-4 h-4\" />\n              <span>Back to Order</span>\n            </button>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Operating Agreement</h1>\n                <p className=\"text-gray-600 mt-1\">Order #{order.orderNumber}</p>\n              </div>\n              {saveStatus !== 'idle' && (\n                <div className=\"flex items-center gap-2\">\n                  {saveStatus === 'saving' && (\n                    <>\n                      <Clock className=\"w-4 h-4 text-gray-400 animate-spin\" />\n                      <span className=\"text-sm text-gray-600\">Saving...</span>\n                    </>\n                  )}\n                  {saveStatus === 'saved' && (\n                    <>\n                      <CheckCircle2 className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-sm text-green-600\">All changes saved</span>\n                    </>\n                  )}\n                  {saveStatus === 'error' && (\n                    <>\n                      <AlertCircle className=\"w-4 h-4 text-red-600\" />\n                      <span className=\"text-sm text-red-600\">Failed to save</span>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Content - Centered */}\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"w-full max-w-4xl mx-auto px-6\">\n          {/* Auto-save Notice */}\n          <div\n            className=\"rounded-lg border-2 border-blue-200 bg-blue-50 shadow-sm\"\n            style={{ padding: '20px 24px', marginBottom: '32px' }}\n          >\n            <p className=\"text-sm text-blue-800\">\n              <strong>Auto-save enabled:</strong> Your progress is automatically saved as you type. You can safely close this page and return anytime.\n            </p>\n          </div>\n\n          {/* Operating Agreement Form */}\n          <OperatingAgreementForm\n            initialData={formData}\n            onChange={setFormData}\n          />\n\n          {/* Submit Button */}\n          <div style={{ marginTop: '32px' }}>\n            <button\n              onClick={handleSubmit}\n              className=\"w-full rounded-lg text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '12px 24px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Submit Operating Agreement\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\orders\\[orderId]\\registered-agent-change\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":13,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[482,485],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[482,485],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1188,1191],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1188,1191],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1857,1860],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1857,1860],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":164,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5602,5701],"text":"\n              After saving, you&apos;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5602,5701],"text":"\n              After saving, you&lsquo;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5602,5701],"text":"\n              After saving, you&#39;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5602,5701],"text":"\n              After saving, you&rsquo;ll be able to download the completed form for mailing\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport RegisteredAgentChangeForm from '@/components/forms/RegisteredAgentChangeForm';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\nexport default function RegisteredAgentChangePage() {\n  const params = useParams();\n  const router = useRouter();\n  const orderId = params.orderId as string;\n\n  const [formData, setFormData] = useState<any>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [preFilledBusinessName, setPreFilledBusinessName] = useState<string>('');\n  const [preFilledEntityType, setPreFilledEntityType] = useState<'LLC' | 'CORPORATION'>('LLC');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  // Fetch order data\n  useEffect(() => {\n    const fetchOrderData = async () => {\n      try {\n        const response = await fetch(`/api/orders/${orderId}`);\n        if (response.ok) {\n          const order = await response.json();\n          \n          const changeItem = order.items?.find(\n            (item: any) => item.serviceType === 'REGISTERED_AGENT_CHANGE'\n          );\n\n          if (changeItem?.formData) {\n            setFormData(changeItem.formData);\n            lastSavedDataRef.current = JSON.stringify(changeItem.formData);\n          }\n\n          if (order.businessName) {\n            setPreFilledBusinessName(order.businessName);\n          }\n\n          if (order.entityType) {\n            setPreFilledEntityType(order.entityType);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching order:', error);\n      }\n    };\n\n    fetchOrderData();\n  }, [orderId]);\n\n  // Auto-save with debounce\n  const handleFormChange = useCallback((data: any) => {\n    setFormData(data);\n\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    saveTimeoutRef.current = setTimeout(async () => {\n      const currentDataString = JSON.stringify(data);\n      \n      if (currentDataString === lastSavedDataRef.current) {\n        return;\n      }\n\n      setSaveStatus('saving');\n\n      try {\n        const response = await fetch(`/api/orders/${orderId}/update-form-data`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            serviceType: 'REGISTERED_AGENT_CHANGE',\n            formData: data,\n          }),\n        });\n\n        if (response.ok) {\n          setSaveStatus('saved');\n          lastSavedDataRef.current = currentDataString;\n          setTimeout(() => setSaveStatus('idle'), 2000);\n        } else {\n          setSaveStatus('error');\n        }\n      } catch (error) {\n        console.error('Error saving form data:', error);\n        setSaveStatus('error');\n      }\n    }, 1000);\n  }, [orderId]);\n\n  useEffect(() => {\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  if (!formData) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n        <div className=\"text-white text-xl\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\n      <div className=\"w-full max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-2\">Change Registered Agent</h1>\n          <p className=\"text-purple-100\">\n            Update your registered agent with the Florida Department of State\n          </p>\n        </div>\n\n        {saveStatus !== 'idle' && (\n          <div className=\"mb-6 text-center\">\n            <span\n              className={`inline-block px-4 py-2 rounded-full text-sm font-medium ${\n                saveStatus === 'saving'\n                  ? 'bg-blue-100 text-blue-800'\n                  : saveStatus === 'saved'\n                  ? 'bg-green-100 text-green-800'\n                  : 'bg-red-100 text-red-800'\n              }`}\n            >\n              {saveStatus === 'saving' && 'üíæ Saving...'}\n              {saveStatus === 'saved' && '‚úÖ Saved'}\n              {saveStatus === 'error' && '‚ùå Error saving'}\n            </span>\n          </div>\n        )}\n\n        {/* UPL Disclaimer */}\n        <div style={{ marginBottom: '24px' }}>\n          <UPLDisclaimer variant=\"form\" />\n        </div>\n\n        <div className=\"rounded-lg border-2 border-white/20 bg-white/95 backdrop-blur-sm shadow-2xl\" style={{ padding: '32px' }}>\n          <RegisteredAgentChangeForm\n            initialData={formData}\n            onChange={handleFormChange}\n            preFilledBusinessName={preFilledBusinessName}\n            preFilledEntityType={preFilledEntityType}\n          />\n\n          <div style={{ marginTop: '32px', paddingTop: '24px', borderTop: '2px solid #e5e7eb' }}>\n            <button\n              onClick={() => router.push(`/orders/${orderId}`)}\n              className=\"w-full text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-200\"\n              style={{\n                padding: '14px 28px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              }}\n            >\n              Save and Continue\n            </button>\n            \n            <p className=\"text-xs text-gray-500 text-center mt-3\">\n              After saving, you'll be able to download the completed form for mailing\n            </p>\n          </div>\n        </div>\n\n        <div className=\"text-center mt-6\">\n          <button\n            onClick={() => router.push(`/orders/${orderId}`)}\n            className=\"text-white hover:text-purple-100 underline\"\n          >\n            ‚Üê Back to Order\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\services\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Tag' is defined but never used.","line":6,"column":24,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":11,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cardBase' is defined but never used.","line":11,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatCurrency' is defined but never used.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2046,2049],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2046,2049],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2119,2122],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2119,2122],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":90,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3099,3102],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3099,3102],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3467,3470],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3467,3470],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":393,"column":48,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":393,"endColumn":51,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[15862,15865],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[15862,15865],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":404,"column":32,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[16652,16701],"text":"\n                            You&apos;ve selected the "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[16652,16701],"text":"\n                            You&lsquo;ve selected the "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[16652,16701],"text":"\n                            You&#39;ve selected the "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[16652,16701],"text":"\n                            You&rsquo;ve selected the "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { useSession } from 'next-auth/react';\nimport { Check, Clock, Tag, ShoppingCart, Lock } from 'lucide-react';\nimport LLCFormationWizard from '@/components/LLCFormationWizard';\nimport FictitiousNameWizard from '@/components/FictitiousNameWizard';\nimport PackageSelector from '@/components/PackageSelector';\nimport CheckoutUpsell from '@/components/CheckoutUpsell';\nimport { cn, cardBase } from '@/components/legalops/theme';\nimport { formatCurrency } from '@/components/legalops/utils';\nimport { requiresAccount, allowsGuestCheckout } from '@/config/service-data-requirements';\n\ninterface Service {\n  id: string;\n  name: string;\n  slug: string;\n  orderType: string; // Maps to ServiceType enum (LLC_FORMATION, OPERATING_AGREEMENT, etc.)\n  shortDescription: string;\n  longDescription: string;\n  totalPrice: number;\n  serviceFee: number;\n  stateFee: number;\n  registeredAgentFee?: number;\n  rushFee?: number;\n  rushFeeAvailable?: boolean;\n  icon: string;\n  processingTime: string;\n  category: string;\n  requirements?: string[];\n}\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  description: string;\n  features: string[];\n  badge: string | null;\n  highlightColor: string | null;\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\nexport default function ServiceDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { data: session } = useSession();\n  const slug = params.slug as string;\n  const [service, setService] = useState<Service | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [selectedPackage, setSelectedPackage] = useState<Package | null>(null);\n  const [showForm, setShowForm] = useState(false);\n  const [showUpsell, setShowUpsell] = useState(false);\n  const [pendingFormData, setPendingFormData] = useState<any>(null);\n  const [preservedFormData, setPreservedFormData] = useState<any>(null);\n\n  useEffect(() => {\n    const fetchService = async () => {\n      try {\n        const response = await fetch(`/api/services/${slug}`);\n        if (response.ok) {\n          const data = await response.json();\n          // Convert Decimal strings to numbers\n          const service = {\n            ...data,\n            totalPrice: typeof data.totalPrice === 'string' ? parseFloat(data.totalPrice) : data.totalPrice,\n            serviceFee: typeof data.serviceFee === 'string' ? parseFloat(data.serviceFee) : data.serviceFee,\n            stateFee: typeof data.stateFee === 'string' ? parseFloat(data.stateFee) : data.stateFee,\n          };\n          setService(service);\n        }\n      } catch (error) {\n        console.error('Failed to fetch service:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchService();\n  }, [slug]);\n\n  // Handle form submission - show upsell if Basic package selected\n  const handleFormSubmit = async (formData: any) => {\n    // If user selected Basic package, show upsell modal\n    if (selectedPackage?.slug === 'basic') {\n      setPendingFormData(formData);\n      setShowUpsell(true);\n      return;\n    }\n\n    // Otherwise, proceed directly to create order\n    await createOrder(formData);\n  };\n\n  // Create order and redirect to checkout\n  const createOrder = async (formData: any) => {\n    try {\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          serviceId: service?.id,\n          orderType: service?.orderType || 'LLC_FORMATION',\n          orderData: formData,\n          packageId: selectedPackage?.id || null,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create order');\n      }\n\n      const data = await response.json();\n      router.push(`/checkout/${data.orderId || data.order?.id}`);\n    } catch (error) {\n      console.error('Error creating order:', error);\n      alert('Failed to create order. Please try again.');\n    }\n  };\n\n  // Handle Buy Now button click\n  const handleBuyNow = async () => {\n    console.log('handleBuyNow called');\n    console.log('service:', service);\n    console.log('session:', session);\n\n    if (!service) {\n      console.log('No service found, returning');\n      return;\n    }\n\n    // If user is authenticated\n    if (session) {\n      console.log('User is authenticated');\n      console.log('service.orderType:', service.orderType);\n\n      // For services with forms on this page (LLC Formation, DBA), show the form\n      if (service.orderType === 'LLC_FORMATION' || service.orderType === 'FICTITIOUS_NAME_REGISTRATION') {\n        console.log('Showing form for LLC/DBA');\n        setShowForm(true);\n        // Scroll to form\n        setTimeout(() => {\n          const formElement = document.getElementById('service-form');\n          if (formElement) {\n            formElement.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        }, 100);\n      } else {\n        // For other services (Annual Report, etc.), create order and redirect to appropriate page\n        console.log('Creating order for other service type');\n        try {\n          console.log('Sending request to /api/orders with:', {\n            serviceId: service.id,\n            orderType: service.orderType,\n            orderData: { rushProcessing: false },\n          });\n\n          const response = await fetch('/api/orders', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              serviceId: service.id,\n              orderType: service.orderType,\n              orderData: {\n                // Minimal data to satisfy API requirements\n                // Actual data will be collected on the dedicated form page\n                rushProcessing: false,\n              },\n            }),\n          });\n\n          console.log('Response status:', response.status);\n          console.log('Response ok:', response.ok);\n\n          if (!response.ok) {\n            const errorData = await response.json();\n            console.error('Order creation failed:', errorData);\n            throw new Error(errorData.error || 'Failed to create order');\n          }\n\n          const data = await response.json();\n          console.log('Order created successfully:', data);\n          const orderId = data.orderId || data.order?.id;\n          console.log('Order ID:', orderId);\n\n          // Redirect based on service type\n          if (service.orderType === 'LLC_ANNUAL_REPORT' || service.orderType === 'CORP_ANNUAL_REPORT' || service.orderType === 'ANNUAL_REPORT') {\n            console.log('Redirecting to annual report form');\n            router.push(`/orders/${orderId}/annual-report`);\n          } else {\n            // Default to checkout page\n            console.log('Redirecting to checkout');\n            router.push(`/checkout/${orderId}`);\n          }\n        } catch (error) {\n          console.error('Error creating order:', error);\n          alert('Failed to create order. Please try again.');\n        }\n      }\n    } else {\n      console.log('User not authenticated, routing to checkout-router');\n      // If not authenticated, route to checkout-router\n      router.push(`/checkout-router?service=${service.orderType}&name=${encodeURIComponent(service.name)}&price=${service.totalPrice}`);\n    }\n  };\n\n  // Handle upgrade from upsell modal\n  const handleUpgrade = (pkg: Package) => {\n    setSelectedPackage(pkg);\n    setShowUpsell(false);\n    // Create order with upgraded package\n    if (pendingFormData) {\n      createOrder(pendingFormData);\n    }\n  };\n\n  // Handle continue with Basic package\n  const handleContinueBasic = () => {\n    setShowUpsell(false);\n    // Create order with Basic package\n    if (pendingFormData) {\n      createOrder(pendingFormData);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading service details...</p>\n      </div>\n    );\n  }\n\n  if (!service) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Service not found</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)' }}>\n      {/* Hero Header */}\n      <div className=\"bg-white\" style={{ borderBottom: '1px solid #e2e8f0', boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)' }}>\n        <div style={{ maxWidth: '1400px', margin: '0 auto', padding: '32px 24px' }}>\n          <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8\">\n            <div className=\"lg:col-span-4\"></div>\n            <div className=\"lg:col-span-8\">\n              <div style={{ display: 'flex', alignItems: 'center', gap: '20px' }}>\n                <span className=\"text-5xl\">{service.icon}</span>\n                <div style={{ textAlign: 'left' }}>\n                  <h1 className=\"font-semibold tracking-tight\" style={{ fontSize: '48px', color: '#0f172a', marginBottom: '8px' }}>\n                    {service.name}\n                  </h1>\n                  <p style={{ fontSize: '18px', color: '#64748b' }}>\n                    {service.shortDescription}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* About This Service Section */}\n      <div className=\"flex items-center justify-center\" style={{ padding: '32px 24px' }}>\n        <div className=\"max-w-4xl mx-auto w-full\">\n          <div\n            className=\"bg-white rounded-xl text-center\"\n            style={{\n              border: '1px solid rgba(226, 232, 240, 0.8)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              padding: '32px',\n            }}\n          >\n            <h3 className=\"font-bold text-slate-900\" style={{ fontSize: '20px', marginBottom: '16px' }}>\n              About This Service\n            </h3>\n            <p className=\"text-slate-600 max-w-3xl mx-auto\" style={{ fontSize: '16px', lineHeight: '1.7' }}>\n              {service.longDescription}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content - Different for LLC Formation, Corporation Formation, DBA, vs Other Services */}\n      <div className=\"flex items-center justify-center\" style={{ padding: '0 24px 64px' }}>\n        <div className=\"max-w-4xl mx-auto w-full\">\n          {(service.orderType === 'LLC_FORMATION' || service.orderType === 'CORP_FORMATION') ? (\n            /* LLC/Corporation Formation - Show Package Selector and Form Wizard */\n            <>\n              {!showForm ? (\n                /* Package Selection */\n                <div>\n                  <PackageSelector\n                    onSelectPackage={(pkg) => {\n                      setSelectedPackage(pkg);\n                      setShowForm(true);\n                    }}\n                    selectedPackageId={selectedPackage?.id}\n                  />\n                </div>\n              ) : (\n                /* Form Wizard */\n                <div id=\"service-form\" className=\"bg-white rounded-xl\" style={{\n                  border: '1px solid #e2e8f0',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n                }}>\n                  <div style={{ padding: '32px 32px 24px' }}>\n                    {/* Package Selection Summary */}\n                    {selectedPackage && (\n                      <div className=\"mb-6 bg-sky-50 border-2 border-sky-300 rounded-lg\" style={{ padding: '20px 24px' }}>\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <p className=\"text-sm text-sky-700 font-medium\">Selected Package:</p>\n                            <p className=\"text-lg font-bold text-sky-900\">{selectedPackage.name} - ${selectedPackage.price}</p>\n                          </div>\n                          <button\n                            onClick={() => {\n                              // Form data is already preserved via onFormDataChange callback\n                              setShowForm(false);\n                            }}\n                            className=\"relative overflow-hidden bg-white text-sky-700 hover:bg-sky-50 font-semibold rounded-lg transition-all duration-200 hover:scale-105\"\n                            style={{\n                              fontSize: '14px',\n                              padding: '12px 28px',\n                              border: '2px solid #0ea5e9',\n                              boxShadow: '0 2px 8px rgba(14, 165, 233, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.8)',\n                            }}\n                          >\n                            {/* Glass highlight effect */}\n                            <div\n                              className=\"absolute inset-0 pointer-events-none\"\n                              style={{\n                                background: 'linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 50%)',\n                                transform: 'translateY(-30%)',\n                              }}\n                            />\n                            <span className=\"relative\">Change Package</span>\n                          </button>\n                        </div>\n                      </div>\n                    )}\n\n                    {!selectedPackage && (\n                      <div className=\"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg\">\n                        <div className=\"flex items-center justify-between\">\n                          <div>\n                            <p className=\"text-sm text-slate-700 font-medium\">Individual Filing Selected</p>\n                            <p className=\"text-xs text-slate-600\">You can add services at checkout</p>\n                          </div>\n                          <button\n                            onClick={() => setShowForm(false)}\n                            className=\"text-sm text-sky-600 hover:text-sky-800 underline\"\n                          >\n                            View Packages\n                          </button>\n                        </div>\n                      </div>\n                    )}\n\n                    <div style={{ textAlign: 'center', marginBottom: '32px' }}>\n                      <h2 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '8px', lineHeight: '1.2' }}>\n                        Complete Your Order\n                      </h2>\n                      <p style={{ fontSize: '16px', color: '#64748b', lineHeight: '1.5' }}>\n                        Fill out the form below to get started with your {service.name.toLowerCase()}\n                      </p>\n                    </div>\n\n                    {service.orderType === 'LLC_FORMATION' ? (\n                      <LLCFormationWizard\n                        serviceId={service.id}\n                        service={{\n                          id: service.id,\n                          serviceFee: service.serviceFee,\n                          stateFee: service.stateFee,\n                          registeredAgentFee: service.registeredAgentFee || 0,\n                          totalPrice: service.totalPrice,\n                          rushFee: service.rushFee || 0,\n                          rushFeeAvailable: service.rushFeeAvailable || false,\n                        }}\n                        selectedPackage={selectedPackage}\n                        onSubmit={handleFormSubmit}\n                        onPackageChange={(pkg: any) => setSelectedPackage(pkg)}\n                        initialFormData={preservedFormData}\n                        onFormDataChange={setPreservedFormData}\n                      />\n                    ) : service.orderType === 'CORP_FORMATION' ? (\n                      <div className=\"text-center\" style={{ padding: '48px 24px' }}>\n                        <div className=\"bg-sky-50 border-2 border-sky-300 rounded-xl\" style={{ padding: '32px', marginBottom: '24px' }}>\n                          <h3 className=\"text-2xl font-semibold text-slate-900\" style={{ marginBottom: '16px' }}>\n                            Corporation Formation Wizard Coming Soon\n                          </h3>\n                          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                            You've selected the <strong>{selectedPackage?.name} Package</strong> for Corporation Formation.\n                            Our comprehensive formation wizard is currently under development.\n                          </p>\n                          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6', marginTop: '16px' }}>\n                            In the meantime, please contact us at <a href=\"mailto:support@legalops.com\" className=\"text-sky-600 hover:text-sky-800 underline\">support@legalops.com</a> to complete your corporation formation.\n                          </p>\n                        </div>\n                        <button\n                          onClick={() => setShowForm(false)}\n                          className=\"text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                          style={{\n                            padding: '12px 24px',\n                            background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                          }}\n                        >\n                          ‚Üê Back to Package Selection\n                        </button>\n                      </div>\n                    ) : null}\n                  </div>\n                </div>\n              )}\n            </>\n          ) : service.orderType === 'FICTITIOUS_NAME_REGISTRATION' ? (\n            /* Fictitious Name (DBA) - Show Form Wizard */\n            <FictitiousNameWizard\n              onSubmit={createOrder}\n              initialData={preservedFormData}\n            />\n          ) : (\n            /* All Other Services - Show Buy Now Button */\n            /* Pricing Card */\n            <div className=\"bg-white rounded-xl\" style={{\n              border: '1px solid rgba(226, 232, 240, 0.8)',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              padding: '32px',\n            }}>\n              <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n                <p className=\"text-slate-600 mb-2\" style={{ fontSize: '16px' }}>Total Price</p>\n                <p className=\"font-bold text-sky-600\" style={{ fontSize: '56px', lineHeight: '1' }}>\n                  ${service.totalPrice.toFixed(2)}\n                </p>\n              </div>\n\n              {/* Price Breakdown */}\n              <div className=\"space-y-3 pb-8 border-b border-slate-200\" style={{ marginBottom: '32px' }}>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slate-700\" style={{ fontSize: '16px' }}>Service Fee</span>\n                  <span className=\"font-semibold text-slate-900\" style={{ fontSize: '16px' }}>\n                    ${service.serviceFee.toFixed(2)}\n                  </span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slate-700\" style={{ fontSize: '16px' }}>State Filing Fee</span>\n                  <span className=\"font-semibold text-slate-900\" style={{ fontSize: '16px' }}>\n                    ${service.stateFee.toFixed(2)}\n                  </span>\n                </div>\n              </div>\n\n              {/* Processing Time */}\n              <div className=\"flex items-center justify-center gap-2 text-slate-600\" style={{ marginBottom: '32px' }}>\n                <Clock className=\"w-5 h-5\" />\n                <span style={{ fontSize: '15px' }}>{service.processingTime}</span>\n              </div>\n\n              {/* Buy Now Button */}\n              <button\n                onClick={handleBuyNow}\n                className=\"w-full relative overflow-hidden bg-gradient-to-r from-sky-500 to-sky-600 text-white font-bold rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-xl flex items-center justify-center gap-3\"\n                style={{\n                  padding: '16px 32px',\n                  fontSize: '18px',\n                  boxShadow: '0 4px 14px rgba(14, 165, 233, 0.4)',\n                }}\n              >\n                {/* Glass highlight effect */}\n                <div\n                  className=\"absolute inset-0 pointer-events-none\"\n                  style={{\n                    background: 'linear-gradient(135deg, rgba(255,255,255,0.3) 0%, rgba(255,255,255,0) 50%)',\n                    transform: 'translateY(-30%)',\n                  }}\n                />\n                <ShoppingCart className=\"w-6 h-6\" />\n                <span className=\"relative\">Buy Now</span>\n              </button>\n\n              {/* Account Requirement Notice */}\n              {requiresAccount(service.orderType) && (\n                <div className=\"bg-blue-50 border-2 border-blue-200 rounded-lg\" style={{\n                  marginTop: '24px',\n                  padding: '16px 20px'\n                }}>\n                  <div className=\"flex items-start gap-3\">\n                    <Lock className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n                    <div>\n                      <p className=\"text-sm font-semibold text-blue-900 mb-1\">Account Required</p>\n                      <p className=\"text-xs text-blue-700\">\n                        This service requires creating an account for ongoing access and document delivery.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Guest Checkout Available Notice */}\n              {allowsGuestCheckout(service.orderType) && (\n                <div className=\"bg-green-50 border-2 border-green-200 rounded-lg\" style={{\n                  marginTop: '24px',\n                  padding: '16px 20px'\n                }}>\n                  <div className=\"flex items-start gap-3\">\n                    <Check className=\"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5\" />\n                    <div>\n                      <p className=\"text-sm font-semibold text-green-900 mb-1\">Guest Checkout Available</p>\n                      <p className=\"text-xs text-green-700\">\n                        You can purchase this service without creating an account.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Checkout Upsell Modal */}\n      {showUpsell && (\n        <CheckoutUpsell\n          currentPackage={selectedPackage}\n          onUpgrade={handleUpgrade}\n          onContinue={handleContinueBasic}\n        />\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\services\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":51,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":51,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1644,1647],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1644,1647],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { Building2, FileText, RefreshCw, XCircle, Award, Grid3x3 } from 'lucide-react';\nimport { ServiceCard } from '@/components/legalops/cards/ServiceCard';\nimport { EmptyState } from '@/components/legalops/layout/EmptyState';\nimport { LiquidGlassIcon, IconCategory } from '@/components/legalops/icons/LiquidGlassIcon';\nimport { cn } from '@/components/legalops/theme';\n\ninterface Service {\n  id: string;\n  name: string;\n  slug: string;\n  shortDescription: string;\n  totalPrice: number;\n  serviceFee: number;\n  stateFee: number;\n  icon: string;\n  isPopular: boolean;\n  isFeatured: boolean;\n  processingTime: string;\n  category: string;\n}\n\nexport default function ServicesPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [services, setServices] = useState<Service[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n\n  // Read category from URL parameter on mount\n  useEffect(() => {\n    const categoryParam = searchParams.get('category');\n    if (categoryParam) {\n      setSelectedCategory(categoryParam);\n    }\n  }, [searchParams]);\n\n  useEffect(() => {\n    // Fetch services from API\n    const fetchServices = async () => {\n      try {\n        const response = await fetch('/api/services');\n        const data = await response.json();\n\n        // Handle error responses\n        if (Array.isArray(data)) {\n          // Convert Decimal strings to numbers\n          const services = data.map((service: any) => ({\n            ...service,\n            totalPrice: typeof service.totalPrice === 'string' ? parseFloat(service.totalPrice) : service.totalPrice,\n            serviceFee: typeof service.serviceFee === 'string' ? parseFloat(service.serviceFee) : service.serviceFee,\n            stateFee: typeof service.stateFee === 'string' ? parseFloat(service.stateFee) : service.stateFee,\n          }));\n          setServices(services);\n        } else if (data.error) {\n          console.error('API Error:', data.error);\n          setServices([]);\n        } else {\n          setServices([]);\n        }\n      } catch (error) {\n        console.error('Failed to fetch services:', error);\n        setServices([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchServices();\n  }, []);\n\n  const categories = [\n    { value: 'all', label: 'All Services', icon: Grid3x3, category: 'estate' as IconCategory },\n    { value: 'FORMATION', label: 'Formation', icon: Building2, category: 'business' as IconCategory },\n    { value: 'ANNUAL_COMPLIANCE', label: 'Annual Compliance', icon: RefreshCw, category: 'success' as IconCategory },\n    { value: 'AMENDMENTS', label: 'Amendments', icon: FileText, category: 'warning' as IconCategory },\n    { value: 'DISSOLUTION', label: 'Dissolution', icon: XCircle, category: 'payment' as IconCategory },\n    { value: 'CERTIFICATES', label: 'Certificates', icon: Award, category: 'documents' as IconCategory },\n  ];\n\n  const filteredServices = Array.isArray(services)\n    ? (selectedCategory === 'all'\n        ? services\n        : services.filter(s => s.category === selectedCategory))\n    : [];\n\n  const featuredServices = Array.isArray(filteredServices) ? filteredServices.filter(s => s.isFeatured) : [];\n  const otherServices = Array.isArray(filteredServices) ? filteredServices.filter(s => !s.isFeatured) : [];\n\n  const getCategoryIcon = (category: string) => {\n    const icons: Record<string, React.ReactNode> = {\n      FORMATION: <Building2 className=\"w-6 h-6\" />,\n      ANNUAL_COMPLIANCE: <RefreshCw className=\"w-6 h-6\" />,\n      AMENDMENTS: <FileText className=\"w-6 h-6\" />,\n      DISSOLUTION: <XCircle className=\"w-6 h-6\" />,\n      CERTIFICATES: <Award className=\"w-6 h-6\" />,\n    };\n    return icons[category] || <Building2 className=\"w-6 h-6\" />;\n  };\n\n  const getCategoryColor = (category: string): 'sky' | 'green' | 'amber' | 'purple' => {\n    const colors: Record<string, 'sky' | 'green' | 'amber' | 'purple'> = {\n      FORMATION: 'sky',\n      ANNUAL_COMPLIANCE: 'green',\n      AMENDMENTS: 'amber',\n      DISSOLUTION: 'purple',\n      CERTIFICATES: 'green',\n    };\n    return colors[category] || 'sky';\n  };\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)' }}>\n      {/* Header */}\n      <div className=\"bg-white\" style={{ borderBottom: '1px solid #e2e8f0', boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)' }}>\n        <div style={{ maxWidth: '1280px', margin: '0 auto', padding: '48px 24px', textAlign: 'center' }}>\n          <h1 className=\"font-semibold tracking-tight\" style={{ fontSize: '48px', color: '#0f172a', marginBottom: '16px' }}>\n            Florida Business Services\n          </h1>\n          <p style={{ fontSize: '18px', color: '#64748b', maxWidth: '768px', margin: '0 auto' }}>\n            Choose the service you need to get your business started or maintained\n          </p>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div style={{ maxWidth: '1280px', margin: '0 auto', padding: '48px 24px' }}>\n\n        {/* Category Filter - Liquid Glass Style */}\n        <div style={{ marginBottom: '64px' }}>\n          <div className=\"flex flex-wrap gap-4\">\n            {categories.map(cat => {\n              // Define color schemes for each category\n              const colorSchemes: Record<string, { border: string; bg: string; shadow: string }> = {\n                all: { border: 'border-slate-300', bg: 'bg-gradient-to-br from-slate-50 to-slate-100', shadow: 'shadow-slate-200/50' },\n                FORMATION: { border: 'border-sky-300', bg: 'bg-gradient-to-br from-sky-50 to-sky-100', shadow: 'shadow-sky-200/50' },\n                ANNUAL_COMPLIANCE: { border: 'border-emerald-300', bg: 'bg-gradient-to-br from-emerald-50 to-emerald-100', shadow: 'shadow-emerald-200/50' },\n                AMENDMENTS: { border: 'border-amber-300', bg: 'bg-gradient-to-br from-amber-50 to-amber-100', shadow: 'shadow-amber-200/50' },\n                DISSOLUTION: { border: 'border-purple-300', bg: 'bg-gradient-to-br from-purple-50 to-purple-100', shadow: 'shadow-purple-200/50' },\n                CERTIFICATES: { border: 'border-green-300', bg: 'bg-gradient-to-br from-green-50 to-green-100', shadow: 'shadow-green-200/50' },\n              };\n\n              const colors = colorSchemes[cat.value] || colorSchemes.all;\n\n              return (\n                <button\n                  key={cat.value}\n                  onClick={() => setSelectedCategory(cat.value)}\n                  className={cn(\n                    'inline-flex items-center gap-3 rounded-xl font-medium transition-all duration-200 pl-4 pr-8 py-3',\n                    selectedCategory === cat.value\n                      ? `${colors.bg} shadow-lg border-2 ${colors.border} ${colors.shadow} scale-105`\n                      : 'bg-white/60 border border-slate-200 hover:bg-white hover:shadow-md hover:scale-102'\n                  )}\n                >\n                  <LiquidGlassIcon\n                    icon={cat.icon}\n                    category={cat.category}\n                    size=\"sm\"\n                  />\n                  <span className={cn(\n                    'text-sm mr-4',\n                    selectedCategory === cat.value\n                      ? 'text-slate-900 font-semibold'\n                      : 'text-slate-600'\n                  )}>\n                    {cat.label}\n                  </span>\n                  <span className=\"w-2\"></span>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {[1, 2, 3, 4, 5, 6].map((i) => (\n              <ServiceCard key={i} title=\"\" description=\"\" price={0} loading={true} />\n            ))}\n          </div>\n        ) : (\n          <>\n            {/* Featured Services Section */}\n            {featuredServices.length > 0 && (\n              <div style={{ marginBottom: '96px' }}>\n                <div style={{ marginBottom: '24px' }}>\n                  <h2 className=\"text-3xl font-semibold text-slate-900 mb-2\">Featured Services</h2>\n                  <p className=\"text-slate-600\">Our most popular services to get you started</p>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {featuredServices.map(service => (\n                    <ServiceCard\n                      key={service.id}\n                      title={service.name}\n                      description={service.shortDescription}\n                      price={service.totalPrice}\n                      icon={<span className=\"text-4xl\">{service.icon}</span>}\n                      accentColor={getCategoryColor(service.category)}\n                      badge={service.isPopular ? 'Popular' : undefined}\n                      onClick={() => router.push(`/services/${service.slug}`)}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Other Services Section */}\n            {otherServices.length > 0 && (\n              <div>\n                <div style={{ marginBottom: '24px' }}>\n                  <h2 className=\"text-3xl font-semibold text-slate-900 mb-2\">\n                    {featuredServices.length > 0 ? 'Other Services' : 'Available Services'}\n                  </h2>\n                  <p className=\"text-slate-600\">Additional filing and compliance services</p>\n                </div>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {otherServices.map(service => (\n                    <ServiceCard\n                      key={service.id}\n                      title={service.name}\n                      description={service.shortDescription}\n                      price={service.totalPrice}\n                      icon={getCategoryIcon(service.category)}\n                      accentColor={getCategoryColor(service.category)}\n                      badge={service.isPopular ? 'Popular' : undefined}\n                      onClick={() => router.push(`/services/${service.slug}`)}\n                    />\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {filteredServices.length === 0 && (\n              <EmptyState\n                icon={Building2}\n                title=\"No services found\"\n                description=\"Try selecting a different category to see available services.\"\n                action={{\n                  label: 'View All Services',\n                  onClick: () => setSelectedCategory('all'),\n                }}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\test-address-validation\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[812,815],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[812,815],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":277,"column":86,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9362,9451],"text":" These records must be saved to the customer&apos;s data file for legal protection.\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9362,9451],"text":" These records must be saved to the customer&lsquo;s data file for legal protection.\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9362,9451],"text":" These records must be saved to the customer&#39;s data file for legal protection.\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9362,9451],"text":" These records must be saved to the customer&rsquo;s data file for legal protection.\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport AddressValidationModal from '@/components/AddressValidationModal';\nimport { AddressInput, AddressDisclaimerAcceptance } from '@/lib/services/usps-address-validation';\n\n/**\n * Test page for USPS Address Validation\n * Navigate to: http://localhost:3000/test-address-validation\n */\nexport default function TestAddressValidationPage() {\n  const [address, setAddress] = useState<AddressInput>({\n    address1: '', // Apt/Suite/Unit\n    address2: '73 W Flagler St', // Street Address\n    city: 'Miami',\n    state: 'FL',\n    zip5: ''\n  });\n\n  const [finalAddress, setFinalAddress] = useState<AddressInput | null>(null);\n  const [disclaimerAcceptances, setDisclaimerAcceptances] = useState<AddressDisclaimerAcceptance[]>([]);\n  const [result, setResult] = useState<any>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showModal, setShowModal] = useState(false);\n\n  const handleValidate = async () => {\n    setLoading(true);\n    setError(null);\n    setResult(null);\n    setShowModal(false);\n\n    try {\n      const response = await fetch('/api/validate-address', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ address }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        setError(data.error || 'Validation failed');\n        return;\n      }\n\n      setResult(data.result);\n      setShowModal(true);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAcceptCorrection = (correctedAddress: AddressInput, disclaimerAcceptance?: AddressDisclaimerAcceptance) => {\n    setFinalAddress(correctedAddress);\n\n    // CRITICAL: Save disclaimer acceptance to customer data file\n    if (disclaimerAcceptance) {\n      setDisclaimerAcceptances(prev => [...prev, disclaimerAcceptance]);\n      console.log('üìù DISCLAIMER ACCEPTANCE LOGGED:', disclaimerAcceptance);\n      // In production: Save to database/customer file\n      // await saveDisclaimerAcceptance(customerId, disclaimerAcceptance);\n    }\n\n    setShowModal(false);\n    alert('Address accepted! Disclaimer acceptance has been logged with timestamp.');\n  };\n\n  const handleEdit = () => {\n    setShowModal(false);\n    // Focus back on the form to edit\n  };\n\n  const handleProceedAnyway = (originalAddress: AddressInput, disclaimerAcceptance: AddressDisclaimerAcceptance) => {\n    setFinalAddress(originalAddress);\n\n    // CRITICAL: Save disclaimer acceptance to customer data file\n    setDisclaimerAcceptances(prev => [...prev, disclaimerAcceptance]);\n    console.log('üìù DISCLAIMER ACCEPTANCE LOGGED:', disclaimerAcceptance);\n    // In production: Save to database/customer file\n    // await saveDisclaimerAcceptance(customerId, disclaimerAcceptance);\n\n    setShowModal(false);\n    alert('Proceeding with original address! Disclaimer acceptance has been logged with timestamp.');\n  };\n\n  return (\n    <div style={{ padding: '40px', maxWidth: '800px', margin: '0 auto', fontFamily: 'system-ui' }}>\n      <h1 style={{ fontSize: '32px', marginBottom: '20px' }}>üèõÔ∏è USPS Address Validation Test</h1>\n      \n      <div style={{ \n        backgroundColor: '#f8fafc', \n        padding: '30px', \n        borderRadius: '8px',\n        border: '1px solid #e2e8f0',\n        marginBottom: '30px'\n      }}>\n        <h2 style={{ fontSize: '20px', marginBottom: '20px' }}>Enter Address to Validate:</h2>\n        \n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Street Address:\n          </label>\n          <input\n            type=\"text\"\n            value={address.address2 || ''}\n            onChange={(e) => setAddress({ ...address, address2: e.target.value })}\n            style={{\n              width: '100%',\n              padding: '10px',\n              fontSize: '16px',\n              border: '1px solid #cbd5e1',\n              borderRadius: '4px'\n            }}\n            placeholder=\"123 Main Street\"\n          />\n        </div>\n\n        <div style={{ marginBottom: '15px' }}>\n          <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n            Apt / Suite / Unit (Optional):\n          </label>\n          <input\n            type=\"text\"\n            value={address.address1 || ''}\n            onChange={(e) => setAddress({ ...address, address1: e.target.value })}\n            style={{\n              width: '100%',\n              padding: '10px',\n              fontSize: '16px',\n              border: '1px solid #cbd5e1',\n              borderRadius: '4px'\n            }}\n            placeholder=\"Apt 5B, Suite 200, etc.\"\n          />\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', gap: '15px', marginBottom: '20px' }}>\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n              City:\n            </label>\n            <input\n              type=\"text\"\n              value={address.city}\n              onChange={(e) => setAddress({ ...address, city: e.target.value })}\n              style={{\n                width: '100%',\n                padding: '10px',\n                fontSize: '16px',\n                border: '1px solid #cbd5e1',\n                borderRadius: '4px'\n              }}\n              placeholder=\"Miami\"\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n              State:\n            </label>\n            <input\n              type=\"text\"\n              value={address.state}\n              onChange={(e) => setAddress({ ...address, state: e.target.value })}\n              style={{\n                width: '100%',\n                padding: '10px',\n                fontSize: '16px',\n                border: '1px solid #cbd5e1',\n                borderRadius: '4px'\n              }}\n              placeholder=\"FL\"\n              maxLength={2}\n            />\n          </div>\n\n          <div>\n            <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n              ZIP Code:\n            </label>\n            <input\n              type=\"text\"\n              value={address.zip5}\n              onChange={(e) => setAddress({ ...address, zip5: e.target.value })}\n              style={{\n                width: '100%',\n                padding: '10px',\n                fontSize: '16px',\n                border: '1px solid #cbd5e1',\n                borderRadius: '4px'\n              }}\n              placeholder=\"33101\"\n              maxLength={5}\n            />\n          </div>\n        </div>\n\n        <button\n          onClick={handleValidate}\n          disabled={loading}\n          style={{\n            backgroundColor: loading ? '#94a3b8' : '#2563eb',\n            color: 'white',\n            padding: '12px 24px',\n            fontSize: '16px',\n            fontWeight: '600',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: loading ? 'not-allowed' : 'pointer',\n            width: '100%'\n          }}\n        >\n          {loading ? 'Validating...' : '‚úì Validate Address'}\n        </button>\n      </div>\n\n      {error && (\n        <div style={{\n          backgroundColor: '#fee2e2',\n          border: '1px solid #fca5a5',\n          padding: '20px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        }}>\n          <h3 style={{ color: '#dc2626', marginBottom: '10px' }}>‚ùå Error:</h3>\n          <p style={{ color: '#991b1b' }}>{error}</p>\n        </div>\n      )}\n\n      {finalAddress && (\n        <div style={{\n          backgroundColor: '#d1fae5',\n          border: '1px solid #6ee7b7',\n          padding: '20px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        }}>\n          <h3 style={{ color: '#065f46', marginBottom: '15px', fontSize: '20px' }}>\n            ‚úÖ Final Address Selected:\n          </h3>\n          <div style={{\n            backgroundColor: 'white',\n            padding: '15px',\n            borderRadius: '6px',\n            border: '1px solid #e5e7eb'\n          }}>\n            <p style={{ margin: '5px 0' }}>{finalAddress.address2}</p>\n            {finalAddress.address1 && (\n              <p style={{ margin: '5px 0' }}>{finalAddress.address1}</p>\n            )}\n            <p style={{ margin: '5px 0' }}>\n              {finalAddress.city}, {finalAddress.state} {finalAddress.zip5}\n              {finalAddress.zip4 && `-${finalAddress.zip4}`}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Disclaimer Acceptances Log (CRITICAL for legal protection) */}\n      {disclaimerAcceptances.length > 0 && (\n        <div style={{\n          backgroundColor: '#fef3c7',\n          border: '2px solid #f59e0b',\n          padding: '20px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        }}>\n          <h3 style={{ color: '#92400e', marginBottom: '15px', fontSize: '20px', fontWeight: '700' }}>\n            üìã Disclaimer Acceptances Log ({disclaimerAcceptances.length})\n          </h3>\n          <p style={{ color: '#78350f', marginBottom: '15px', fontSize: '14px' }}>\n            ‚ö†Ô∏è <strong>CRITICAL:</strong> These records must be saved to the customer's data file for legal protection.\n          </p>\n\n          {disclaimerAcceptances.map((acceptance, index) => (\n            <details key={index} style={{ marginBottom: '15px' }}>\n              <summary style={{\n                cursor: 'pointer',\n                fontWeight: '600',\n                padding: '12px',\n                backgroundColor: 'white',\n                borderRadius: '6px',\n                border: '1px solid #fbbf24',\n                marginBottom: '10px'\n              }}>\n                #{index + 1} - {acceptance.issueType} - {new Date(acceptance.timestamp).toLocaleString()}\n              </summary>\n              <div style={{\n                backgroundColor: 'white',\n                padding: '20px',\n                borderRadius: '6px',\n                border: '1px solid #e5e7eb',\n                fontSize: '14px'\n              }}>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Timestamp:</strong> {acceptance.timestamp}\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Issue Type:</strong> <span style={{\n                    backgroundColor: acceptance.issueType === 'UNVERIFIED' ? '#fee2e2' : '#fef3c7',\n                    padding: '4px 8px',\n                    borderRadius: '4px',\n                    fontWeight: '600'\n                  }}>{acceptance.issueType}</span>\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Address Used:</strong>\n                  <div style={{ marginLeft: '20px', marginTop: '5px' }}>\n                    {acceptance.addressUsed.address2}<br />\n                    {acceptance.addressUsed.address1 && <>{acceptance.addressUsed.address1}<br /></>}\n                    {acceptance.addressUsed.city}, {acceptance.addressUsed.state} {acceptance.addressUsed.zip5}\n                  </div>\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Acknowledged Risk:</strong> {acceptance.acknowledgedRisk ? '‚úÖ Yes' : '‚ùå No'}\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Confirmed Proceed:</strong> {acceptance.confirmedProceed ? '‚úÖ Yes' : '‚ùå No'}\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Disclaimer 1:</strong>\n                  <div style={{\n                    marginLeft: '20px',\n                    marginTop: '5px',\n                    padding: '10px',\n                    backgroundColor: '#f9fafb',\n                    borderLeft: '3px solid #f59e0b',\n                    fontStyle: 'italic'\n                  }}>\n                    {acceptance.disclaimer1Text}\n                  </div>\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                  <strong>Disclaimer 2:</strong>\n                  <div style={{\n                    marginLeft: '20px',\n                    marginTop: '5px',\n                    padding: '10px',\n                    backgroundColor: '#f9fafb',\n                    borderLeft: '3px solid #f59e0b',\n                    fontStyle: 'italic'\n                  }}>\n                    {acceptance.disclaimer2Text}\n                  </div>\n                </div>\n                {acceptance.context && (\n                  <div style={{ marginBottom: '15px' }}>\n                    <strong>Context:</strong> {acceptance.context}\n                  </div>\n                )}\n                <div style={{\n                  marginTop: '15px',\n                  paddingTop: '15px',\n                  borderTop: '1px solid #e5e7eb',\n                  fontSize: '12px',\n                  color: '#6b7280'\n                }}>\n                  <strong>User Agent:</strong> {acceptance.userAgent}\n                </div>\n              </div>\n            </details>\n          ))}\n\n          <div style={{\n            marginTop: '20px',\n            padding: '15px',\n            backgroundColor: '#fee2e2',\n            border: '1px solid #fca5a5',\n            borderRadius: '6px'\n          }}>\n            <p style={{ color: '#991b1b', fontSize: '14px', fontWeight: '600', marginBottom: '10px' }}>\n              ‚ö†Ô∏è PRODUCTION IMPLEMENTATION REQUIRED:\n            </p>\n            <ul style={{ color: '#7f1d1d', fontSize: '13px', marginLeft: '20px' }}>\n              <li>Save to customer database with customer ID</li>\n              <li>Include in customer data export/download</li>\n              <li>Preserve in audit logs</li>\n              <li>Include in legal document packages</li>\n              <li>Retain for compliance period (7+ years recommended)</li>\n            </ul>\n          </div>\n        </div>\n      )}\n\n      {/* User-Friendly Modal */}\n      {showModal && result && (\n        <AddressValidationModal\n          enteredAddress={address}\n          validationResult={result}\n          onAcceptCorrection={handleAcceptCorrection}\n          onEdit={handleEdit}\n          onProceedAnyway={handleProceedAnyway}\n          onClose={() => setShowModal(false)}\n          customerId=\"TEST_CUSTOMER_123\" // In production: use actual customer ID\n        />\n      )}\n\n      {/* Developer Debug Info (collapsible) */}\n      {result && (\n        <details style={{ marginTop: '20px' }}>\n          <summary style={{\n            cursor: 'pointer',\n            fontWeight: '600',\n            padding: '10px',\n            backgroundColor: '#f1f5f9',\n            borderRadius: '6px'\n          }}>\n            üîß Developer Debug Info\n          </summary>\n          <div style={{\n            backgroundColor: '#f8fafc',\n            border: '1px solid #e2e8f0',\n            padding: '20px',\n            borderRadius: '8px',\n            marginTop: '10px'\n          }}>\n            <h4 style={{ marginBottom: '10px', fontWeight: '600' }}>Full API Response:</h4>\n            <div style={{\n              backgroundColor: 'white',\n              padding: '15px',\n              borderRadius: '6px',\n              border: '1px solid #e5e7eb',\n              fontSize: '12px'\n            }}>\n              <pre style={{ margin: 0, whiteSpace: 'pre-wrap' }}>\n                {JSON.stringify(result, null, 2)}\n              </pre>\n            </div>\n          </div>\n        </details>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\test-checkout-router\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":153,"column":29,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5318,5374],"text":"\n                    What You&apos;ll See:\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5318,5374],"text":"\n                    What You&lsquo;ll See:\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5318,5374],"text":"\n                    What You&#39;ll See:\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5318,5374],"text":"\n                    What You&rsquo;ll See:\n                  "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":156,"column":57,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5518,5568],"text":" &quot;Account Required\" notice with dashboard features"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5518,5568],"text":" &ldquo;Account Required\" notice with dashboard features"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5518,5568],"text":" &#34;Account Required\" notice with dashboard features"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5518,5568],"text":" &rdquo;Account Required\" notice with dashboard features"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":156,"column":74,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5518,5568],"text":" \"Account Required&quot; notice with dashboard features"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5518,5568],"text":" \"Account Required&ldquo; notice with dashboard features"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5518,5568],"text":" \"Account Required&#34; notice with dashboard features"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5518,5568],"text":" \"Account Required&rdquo; notice with dashboard features"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":157,"column":73,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5630,5685],"text":" Choice between &quot;Create Account\" or \"Continue as Guest\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5630,5685],"text":" Choice between &ldquo;Create Account\" or \"Continue as Guest\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5630,5685],"text":" Choice between &#34;Create Account\" or \"Continue as Guest\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5630,5685],"text":" Choice between &rdquo;Create Account\" or \"Continue as Guest\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":157,"column":88,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account&quot; or \"Continue as Guest\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account&ldquo; or \"Continue as Guest\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account&#34; or \"Continue as Guest\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account&rdquo; or \"Continue as Guest\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":157,"column":93,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or &quot;Continue as Guest\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or &ldquo;Continue as Guest\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or &#34;Continue as Guest\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or &rdquo;Continue as Guest\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":157,"column":111,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or \"Continue as Guest&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or \"Continue as Guest&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or \"Continue as Guest&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[5630,5685],"text":" Choice between \"Create Account\" or \"Continue as Guest&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Checkout Router Test Page\n * \n * Test page to demonstrate conditional checkout routing with UPL compliance\n */\n\n'use client';\n\nimport { useState } from 'react';\nimport CheckoutRouter from '@/components/checkout/CheckoutRouter';\n\nexport default function TestCheckoutRouterPage() {\n  const [selectedService, setSelectedService] = useState<string | null>(null);\n\n  // Test services - mix of account-required and guest-allowed\n  const testServices = [\n    {\n      type: 'LLC_FORMATION',\n      name: 'LLC Formation',\n      price: 225,\n      description: 'Account REQUIRED - Ongoing RA service',\n      color: 'blue',\n    },\n    {\n      type: 'CORP_FORMATION',\n      name: 'Corporation Formation',\n      price: 170,\n      description: 'Account REQUIRED - Ongoing RA service',\n      color: 'blue',\n    },\n    {\n      type: 'ANNUAL_REPORT',\n      name: 'Annual Report Filing',\n      price: 188.75,\n      description: 'Account REQUIRED - Compliance tracking',\n      color: 'blue',\n    },\n    {\n      type: 'REGISTERED_AGENT',\n      name: 'Registered Agent Service',\n      price: 99,\n      description: 'Account REQUIRED - Document delivery',\n      color: 'blue',\n    },\n    {\n      type: 'OPERATING_AGREEMENT',\n      name: 'Operating Agreement',\n      price: 149,\n      description: 'Guest checkout ALLOWED - One-time document',\n      color: 'green',\n    },\n    {\n      type: 'CORPORATE_BYLAWS',\n      name: 'Corporate Bylaws',\n      price: 149,\n      description: 'Guest checkout ALLOWED - One-time document',\n      color: 'green',\n    },\n    {\n      type: 'CERTIFICATE_OF_STATUS',\n      name: 'Certificate of Status',\n      price: 50,\n      description: 'Guest checkout ALLOWED - One-time certificate',\n      color: 'green',\n    },\n    {\n      type: 'EIN_APPLICATION',\n      name: 'EIN Application',\n      price: 99,\n      description: 'Guest checkout ALLOWED - One-time service',\n      color: 'green',\n    },\n  ];\n\n  const handleBack = () => {\n    setSelectedService(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-sky-50\">\n      {!selectedService ? (\n        // Service Selection Screen\n        <div className=\"py-12 px-4\">\n          <div className=\"max-w-6xl mx-auto\">\n            {/* Header */}\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-5xl font-bold text-slate-900 mb-4\">\n                üß™ Checkout Router Test Page\n              </h1>\n              <p className=\"text-xl text-slate-600 mb-2\">\n                Test conditional checkout with UPL compliance\n              </p>\n              <p className=\"text-sm text-slate-500\">\n                Select a service below to see how the checkout router handles account requirements\n              </p>\n            </div>\n\n            {/* Legend */}\n            <div className=\"bg-white rounded-lg shadow-lg p-6 mb-8\">\n              <h2 className=\"text-xl font-bold text-slate-900 mb-4\">Legend:</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-4 h-4 bg-blue-500 rounded\"></div>\n                  <span className=\"text-sm text-slate-700\">\n                    <strong>Blue</strong> = Account REQUIRED (no guest checkout)\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-4 h-4 bg-green-500 rounded\"></div>\n                  <span className=\"text-sm text-slate-700\">\n                    <strong>Green</strong> = Guest checkout ALLOWED\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Service Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              {testServices.map((service) => (\n                <button\n                  key={service.type}\n                  onClick={() => setSelectedService(service.type)}\n                  className={`text-left p-6 rounded-lg border-2 transition-all hover:scale-105 hover:shadow-xl ${\n                    service.color === 'blue'\n                      ? 'border-blue-300 bg-blue-50 hover:border-blue-500'\n                      : 'border-green-300 bg-green-50 hover:border-green-500'\n                  }`}\n                >\n                  <div className=\"text-3xl mb-3\">\n                    {service.color === 'blue' ? 'üîê' : 'üìÑ'}\n                  </div>\n                  <h3 className=\"font-bold text-slate-900 mb-2\">\n                    {service.name}\n                  </h3>\n                  <p className=\"text-2xl font-semibold text-sky-600 mb-3\">\n                    ${service.price.toFixed(2)}\n                  </p>\n                  <p className={`text-xs ${\n                    service.color === 'blue' ? 'text-blue-700' : 'text-green-700'\n                  }`}>\n                    {service.description}\n                  </p>\n                </button>\n              ))}\n            </div>\n\n            {/* Info Box */}\n            <div className=\"mt-12 bg-amber-50 border-2 border-amber-300 rounded-lg p-6\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"text-2xl\">üí°</div>\n                <div>\n                  <h3 className=\"font-bold text-amber-900 mb-2\">\n                    What You'll See:\n                  </h3>\n                  <ul className=\"text-sm text-amber-800 space-y-1 list-disc ml-5\">\n                    <li><strong>Blue services:</strong> \"Account Required\" notice with dashboard features</li>\n                    <li><strong>Green services:</strong> Choice between \"Create Account\" or \"Continue as Guest\"</li>\n                    <li><strong>All services:</strong> UPL disclaimer + Terms of Service acceptance required</li>\n                    <li><strong>All services:</strong> Privacy Policy acceptance required</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        // Checkout Router Screen\n        <div>\n          {/* Back Button */}\n          <div className=\"bg-white border-b border-slate-200 py-4 px-4\">\n            <div className=\"max-w-4xl mx-auto\">\n              <button\n                onClick={handleBack}\n                className=\"text-sky-600 hover:text-sky-700 font-semibold flex items-center gap-2\"\n              >\n                ‚Üê Back to Service Selection\n              </button>\n            </div>\n          </div>\n\n          {/* Checkout Router Component */}\n          <CheckoutRouter\n            serviceType={selectedService}\n            serviceName={testServices.find(s => s.type === selectedService)?.name || ''}\n            servicePrice={testServices.find(s => s.type === selectedService)?.price || 0}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\test-risk-scoring\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":7,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":7,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[186,189],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[186,189],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":256,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":256,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10220,10223],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10220,10223],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\n\nexport default function TestRiskScoringPage() {\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState<any>(null);\n\n  // Test data\n  const [customerData, setCustomerData] = useState({\n    email: 'test@example.com',\n    name: 'John Doe',\n    phone: '555-1234',\n    ipAddress: '192.168.1.1',\n    userAgent: 'Mozilla/5.0...'\n  });\n\n  const [orderData, setOrderData] = useState({\n    amount: 299,\n    services: ['LLC_FORMATION'],\n    isRushOrder: false,\n    paymentMethod: 'credit_card'\n  });\n\n  const runRiskAssessment = async () => {\n    setLoading(true);\n    setResult(null);\n\n    try {\n      // In a real implementation, this would be called from your order creation API\n      // For testing, we'll call the risk scoring service directly\n      const response = await fetch('/api/test-risk-assessment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          customerData,\n          orderData\n        })\n      });\n\n      const data = await response.json();\n      setResult(data);\n    } catch (error) {\n      console.error('Error:', error);\n      setResult({ error: 'Failed to assess risk' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getRiskLevelColor = (level: string) => {\n    switch (level) {\n      case 'CRITICAL': return 'bg-red-100 text-red-800 border-red-500';\n      case 'HIGH': return 'bg-orange-100 text-orange-800 border-orange-500';\n      case 'MEDIUM': return 'bg-yellow-100 text-yellow-800 border-yellow-500';\n      case 'LOW': return 'bg-green-100 text-green-800 border-green-500';\n      default: return 'bg-gray-100 text-gray-800 border-gray-500';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\n          ü§ñ AI Risk Scoring Test Page\n        </h1>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Customer Data</h2>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n              <input\n                type=\"email\"\n                value={customerData.email}\n                onChange={(e) => setCustomerData({ ...customerData, email: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"customer@example.com\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\n              <input\n                type=\"text\"\n                value={customerData.name}\n                onChange={(e) => setCustomerData({ ...customerData, name: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"John Doe\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone</label>\n              <input\n                type=\"tel\"\n                value={customerData.phone}\n                onChange={(e) => setCustomerData({ ...customerData, phone: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"555-1234\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">IP Address</label>\n              <input\n                type=\"text\"\n                value={customerData.ipAddress}\n                onChange={(e) => setCustomerData({ ...customerData, ipAddress: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"192.168.1.1\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Order Data</h2>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Amount ($)</label>\n              <input\n                type=\"number\"\n                value={orderData.amount}\n                onChange={(e) => setOrderData({ ...orderData, amount: parseFloat(e.target.value) })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                placeholder=\"299\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Payment Method</label>\n              <select\n                value={orderData.paymentMethod}\n                onChange={(e) => setOrderData({ ...orderData, paymentMethod: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n              >\n                <option value=\"credit_card\">Credit Card</option>\n                <option value=\"debit_card\">Debit Card</option>\n                <option value=\"prepaid_card\">Prepaid Card</option>\n                <option value=\"bank_transfer\">Bank Transfer</option>\n                <option value=\"paypal\">PayPal</option>\n              </select>\n            </div>\n            <div className=\"col-span-2\">\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={orderData.isRushOrder}\n                  onChange={(e) => setOrderData({ ...orderData, isRushOrder: e.target.checked })}\n                  className=\"w-4 h-4\"\n                />\n                <span className=\"text-sm font-medium text-gray-700\">Rush Order</span>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Test Scenarios */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\n          <h3 className=\"font-semibold text-blue-900 mb-3\">üß™ Quick Test Scenarios</h3>\n          <div className=\"grid grid-cols-2 gap-3\">\n            <button\n              onClick={() => {\n                setCustomerData({\n                  email: 'legitimate@gmail.com',\n                  name: 'Jane Smith',\n                  phone: '555-1234',\n                  ipAddress: '192.168.1.1',\n                  userAgent: 'Mozilla/5.0...'\n                });\n                setOrderData({\n                  amount: 299,\n                  services: ['LLC_FORMATION'],\n                  isRushOrder: false,\n                  paymentMethod: 'credit_card'\n                });\n              }}\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm\"\n            >\n              ‚úÖ Low Risk Customer\n            </button>\n            <button\n              onClick={() => {\n                setCustomerData({\n                  email: 'test@tempmail.com',\n                  name: 'John Smith',\n                  phone: '',\n                  ipAddress: '185.220.101.50',\n                  userAgent: 'Mozilla/5.0...'\n                });\n                setOrderData({\n                  amount: 500,\n                  services: ['LLC_FORMATION', 'EXPEDITED_PROCESSING'],\n                  isRushOrder: true,\n                  paymentMethod: 'prepaid_card'\n                });\n              }}\n              className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm\"\n            >\n              üö® High Risk Customer\n            </button>\n          </div>\n        </div>\n\n        <button\n          onClick={runRiskAssessment}\n          disabled={loading}\n          className=\"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50 mb-6\"\n        >\n          {loading ? 'üîÑ Analyzing Risk...' : 'ü§ñ Run AI Risk Assessment'}\n        </button>\n\n        {/* Results */}\n        {result && (\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <h2 className=\"text-xl font-semibold mb-4\">Assessment Results</h2>\n\n            {result.error ? (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800\">\n                ‚ùå Error: {result.error}\n              </div>\n            ) : (\n              <>\n                {/* Risk Score */}\n                <div className=\"mb-6\">\n                  <div className=\"flex items-center justify-between mb-2\">\n                    <span className=\"font-semibold text-gray-700\">Risk Score</span>\n                    <span className={`px-4 py-2 rounded-full font-bold border-2 ${getRiskLevelColor(result.riskLevel)}`}>\n                      {result.riskLevel} - {result.riskScore}/100\n                    </span>\n                  </div>\n                  <div className=\"w-full bg-gray-200 rounded-full h-4\">\n                    <div\n                      className={`h-4 rounded-full ${\n                        result.riskScore >= 76 ? 'bg-red-500' :\n                        result.riskScore >= 51 ? 'bg-orange-500' :\n                        result.riskScore >= 26 ? 'bg-yellow-500' :\n                        'bg-green-500'\n                      }`}\n                      style={{ width: `${result.riskScore}%` }}\n                    />\n                  </div>\n                </div>\n\n                {/* Recommendation */}\n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n                  <div className=\"font-semibold text-blue-900 mb-2\">ü§ñ AI Recommendation</div>\n                  <div className=\"text-blue-800 font-medium mb-2\">{result.recommendation}</div>\n                  <div className=\"text-blue-700 text-sm\">{result.reasoning}</div>\n                </div>\n\n                {/* Risk Factors */}\n                {result.riskFactors && result.riskFactors.length > 0 && (\n                  <div>\n                    <h3 className=\"font-semibold text-gray-900 mb-3\">\n                      Risk Factors Detected ({result.riskFactors.length})\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {result.riskFactors.map((factor: any, idx: number) => (\n                        <div key={idx} className=\"border-l-4 border-gray-300 pl-4 py-2 bg-gray-50 rounded\">\n                          <div className=\"flex items-center justify-between mb-1\">\n                            <span className=\"font-medium text-gray-900\">{factor.factor}</span>\n                            <span className={`text-sm font-semibold ${\n                              factor.severity === 'critical' ? 'text-red-700' :\n                              factor.severity === 'high' ? 'text-orange-700' :\n                              factor.severity === 'medium' ? 'text-yellow-700' :\n                              'text-blue-700'\n                            }`}>\n                              {factor.severity.toUpperCase()} (+{factor.points} points)\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-gray-600\">{factor.description}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Action Required */}\n                <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                  <div className=\"font-semibold text-yellow-900 mb-2\">‚ö†Ô∏è Next Steps</div>\n                  <div className=\"text-yellow-800 text-sm\">\n                    {result.requiresReview ? (\n                      <>This order requires manual review before processing. It will appear in the Risk Management Dashboard.</>\n                    ) : (\n                      <>This order can be processed automatically. No manual review required.</>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\test-upsells\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":132,"column":71,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4415,4431],"text":"What You&apos;ll See:"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4415,4431],"text":"What You&lsquo;ll See:"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4415,4431],"text":"What You&#39;ll See:"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4415,4431],"text":"What You&rsquo;ll See:"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\n\nexport default function TestUpsellsPage() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [orderId, setOrderId] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const createTestOrder = async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/test-upsells/create-order', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create test order');\n      }\n\n      const data = await response.json();\n      setOrderId(data.orderId);\n      \n      // Redirect to checkout page\n      router.push(`/checkout/${data.orderId}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-slate-600\">Loading...</p>\n      </div>\n    );\n  }\n\n  if (status === 'unauthenticated') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-slate-900 mb-4\">Sign In Required</h1>\n          <p className=\"text-slate-600 mb-6\">You must be signed in to test upsells</p>\n          <a\n            href=\"/auth/signin?callbackUrl=/test-upsells\"\n            className=\"inline-block px-6 py-3 bg-sky-600 text-white rounded-lg font-semibold hover:bg-sky-700\"\n          >\n            Sign In\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-sky-50 to-blue-50\" style={{ padding: '64px 24px' }}>\n      <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n        <div\n          className=\"rounded-xl bg-white\"\n          style={{\n            border: '2px solid #e2e8f0',\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.08)',\n            padding: '48px',\n          }}\n        >\n          <h1 className=\"text-3xl font-bold text-slate-900 mb-4\">Test Checkout Upsells</h1>\n          \n          <div className=\"mb-8\">\n            <p className=\"text-slate-600 mb-2\">\n              <strong>Signed in as:</strong> {session?.user?.email}\n            </p>\n            <p className=\"text-slate-600\">\n              Click the button below to create a test individual service order (LLC Formation) and see the upsells in action.\n            </p>\n          </div>\n\n          {error && (\n            <div\n              className=\"rounded-lg bg-red-50 mb-6\"\n              style={{\n                border: '2px solid #ef4444',\n                padding: '16px',\n              }}\n            >\n              <p className=\"text-red-800 font-semibold\">Error: {error}</p>\n            </div>\n          )}\n\n          {orderId && (\n            <div\n              className=\"rounded-lg bg-emerald-50 mb-6\"\n              style={{\n                border: '2px solid #10b981',\n                padding: '16px',\n              }}\n            >\n              <p className=\"text-emerald-800 font-semibold\">\n                ‚úÖ Test order created! Order ID: {orderId}\n              </p>\n              <p className=\"text-emerald-700 text-sm mt-2\">\n                Redirecting to checkout page...\n              </p>\n            </div>\n          )}\n\n          <button\n            onClick={createTestOrder}\n            disabled={loading}\n            className=\"w-full rounded-xl font-bold text-white transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n            style={{\n              background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n              border: '3px solid #0284c7',\n              boxShadow: '0 4px 12px rgba(14, 165, 233, 0.4)',\n              padding: '16px 24px',\n              fontSize: '18px',\n            }}\n          >\n            {loading ? 'Creating Test Order...' : 'üöÄ Create Test Order & View Upsells'}\n          </button>\n\n          <div className=\"mt-8 pt-8 border-t border-slate-200\">\n            <h2 className=\"font-semibold text-slate-900 mb-4\">What You'll See:</h2>\n            <ul className=\"space-y-2 text-slate-600\">\n              <li>‚úÖ Individual LLC Formation order ($225)</li>\n              <li>‚úÖ 3 upsell recommendations (RA Service, Operating Agreement, EIN)</li>\n              <li>‚úÖ Bundle offer ($249 for all 3, save $24)</li>\n              <li>‚úÖ Real-time order total updates when adding upsells</li>\n              <li>‚úÖ Payment form with updated amount</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\app\\users\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":220,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8535,8582],"text":"Click &quot;Add Test User\" to create your first user"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8535,8582],"text":"Click &ldquo;Add Test User\" to create your first user"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8535,8582],"text":"Click &#34;Add Test User\" to create your first user"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8535,8582],"text":"Click &rdquo;Add Test User\" to create your first user"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":220,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[8535,8582],"text":"Click \"Add Test User&quot; to create your first user"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[8535,8582],"text":"Click \"Add Test User&ldquo; to create your first user"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[8535,8582],"text":"Click \"Add Test User&#34; to create your first user"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[8535,8582],"text":"Click \"Add Test User&rdquo; to create your first user"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface User {\n  id: string;\n  email: string;\n  name: string | null;\n  role: string;\n  createdAt: string;\n}\n\ninterface DatabaseStats {\n  totalUsers: number;\n  totalOrders: number;\n  totalDocuments: number;\n}\n\ninterface ApiResponse {\n  success: boolean;\n  message: string;\n  data: {\n    connection: string;\n    statistics: DatabaseStats;\n    users: User[];\n  };\n  timestamp: string;\n}\n\nexport default function UsersPage() {\n  const [data, setData] = useState<ApiResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [creating, setCreating] = useState(false);\n\n  const fetchUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/test-db');\n      const result = await response.json();\n      setData(result);\n      setError(null);\n    } catch (err) {\n      setError('Failed to fetch users');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const createTestUser = async () => {\n    try {\n      setCreating(true);\n      const response = await fetch('/api/test-db', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: `user-${Date.now()}@example.com`,\n          name: `Test User ${new Date().toLocaleTimeString()}`,\n        }),\n      });\n      \n      if (response.ok) {\n        // Refresh the user list\n        await fetchUsers();\n      }\n    } catch (err) {\n      console.error('Failed to create user:', err);\n    } finally {\n      setCreating(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600 font-medium\">Loading users...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-lg shadow-lg\">\n          <h2 className=\"text-2xl font-bold text-red-600 mb-4\">Error</h2>\n          <p className=\"text-gray-700\">{error}</p>\n          <button\n            onClick={fetchUsers}\n            className=\"mt-4 bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">\n            üöÄ LegalOps v1 - User Dashboard\n          </h1>\n          <p className=\"text-gray-600\">\n            Database Status: <span className=\"text-green-600 font-semibold\">‚úì Connected</span>\n          </p>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            {data?.data.connection}\n          </p>\n        </div>\n\n        {/* Statistics Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n          <div className=\"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-500 text-sm font-medium\">Total Users</p>\n                <p className=\"text-3xl font-bold text-gray-900 mt-1\">\n                  {data?.data.statistics.totalUsers || 0}\n                </p>\n              </div>\n              <div className=\"bg-blue-100 rounded-full p-3\">\n                <svg className=\"w-8 h-8 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-500 text-sm font-medium\">Total Orders</p>\n                <p className=\"text-3xl font-bold text-gray-900 mt-1\">\n                  {data?.data.statistics.totalOrders || 0}\n                </p>\n              </div>\n              <div className=\"bg-green-100 rounded-full p-3\">\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-gray-500 text-sm font-medium\">Total Documents</p>\n                <p className=\"text-3xl font-bold text-gray-900 mt-1\">\n                  {data?.data.statistics.totalDocuments || 0}\n                </p>\n              </div>\n              <div className=\"bg-purple-100 rounded-full p-3\">\n                <svg className=\"w-8 h-8 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"mb-6 flex gap-4\">\n          <button\n            onClick={createTestUser}\n            disabled={creating}\n            className=\"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n          >\n            {creating ? (\n              <>\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></div>\n                Creating...\n              </>\n            ) : (\n              <>\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                </svg>\n                Add Test User\n              </>\n            )}\n          </button>\n          \n          <button\n            onClick={fetchUsers}\n            className=\"bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 transition flex items-center gap-2\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n            Refresh\n          </button>\n        </div>\n\n        {/* Users Table */}\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\n          <div className=\"px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600\">\n            <h2 className=\"text-xl font-bold text-white\">Users</h2>\n          </div>\n          \n          {data?.data.users.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <svg className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n              <p className=\"text-gray-500 text-lg font-medium\">No users yet</p>\n              <p className=\"text-gray-400 text-sm mt-2\">Click \"Add Test User\" to create your first user</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Role</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Created</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">ID</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {data?.data.users.map((user) => (\n                    <tr key={user.id} className=\"hover:bg-gray-50 transition\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-gray-900\">{user.name || 'N/A'}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">{user.email}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className=\"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800\">\n                          {user.role}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {new Date(user.createdAt).toLocaleString()}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <code className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\n                          {user.id.substring(0, 12)}...\n                        </code>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Footer */}\n        <div className=\"mt-8 text-center text-sm text-gray-500\">\n          <p>Last updated: {data?.timestamp ? new Date(data.timestamp).toLocaleString() : 'N/A'}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\AddressValidationModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3192,3195],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3192,3195],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":123,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5011,5103],"text":"\n                Great! USPS has verified this address and it&apos;s ready to use.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5011,5103],"text":"\n                Great! USPS has verified this address and it&lsquo;s ready to use.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5011,5103],"text":"\n                Great! USPS has verified this address and it&#39;s ready to use.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5011,5103],"text":"\n                Great! USPS has verified this address and it&rsquo;s ready to use.\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":193,"column":160,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you&apos;re certain it's correct.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you&lsquo;re certain it's correct.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you&#39;re certain it's correct.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you&rsquo;re certain it's correct.\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":193,"column":174,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you're certain it&apos;s correct.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you're certain it&lsquo;s correct.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you're certain it&#39;s correct.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8884,9086],"text":"\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you're certain it&rsquo;s correct.\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport { AddressInput, AddressValidationResult, AddressDisclaimerAcceptance } from '@/lib/services/usps-address-validation';\n\ninterface AddressValidationModalProps {\n  /** The address that was entered by the user */\n  enteredAddress: AddressInput;\n  /** The validation result from USPS */\n  validationResult: AddressValidationResult;\n  /** Callback when user accepts the USPS-corrected address */\n  onAcceptCorrection: (correctedAddress: AddressInput, disclaimerAcceptance?: AddressDisclaimerAcceptance) => void;\n  /** Callback when user wants to edit the address */\n  onEdit: () => void;\n  /** Callback when user wants to proceed with their original address anyway */\n  onProceedAnyway: (originalAddress: AddressInput, disclaimerAcceptance: AddressDisclaimerAcceptance) => void;\n  /** Callback to close the modal */\n  onClose: () => void;\n  /** Optional customer ID for logging */\n  customerId?: string;\n}\n\nexport default function AddressValidationModal({\n  enteredAddress,\n  validationResult,\n  onAcceptCorrection,\n  onEdit,\n  onProceedAnyway,\n  onClose,\n  customerId,\n}: AddressValidationModalProps) {\n  const [showDetails, setShowDetails] = useState(false);\n  const [acknowledgeRisk, setAcknowledgeRisk] = useState(false);\n  const [confirmProceed, setConfirmProceed] = useState(false);\n\n  // Store disclaimer text for logging\n  const [disclaimer1Text, setDisclaimer1Text] = useState('');\n  const [disclaimer2Text, setDisclaimer2Text] = useState('');\n\n  // Determine the type of validation result\n  const isFullyValidated = validationResult.validated && validationResult.standardized;\n  const hasCorrections = validationResult.warnings && validationResult.warnings.length > 0;\n  const needsSecondaryAddress = validationResult.warnings?.some(w =>\n    w.includes('apartment') || w.includes('suite') || w.includes('box number')\n  );\n  const isUnverified = !validationResult.validated;\n  const hasMinorCorrections = validationResult.validated && hasCorrections && !needsSecondaryAddress;\n\n  // Determine if user needs to acknowledge risk before proceeding\n  const requiresAcknowledgment = isUnverified || needsSecondaryAddress || hasMinorCorrections;\n\n  /**\n   * Create disclaimer acceptance record for legal audit trail\n   */\n  const createDisclaimerAcceptance = (addressUsed: AddressInput): AddressDisclaimerAcceptance => {\n    const issueType: 'UNVERIFIED' | 'MISSING_SECONDARY' | 'CORRECTED_BY_USPS' =\n      isUnverified ? 'UNVERIFIED' :\n      needsSecondaryAddress ? 'MISSING_SECONDARY' :\n      'CORRECTED_BY_USPS';\n\n    return {\n      timestamp: new Date().toISOString(),\n      issueType,\n      addressUsed,\n      uspsValidatedAddress: validationResult.standardized,\n      acknowledgedRisk: acknowledgeRisk,\n      confirmedProceed: confirmProceed,\n      disclaimer1Text,\n      disclaimer2Text,\n      userAgent: typeof window !== 'undefined' ? window.navigator.userAgent : undefined,\n      customerId,\n      context: `Address validation modal - User chose to ${addressUsed === correctedAddress ? 'accept USPS correction' : 'use original address'}`\n    };\n  };\n\n  // Format address for display\n  const formatAddress = (addr: AddressInput | any) => {\n    const parts = [];\n    if (addr.address2) parts.push(addr.address2);\n    if (addr.address1) parts.push(addr.address1);\n    const cityStateZip = [\n      addr.city,\n      addr.state,\n      addr.zip5 ? (addr.zip4 ? `${addr.zip5}-${addr.zip4}` : addr.zip5) : ''\n    ].filter(Boolean).join(', ');\n    if (cityStateZip) parts.push(cityStateZip);\n    return parts.join('\\n');\n  };\n\n  const correctedAddress: AddressInput = validationResult.standardized ? {\n    firmName: validationResult.standardized.firmName,\n    address1: validationResult.standardized.address1,\n    address2: validationResult.standardized.address2,\n    city: validationResult.standardized.city,\n    state: validationResult.standardized.state,\n    zip5: validationResult.standardized.zip5,\n    zip4: validationResult.standardized.zip4,\n  } : enteredAddress;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"bg-blue-600 text-white px-8 py-5 rounded-t-lg\">\n          <h2 className=\"text-2xl font-semibold flex items-center gap-3\">\n            {isFullyValidated && !hasCorrections ? (\n              <>‚úì Address Verified</>\n            ) : needsSecondaryAddress ? (\n              <>‚ö†Ô∏è Additional Information Needed</>\n            ) : hasCorrections ? (\n              <>üìç Address Corrected</>\n            ) : (\n              <>‚ö†Ô∏è Address Could Not Be Verified</>\n            )}\n          </h2>\n        </div>\n\n        <div className=\"p-8\">\n          {/* Fully validated with no corrections */}\n          {isFullyValidated && !hasCorrections && (\n            <div className=\"mb-8\">\n              <p className=\"text-gray-700 text-lg mb-6\">\n                Great! USPS has verified this address and it's ready to use.\n              </p>\n              <div className=\"bg-green-50 border-2 border-green-300 rounded-lg p-6\">\n                <p className=\"font-semibold text-green-900 mb-3 text-lg\">Verified Address:</p>\n                <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed\">{formatAddress(correctedAddress)}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Needs secondary address (apt/suite) */}\n          {needsSecondaryAddress && (\n            <div className=\"mb-8\">\n              <div className=\"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 mb-6\">\n                <p className=\"font-semibold text-yellow-900 mb-3 text-lg\">‚ö†Ô∏è Missing Information</p>\n                <p className=\"text-gray-700 text-base leading-relaxed\">\n                  This address appears to be a multi-unit building. Please add an apartment, suite, or unit number to ensure accurate delivery.\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-6\">\n                <div>\n                  <p className=\"text-base font-semibold text-gray-700 mb-3\">You Entered:</p>\n                  <div className=\"bg-gray-50 border-2 border-gray-300 rounded-lg p-5\">\n                    <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed\">{formatAddress(enteredAddress)}</p>\n                  </div>\n                </div>\n                <div>\n                  <p className=\"text-base font-semibold text-gray-700 mb-3\">USPS Standardized:</p>\n                  <div className=\"bg-blue-50 border-2 border-blue-300 rounded-lg p-5\">\n                    <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed\">{formatAddress(correctedAddress)}</p>\n                    <p className=\"text-sm text-gray-600 mt-3 italic font-medium\">+ Apt/Suite # needed</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Has corrections but not missing secondary */}\n          {hasCorrections && !needsSecondaryAddress && (\n            <div className=\"mb-8\">\n              <div className=\"bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-6\">\n                <p className=\"font-semibold text-blue-900 mb-3 text-lg\">üìç USPS Corrected Your Address</p>\n                <p className=\"text-gray-700 text-base leading-relaxed\">\n                  USPS has standardized your address to match their official records. This helps ensure accurate delivery.\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-6\">\n                <div>\n                  <p className=\"text-base font-semibold text-gray-700 mb-3\">You Entered:</p>\n                  <div className=\"bg-gray-50 border-2 border-gray-300 rounded-lg p-5\">\n                    <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed\">{formatAddress(enteredAddress)}</p>\n                  </div>\n                </div>\n                <div>\n                  <p className=\"text-base font-semibold text-gray-700 mb-3\">USPS Corrected To:</p>\n                  <div className=\"bg-green-50 border-2 border-green-300 rounded-lg p-5\">\n                    <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed font-semibold\">{formatAddress(correctedAddress)}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Could not validate */}\n          {!validationResult.validated && (\n            <div className=\"mb-8\">\n              <div className=\"bg-red-50 border-2 border-red-300 rounded-lg p-6 mb-6\">\n                <p className=\"font-semibold text-red-900 mb-3 text-lg\">‚ö†Ô∏è Address Not Found</p>\n                <p className=\"text-gray-700 text-base leading-relaxed\">\n                  USPS could not verify this address. It may not exist, or there may be a typo. Please review and correct the address, or proceed anyway if you're certain it's correct.\n                </p>\n              </div>\n\n              <div className=\"bg-gray-50 border-2 border-gray-300 rounded-lg p-6\">\n                <p className=\"font-semibold text-gray-700 mb-3 text-base\">Address You Entered:</p>\n                <p className=\"text-gray-800 whitespace-pre-line text-base leading-relaxed\">{formatAddress(enteredAddress)}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Show warnings if any */}\n          {validationResult.warnings && validationResult.warnings.length > 0 && (\n            <div className=\"mb-8\">\n              <button\n                onClick={() => setShowDetails(!showDetails)}\n                className=\"text-base text-blue-600 hover:text-blue-800 underline font-medium\"\n              >\n                {showDetails ? '‚ñº Hide Details' : '‚ñ∂ Show Details'}\n              </button>\n\n              {showDetails && (\n                <div className=\"mt-4 bg-gray-50 border-2 border-gray-300 rounded-lg p-5\">\n                  <p className=\"text-sm font-semibold text-gray-700 mb-3\">USPS Notes:</p>\n                  <ul className=\"text-sm text-gray-700 space-y-2\">\n                    {validationResult.warnings.map((warning, idx) => (\n                      <li key={idx} className=\"leading-relaxed\">‚Ä¢ {warning}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Risk Acknowledgment Checkboxes (for unverified or problematic addresses) */}\n          {requiresAcknowledgment && (\n            <div className=\"mb-6 bg-yellow-50 border-2 border-yellow-400 rounded-lg p-6\">\n              <h3 className=\"font-semibold text-yellow-900 mb-4 text-lg flex items-center gap-2\">\n                ‚ö†Ô∏è Acknowledgment Required\n              </h3>\n\n              <div className=\"space-y-4\">\n                {/* First checkbox - Acknowledge risk */}\n                <label className=\"flex items-start gap-3 cursor-pointer group\">\n                  <input\n                    type=\"checkbox\"\n                    checked={acknowledgeRisk}\n                    onChange={(e) => {\n                      setAcknowledgeRisk(e.target.checked);\n                      // Capture disclaimer text when checked\n                      if (e.target.checked && !disclaimer1Text) {\n                        const text = isUnverified\n                          ? \"I understand that USPS could not verify this address and it may not exist or may be incorrect. I acknowledge that using an unverified address may result in delivery failures, returned mail, delays in legal filings, or other issues that could affect my legal matters.\"\n                          : needsSecondaryAddress\n                          ? \"I understand that this address appears to be a multi-unit building and may require an apartment, suite, or unit number for accurate delivery. I acknowledge that proceeding without this information may result in delivery failures or delays.\"\n                          : \"I understand that USPS has corrected my address to match their official records. I acknowledge that using my original address instead of the USPS-corrected version may result in delivery issues or delays.\";\n                        setDisclaimer1Text(text);\n                      }\n                    }}\n                    className=\"mt-1 w-5 h-5 rounded border-2 border-yellow-600 text-yellow-600 focus:ring-2 focus:ring-yellow-500 cursor-pointer\"\n                  />\n                  <span className=\"text-gray-800 text-base leading-relaxed group-hover:text-gray-900\">\n                    {isUnverified ? (\n                      <>\n                        I understand that <strong>USPS could not verify this address</strong> and it may not exist or may be incorrect.\n                        I acknowledge that using an unverified address may result in <strong>delivery failures, returned mail, delays in legal filings,\n                        or other issues</strong> that could affect my legal matters.\n                      </>\n                    ) : needsSecondaryAddress ? (\n                      <>\n                        I understand that this address appears to be a <strong>multi-unit building</strong> and may require an apartment,\n                        suite, or unit number for accurate delivery. I acknowledge that proceeding without this information may result in\n                        <strong> delivery failures or delays</strong>.\n                      </>\n                    ) : (\n                      <>\n                        I understand that <strong>USPS has corrected my address</strong> to match their official records.\n                        I acknowledge that using my original address instead of the USPS-corrected version may result in\n                        <strong> delivery issues or delays</strong>.\n                      </>\n                    )}\n                  </span>\n                </label>\n\n                {/* Second checkbox - Confirm proceeding */}\n                <label className=\"flex items-start gap-3 cursor-pointer group\">\n                  <input\n                    type=\"checkbox\"\n                    checked={confirmProceed}\n                    onChange={(e) => {\n                      setConfirmProceed(e.target.checked);\n                      // Capture disclaimer text when checked\n                      if (e.target.checked && !disclaimer2Text) {\n                        setDisclaimer2Text(\n                          \"I confirm that I have reviewed the address information above and I accept full responsibility for any consequences resulting from using this address. I understand that LegalOps is not liable for any delivery failures, missed deadlines, returned documents, or other issues that may arise from using an unverified or non-standard address.\"\n                        );\n                      }\n                    }}\n                    className=\"mt-1 w-5 h-5 rounded border-2 border-yellow-600 text-yellow-600 focus:ring-2 focus:ring-yellow-500 cursor-pointer\"\n                  />\n                  <span className=\"text-gray-800 text-base leading-relaxed group-hover:text-gray-900\">\n                    I confirm that I have reviewed the address information above and <strong>I accept full responsibility</strong> for any\n                    consequences resulting from using this address. I understand that <strong>LegalOps is not liable</strong> for any delivery\n                    failures, missed deadlines, returned documents, or other issues that may arise from using an unverified or non-standard address.\n                  </span>\n                </label>\n              </div>\n\n              {/* Warning if checkboxes not checked */}\n              {(!acknowledgeRisk || !confirmProceed) && (\n                <div className=\"mt-4 text-sm text-yellow-800 italic\">\n                  ‚ö†Ô∏è You must check both boxes above to proceed with this address.\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-col gap-4\">\n            {/* Accept Correction (if address was validated) */}\n            {validationResult.validated && (\n              <button\n                onClick={() => {\n                  // If requires acknowledgment, pass disclaimer acceptance record\n                  const disclaimerAcceptance = requiresAcknowledgment\n                    ? createDisclaimerAcceptance(correctedAddress)\n                    : undefined;\n                  onAcceptCorrection(correctedAddress, disclaimerAcceptance);\n                }}\n                className=\"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors text-lg shadow-md hover:shadow-lg\"\n              >\n                {needsSecondaryAddress\n                  ? '‚úì Use This Address & Add Apt/Suite Number'\n                  : '‚úì Use USPS Corrected Address'}\n              </button>\n            )}\n\n            {/* Edit Address */}\n            <button\n              onClick={() => {\n                setAcknowledgeRisk(false);\n                setConfirmProceed(false);\n                onEdit();\n              }}\n              className=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors text-lg shadow-md hover:shadow-lg\"\n            >\n              ‚úèÔ∏è Edit Address\n            </button>\n\n            {/* Proceed Anyway (with warning if not validated) */}\n            <button\n              onClick={() => {\n                // ALWAYS create and pass disclaimer acceptance record when proceeding anyway\n                const disclaimerAcceptance = createDisclaimerAcceptance(enteredAddress);\n                onProceedAnyway(enteredAddress, disclaimerAcceptance);\n              }}\n              disabled={requiresAcknowledgment && (!acknowledgeRisk || !confirmProceed)}\n              className={`w-full font-semibold py-4 px-6 rounded-lg transition-colors text-lg shadow-md ${\n                requiresAcknowledgment && (!acknowledgeRisk || !confirmProceed)\n                  ? 'bg-gray-300 text-gray-500 cursor-not-allowed opacity-60'\n                  : validationResult.validated\n                  ? 'bg-gray-200 hover:bg-gray-300 text-gray-700 hover:shadow-lg'\n                  : 'bg-yellow-600 hover:bg-yellow-700 text-white hover:shadow-lg'\n              }`}\n            >\n              {validationResult.validated\n                ? 'Use My Original Address Instead'\n                : '‚ö†Ô∏è Proceed With Unverified Address Anyway'}\n            </button>\n\n            {/* Cancel */}\n            <button\n              onClick={onClose}\n              className=\"w-full bg-white hover:bg-gray-50 text-gray-700 font-semibold py-3 px-6 rounded-lg border-2 border-gray-300 transition-colors text-base\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\BusinessSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\CheckoutServiceUpsells.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Info' is defined but never used.","line":4,"column":63,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":67}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport { ShieldCheck, FileText, Building2, TrendingUp, Clock, Info } from 'lucide-react';\nimport { getServiceDataRequirements } from '@/config/service-data-requirements';\n\ninterface UpsellItem {\n  id: string;\n  name: string;\n  price: number;\n  description: string;\n  benefit: string;\n  urgency?: string;\n  socialProof?: string;\n  icon: 'shield' | 'file' | 'building' | 'trending';\n  category: 'essential' | 'recommended' | 'optional';\n  serviceType?: string; // Maps to ServiceType enum for database\n}\n\ninterface UpsellBundle {\n  id: string;\n  name: string;\n  itemIds: string[];\n  originalPrice: number;\n  bundlePrice: number;\n  savings: number;\n  description: string;\n}\n\ninterface CheckoutServiceUpsellsProps {\n  serviceType: string;\n  onAddUpsell: (upsellId: string, price: number, serviceType?: string) => void;\n  onRemoveUpsell: (upsellId: string, price: number) => void;\n  onAddBundle: (bundleId: string, itemIds: string[], price: number, itemServiceTypes?: Record<string, string>) => void;\n  onRemoveBundle: (bundleId: string, itemIds: string[], price: number) => void;\n  addedUpsells?: string[];\n}\n\n// Icon mapping\nconst iconMap = {\n  shield: ShieldCheck,\n  file: FileText,\n  building: Building2,\n  trending: TrendingUp,\n};\n\n// Upsell configurations by service type\nconst upsellConfigs: Record<string, { upsells: UpsellItem[]; bundles?: UpsellBundle[] }> = {\n  LLC_FORMATION: {\n    upsells: [\n      {\n        id: 'registered-agent',\n        name: 'Registered Agent Service',\n        price: 125,\n        description: 'Professional registered agent service for your LLC',\n        benefit: 'Let us handle all legal correspondence for you',\n        urgency: 'Required by Florida law - don\\'t risk missing important legal documents',\n        socialProof: '85% of our customers choose this',\n        icon: 'shield',\n        category: 'essential',\n        serviceType: 'REGISTERED_AGENT',\n      },\n      {\n        id: 'operating-agreement',\n        name: 'Operating Agreement',\n        price: 99,\n        description: 'Customized operating agreement for your LLC',\n        benefit: 'Protect your personal assets and define ownership structure',\n        socialProof: '90% of our customers add this',\n        icon: 'file',\n        category: 'recommended',\n        serviceType: 'OPERATING_AGREEMENT',\n      },\n      {\n        id: 'ein-application',\n        name: 'EIN Application',\n        price: 49,\n        description: 'Federal Employer Identification Number from the IRS',\n        benefit: 'Get your federal tax ID to open a business bank account',\n        urgency: 'Needed to hire employees or open business accounts',\n        icon: 'building',\n        category: 'recommended',\n        serviceType: 'EIN_APPLICATION',\n      },\n    ],\n    bundles: [\n      {\n        id: 'complete-startup-bundle',\n        name: 'Complete Startup Bundle',\n        itemIds: ['registered-agent', 'operating-agreement', 'ein-application'],\n        originalPrice: 273,\n        bundlePrice: 249,\n        savings: 24,\n        description: 'Everything you need to start your LLC the right way',\n      },\n    ],\n  },\n  CORP_FORMATION: {\n    upsells: [\n      {\n        id: 'registered-agent',\n        name: 'Registered Agent Service',\n        price: 125,\n        description: 'Professional registered agent service for your corporation',\n        benefit: 'Let us handle all legal correspondence for you',\n        urgency: 'Required by Florida law',\n        socialProof: '85% of our customers choose this',\n        icon: 'shield',\n        category: 'essential',\n        serviceType: 'REGISTERED_AGENT',\n      },\n      {\n        id: 'corporate-bylaws',\n        name: 'Corporate Bylaws',\n        price: 99,\n        description: 'Customized bylaws for your corporation',\n        benefit: 'Establish rules for running your corporation',\n        urgency: 'Required by most banks and investors',\n        icon: 'file',\n        category: 'essential',\n        serviceType: 'CORPORATE_BYLAWS',\n      },\n      {\n        id: 'ein-application',\n        name: 'EIN Application',\n        price: 49,\n        description: 'Federal Employer Identification Number from the IRS',\n        benefit: 'Get your federal tax ID to open a business bank account',\n        icon: 'building',\n        category: 'recommended',\n        serviceType: 'EIN_APPLICATION',\n      },\n    ],\n    bundles: [\n      {\n        id: 'complete-corp-bundle',\n        name: 'Complete Corporation Bundle',\n        itemIds: ['registered-agent', 'corporate-bylaws', 'ein-application'],\n        originalPrice: 273,\n        bundlePrice: 249,\n        savings: 24,\n        description: 'Everything you need to start your corporation',\n      },\n    ],\n  },\n  LLC_ANNUAL_REPORT: {\n    upsells: [\n      {\n        id: 'certificate-of-status',\n        name: 'Certificate of Status',\n        price: 30,\n        description: 'Official proof your LLC is in good standing',\n        benefit: 'Required by banks, lenders, and vendors',\n        icon: 'file',\n        category: 'recommended',\n        serviceType: 'CERTIFICATE_OF_STATUS',\n      },\n    ],\n  },\n  CORP_ANNUAL_REPORT: {\n    upsells: [\n      {\n        id: 'certificate-of-status',\n        name: 'Certificate of Status',\n        price: 30,\n        description: 'Official proof your corporation is in good standing',\n        benefit: 'Required by banks, lenders, and vendors',\n        icon: 'file',\n        category: 'recommended',\n        serviceType: 'CERTIFICATE_OF_STATUS',\n      },\n    ],\n  },\n};\n\nexport function CheckoutServiceUpsells({ serviceType, onAddUpsell, onRemoveUpsell, onAddBundle, onRemoveBundle, addedUpsells = [] }: CheckoutServiceUpsellsProps) {\n  const [selectedBundle, setSelectedBundle] = useState<string | null>(null);\n\n  const config = upsellConfigs[serviceType];\n\n  // Don't show upsells if no configuration exists for this service type\n  if (!config || !config.upsells || config.upsells.length === 0) {\n    return null;\n  }\n\n  const handleToggleUpsell = (upsell: UpsellItem) => {\n    const isAdded = addedUpsells.includes(upsell.id);\n    if (isAdded) {\n      onRemoveUpsell(upsell.id, upsell.price);\n    } else {\n      onAddUpsell(upsell.id, upsell.price, upsell.serviceType);\n    }\n  };\n\n  const handleToggleBundle = (bundle: UpsellBundle) => {\n    const isSelected = selectedBundle === bundle.id;\n    if (isSelected) {\n      setSelectedBundle(null);\n      onRemoveBundle(bundle.id, bundle.itemIds, bundle.bundlePrice);\n    } else {\n      setSelectedBundle(bundle.id);\n\n      // Create a map of itemId -> serviceType for the bundle\n      const itemServiceTypes: Record<string, string> = {};\n      bundle.itemIds.forEach((itemId) => {\n        const upsell = config.upsells.find((u) => u.id === itemId);\n        if (upsell?.serviceType) {\n          itemServiceTypes[itemId] = upsell.serviceType;\n        }\n      });\n\n      onAddBundle(bundle.id, bundle.itemIds, bundle.bundlePrice, itemServiceTypes);\n    }\n  };\n\n  return (\n    <div\n      className=\"rounded-xl bg-gradient-to-br from-amber-50 to-orange-50\"\n      style={{\n        border: '2px solid #f59e0b',\n        boxShadow: '0 4px 12px rgba(245, 158, 11, 0.15)',\n        padding: '28px',\n        marginTop: '32px',\n      }}\n    >\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div\n          className=\"rounded-full\"\n          style={{\n            width: '48px',\n            height: '48px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\n            boxShadow: '0 4px 12px rgba(245, 158, 11, 0.3)',\n          }}\n        >\n          <TrendingUp className=\"w-6 h-6 text-white\" />\n        </div>\n        <div>\n          <h3 className=\"font-bold text-amber-900\" style={{ fontSize: '20px', lineHeight: '1.2' }}>\n            Recommended Add-Ons\n          </h3>\n          <p className=\"text-amber-700\" style={{ fontSize: '14px' }}>\n            Complete your setup with these essential services\n          </p>\n        </div>\n      </div>\n\n      {/* Individual Upsells */}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '20px', marginBottom: '24px' }}>\n        {config.upsells.map((upsell) => {\n          const Icon = iconMap[upsell.icon];\n          const isAdded = addedUpsells.includes(upsell.id);\n          const dataRequirements = upsell.serviceType ? getServiceDataRequirements(upsell.serviceType) : null;\n\n          return (\n            <div\n              key={upsell.id}\n              className=\"bg-white rounded-lg\"\n              style={{\n                border: isAdded ? '2px solid #10b981' : '2px solid #e5e7eb',\n                padding: '20px',\n                transition: 'all 0.2s',\n              }}\n            >\n              <div className=\"flex items-start gap-4\">\n                <div\n                  className=\"rounded-full flex-shrink-0\"\n                  style={{\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    background: isAdded\n                      ? 'linear-gradient(135deg, #10b981 0%, #059669 100%)'\n                      : 'linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)',\n                    border: isAdded ? '2px solid #10b981' : '2px solid #d1d5db',\n                  }}\n                >\n                  <Icon className={`w-5 h-5 ${isAdded ? 'text-white' : 'text-slate-600'}`} />\n                </div>\n\n                <div className=\"flex-1\">\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div>\n                      <h4 className=\"font-semibold text-slate-900\" style={{ fontSize: '16px' }}>\n                        {upsell.name}\n                      </h4>\n                      <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5', marginTop: '4px' }}>\n                        {upsell.description}\n                      </p>\n                    </div>\n                    <span className=\"font-bold text-slate-900 ml-4\" style={{ fontSize: '18px' }}>\n                      ${upsell.price}\n                    </span>\n                  </div>\n\n                  <p className=\"text-emerald-700 font-medium\" style={{ fontSize: '14px', marginBottom: '8px' }}>\n                    ‚úì {upsell.benefit}\n                  </p>\n\n                  {upsell.urgency && (\n                    <p className=\"text-amber-700 text-sm mb-2\">‚ö†Ô∏è {upsell.urgency}</p>\n                  )}\n\n                  {upsell.socialProof && (\n                    <p className=\"text-slate-600 text-sm mb-3\">üë• {upsell.socialProof}</p>\n                  )}\n\n                  <button\n                    onClick={() => handleToggleUpsell(upsell)}\n                    className={`font-semibold rounded-lg transition-all duration-200 ${\n                      isAdded\n                        ? 'bg-red-100 text-red-700 hover:bg-red-200'\n                        : 'bg-amber-600 hover:bg-amber-700 text-white hover:scale-105'\n                    }`}\n                    style={{\n                      fontSize: '14px',\n                      padding: '10px 20px',\n                      border: isAdded ? '2px solid #ef4444' : 'none',\n                    }}\n                  >\n                    {isAdded ? '‚úï Remove from Order' : 'Add to Order'}\n                  </button>\n\n                  {/* Data Collection Notice */}\n                  {dataRequirements?.requiresAdditionalData && !isAdded && (\n                    <div\n                      className=\"flex items-start gap-2 rounded-lg\"\n                      style={{\n                        marginTop: '12px',\n                        padding: '10px 12px',\n                        background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n                        border: '1px solid #93c5fd',\n                      }}\n                    >\n                      <Clock className=\"w-4 h-4 text-blue-600 flex-shrink-0\" style={{ marginTop: '2px' }} />\n                      <div className=\"flex-1\">\n                        <p className=\"text-blue-800 font-medium\" style={{ fontSize: '12px', lineHeight: '1.4' }}>\n                          <strong>Quick details needed after payment</strong> ({dataRequirements.estimatedTimeToComplete})\n                        </p>\n                        {dataRequirements.preFilledMessage && (\n                          <p className=\"text-blue-700\" style={{ fontSize: '11px', marginTop: '4px', lineHeight: '1.3' }}>\n                            {dataRequirements.preFilledMessage}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Bundle Offer */}\n      {config.bundles && config.bundles.length > 0 && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n            border: '3px solid #f59e0b',\n            padding: '24px',\n            marginTop: '20px',\n          }}\n        >\n          {config.bundles.map((bundle) => {\n            const isSelected = selectedBundle === bundle.id;\n\n            return (\n              <div key={bundle.id}>\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div>\n                    <h4 className=\"font-bold text-amber-900\" style={{ fontSize: '18px' }}>\n                      üí∞ {bundle.name}\n                    </h4>\n                    <p className=\"text-amber-800\" style={{ fontSize: '14px', marginTop: '4px' }}>\n                      {bundle.description}\n                    </p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-slate-500 line-through\" style={{ fontSize: '14px' }}>\n                      ${bundle.originalPrice}\n                    </p>\n                    <p className=\"font-bold text-amber-900\" style={{ fontSize: '24px' }}>\n                      ${bundle.bundlePrice}\n                    </p>\n                  </div>\n                </div>\n\n                <p className=\"text-emerald-700 font-semibold mb-4\" style={{ fontSize: '15px' }}>\n                  ‚úì Save ${bundle.savings} when you add all {bundle.itemIds.length} services\n                </p>\n\n                <button\n                  onClick={() => handleToggleBundle(bundle)}\n                  className={`w-full font-bold rounded-lg transition-all duration-200 ${\n                    isSelected\n                      ? 'bg-red-600 hover:bg-red-700 text-white hover:scale-105'\n                      : 'bg-amber-600 hover:bg-amber-700 text-white hover:scale-105'\n                  }`}\n                  style={{\n                    fontSize: '16px',\n                    padding: '14px 24px',\n                  }}\n                >\n                  {isSelected ? '‚úï Remove Bundle from Order' : 'Add Complete Bundle'}\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\CheckoutUpsell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'savings' is assigned a value but never used.","line":62,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":62,"endColumn":16},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":187,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[7198,7252],"text":"\n            No thanks, I&apos;ll provide my own\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[7198,7252],"text":"\n            No thanks, I&lsquo;ll provide my own\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[7198,7252],"text":"\n            No thanks, I&#39;ll provide my own\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[7198,7252],"text":"\n            No thanks, I&rsquo;ll provide my own\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Shield, Check } from 'lucide-react';\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  description: string;\n  features: string[];\n  badge: string | null;\n  highlightColor: string | null;\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\ninterface CheckoutUpsellProps {\n  currentPackage: Package | null; // null = individual filing\n  onUpgrade: (pkg: Package) => void;\n  onContinue: () => void;\n}\n\nexport default function CheckoutUpsell({ currentPackage, onUpgrade, onContinue }: CheckoutUpsellProps) {\n  const [standardPackage, setStandardPackage] = useState<Package | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch Standard package for comparison\n  useEffect(() => {\n    const fetchStandardPackage = async () => {\n      try {\n        const response = await fetch('/api/packages');\n        if (response.ok) {\n          const packages = await response.json();\n          const standard = packages.find((p: Package) => p.slug === 'standard');\n          setStandardPackage(standard || null);\n        }\n      } catch (error) {\n        console.error('Failed to fetch packages:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStandardPackage();\n  }, []);\n\n  // Only show upsell if user selected Basic package or individual filing\n  if (!currentPackage || currentPackage.slug !== 'basic') {\n    return null;\n  }\n\n  if (loading || !standardPackage) {\n    return null;\n  }\n\n  const savings = 224 - standardPackage.price; // $125 RA + $99 Operating Agreement = $224 value\n\n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 p-4\" style={{\n      background: 'rgba(15, 23, 42, 0.6)',\n      backdropFilter: 'blur(8px)',\n    }}>\n      <div className=\"max-w-2xl w-full rounded-3xl overflow-hidden\" style={{\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(20px)',\n        border: '1px solid rgba(255, 255, 255, 0.3)',\n        boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.6)',\n      }}>\n        {/* Header */}\n        <div className=\"text-center\" style={{ padding: '40px 40px 32px 40px' }}>\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full mb-6\" style={{\n            background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n            boxShadow: '0 8px 16px rgba(16, 185, 129, 0.3)',\n          }}>\n            <Shield className=\"w-8 h-8 text-white\" />\n          </div>\n\n          <h2 className=\"text-3xl font-bold text-slate-900 mb-4\">\n            Florida Requires a Registered Agent\n          </h2>\n\n          <p className=\"text-lg text-slate-600\" style={{ lineHeight: '1.7' }}>\n            Let LegalOps handle this requirement for you‚Äîprofessionally and affordably.\n          </p>\n        </div>\n\n        {/* Benefits */}\n        <div style={{ padding: '0 40px 32px 40px' }}>\n          <div className=\"rounded-2xl\" style={{\n            background: 'rgba(16, 185, 129, 0.05)',\n            border: '1px solid rgba(16, 185, 129, 0.2)',\n            padding: '28px',\n          }}>\n            <div className=\"space-y-4 mb-6\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0\" style={{\n                  background: 'rgba(16, 185, 129, 0.15)',\n                }}>\n                  <Check className=\"w-4 h-4 text-emerald-700\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-slate-900\">Privacy Protection</p>\n                  <p className=\"text-sm text-slate-600\">Use our address instead of your home</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0\" style={{\n                  background: 'rgba(16, 185, 129, 0.15)',\n                }}>\n                  <Check className=\"w-4 h-4 text-emerald-700\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-slate-900\">Never Miss Legal Documents</p>\n                  <p className=\"text-sm text-slate-600\">We receive and forward all official notices</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0\" style={{\n                  background: 'rgba(16, 185, 129, 0.15)',\n                }}>\n                  <Check className=\"w-4 h-4 text-emerald-700\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-slate-900\">Professional Business Image</p>\n                  <p className=\"text-sm text-slate-600\">No process servers at your door</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0\" style={{\n                  background: 'rgba(16, 185, 129, 0.15)',\n                }}>\n                  <Check className=\"w-4 h-4 text-emerald-700\" />\n                </div>\n                <div>\n                  <p className=\"font-semibold text-slate-900\">Compliance Peace of Mind</p>\n                  <p className=\"text-sm text-slate-600\">Stay compliant with Florida law automatically</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Pricing */}\n            <div className=\"text-center pt-6\" style={{\n              borderTop: '1px solid rgba(16, 185, 129, 0.2)',\n            }}>\n              <div className=\"mb-2\">\n                <span className=\"text-4xl font-bold text-emerald-600\">$149</span>\n                <span className=\"text-slate-600 ml-2\">+ state fees</span>\n              </div>\n              <p className=\"text-sm text-slate-600 mb-1\">\n                Includes first year FREE ($125 value)\n              </p>\n              <p className=\"text-xs text-slate-500\">\n                Plus Operating Agreement ($99 value) ‚Ä¢ Total value: $224\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div style={{ padding: '0 40px 40px 40px' }}>\n          <button\n            onClick={() => onUpgrade(standardPackage)}\n            className=\"w-full rounded-xl font-semibold text-white text-lg transition-all mb-3\"\n            style={{\n              padding: '16px 24px',\n              background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n              boxShadow: '0 4px 14px rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n            }}\n          >\n            Add Registered Agent Service\n          </button>\n\n          <button\n            onClick={onContinue}\n            className=\"w-full text-slate-600 text-sm font-medium hover:text-slate-900 transition-colors\"\n            style={{ padding: '12px' }}\n          >\n            No thanks, I'll provide my own\n          </button>\n\n          <p className=\"text-xs text-center text-slate-500 mt-4\">\n            95% of customers choose LegalOps as their registered agent\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\DashboardClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useState' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport ImportantNotices from '@/components/ImportantNotices';\nimport IncompleteFilings from '@/components/IncompleteFilings';\nimport DashboardHeroStrip from '@/components/DashboardHeroStrip';\n\ninterface BusinessEntity {\n  id: string;\n  legalName: string;\n  documentNumber: string | null;\n  entityType: string;\n  status: string;\n  filingDate: Date | null;\n}\n\ninterface DashboardStats {\n  activeBusinesses: number;\n  pendingOrders: number;\n  documents: number;\n  incompleteFiling: number;\n}\n\ninterface Activity {\n  id: string;\n  type: 'order' | 'draft' | 'business';\n  action: string;\n  description: string;\n  subtitle?: string;\n  thirdLine?: string;\n  metadata?: string;\n  timestamp: Date;\n}\n\ninterface DashboardClientProps {\n  businesses: BusinessEntity[];\n  stats: DashboardStats;\n  recentActivity: Activity[];\n  userName: string;\n  averageHealthScore: number | null;\n  pendingActions: number;\n}\n\nexport default function DashboardClient({\n  businesses,\n  stats,\n  recentActivity,\n  userName,\n  averageHealthScore,\n  pendingActions\n}: DashboardClientProps) {\n  // Helper function to format relative time\n  const formatRelativeTime = (date: Date) => {\n    const now = new Date();\n    const diffInSeconds = Math.floor((now.getTime() - new Date(date).getTime()) / 1000);\n\n    if (diffInSeconds < 60) return 'Just now';\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;\n    if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)} days ago`;\n    return new Date(date).toLocaleDateString();\n  };\n\n  // Helper function to get icon and color for activity type\n  const getActivityIcon = (type: string) => {\n    switch (type) {\n      case 'order':\n        return { icon: '‚úÖ', bg: '#d1fae5' }; // Green for completed orders\n      case 'draft':\n        return { icon: 'üìù', bg: '#fef3c7' }; // Yellow for drafts\n      case 'business':\n        return { icon: 'üè¢', bg: '#dbeafe' }; // Blue for businesses\n      default:\n        return { icon: 'üìÑ', bg: '#f1f5f9' };\n    }\n  };\n\n  return (\n    <div>\n      {/* Hero Strip */}\n      <DashboardHeroStrip\n        userName={userName}\n        businessCount={businesses.length}\n        pendingActions={pendingActions}\n        averageHealthScore={averageHealthScore}\n        hasBusinesses={businesses.length > 0}\n      />\n\n      {/* IMPORTANT NOTICES */}\n      <ImportantNotices />\n\n      {/* INCOMPLETE FILINGS */}\n      <IncompleteFilings />\n\n      {/* Quick Stats */}\n      <div style={{ marginBottom: '48px' }}>\n        <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '24px' }}>\n          Quick Stats\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4\" style={{ gap: '24px' }}>\n          {/* Active Businesses */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              borderLeft: '4px solid #0ea5e9'\n            }}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Active Businesses\n                </p>\n                <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                  {stats.activeBusinesses}\n                </p>\n              </div>\n              <div\n                className=\"flex items-center justify-center\"\n                style={{\n                  width: '56px',\n                  height: '56px',\n                  borderRadius: '50%',\n                  background: '#dbeafe'\n                }}\n              >\n                <svg style={{ width: '28px', height: '28px', color: '#0284c7' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          {/* Pending Orders */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              borderLeft: '4px solid #10b981'\n            }}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Pending Orders\n                </p>\n                <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                  {stats.pendingOrders}\n                </p>\n              </div>\n              <div\n                className=\"flex items-center justify-center\"\n                style={{\n                  width: '56px',\n                  height: '56px',\n                  borderRadius: '50%',\n                  background: '#d1fae5'\n                }}\n              >\n                <svg style={{ width: '28px', height: '28px', color: '#059669' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          {/* Documents */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              borderLeft: '4px solid #8b5cf6'\n            }}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Documents\n                </p>\n                <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                  {stats.documents}\n                </p>\n              </div>\n              <div\n                className=\"flex items-center justify-center\"\n                style={{\n                  width: '56px',\n                  height: '56px',\n                  borderRadius: '50%',\n                  background: '#ede9fe'\n                }}\n              >\n                <svg style={{ width: '28px', height: '28px', color: '#7c3aed' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          {/* Incomplete Filings */}\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              borderLeft: '4px solid #f59e0b'\n            }}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"font-medium\" style={{ fontSize: '13px', color: '#64748b', marginBottom: '8px' }}>\n                  Incomplete Filings\n                </p>\n                <p className=\"font-bold\" style={{ fontSize: '32px', color: '#0f172a' }}>\n                  {stats.incompleteFiling}\n                </p>\n              </div>\n              <div\n                className=\"flex items-center justify-center\"\n                style={{\n                  width: '56px',\n                  height: '56px',\n                  borderRadius: '50%',\n                  background: '#fef3c7'\n                }}\n              >\n                <svg style={{ width: '28px', height: '28px', color: '#d97706' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      {recentActivity.length > 0 && (\n        <div style={{ marginBottom: '48px' }}>\n          <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '24px' }}>\n            Recent Activity\n          </h2>\n          <div\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0'\n            }}\n          >\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n              {recentActivity.map((activity, index) => (\n                <div\n                  key={activity.id}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '16px',\n                    paddingBottom: index < recentActivity.length - 1 ? '16px' : '0',\n                    borderBottom: index < recentActivity.length - 1 ? '1px solid #e2e8f0' : 'none'\n                  }}\n                >\n                  {/* Icon */}\n                  <div\n                    style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '50%',\n                      background: getActivityIcon(activity.type).bg,\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '20px',\n                      flexShrink: 0\n                    }}\n                  >\n                    {getActivityIcon(activity.type).icon}\n                  </div>\n\n                  {/* Content */}\n                  <div style={{ flex: 1, minWidth: 0 }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>\n                      <p className=\"font-medium\" style={{ fontSize: '14px', color: '#0f172a' }}>\n                        {activity.action}\n                      </p>\n                      {activity.metadata && (\n                        <span style={{\n                          fontSize: '11px',\n                          color: '#64748b',\n                          background: '#f1f5f9',\n                          padding: '2px 8px',\n                          borderRadius: '4px',\n                          fontWeight: '500'\n                        }}>\n                          {activity.metadata}\n                        </span>\n                      )}\n                    </div>\n                    <p style={{ fontSize: '14px', color: '#0f172a', fontWeight: '500', marginBottom: '2px' }}>\n                      {activity.description}\n                    </p>\n                    {activity.subtitle && (\n                      <p style={{ fontSize: '12px', color: '#64748b', marginBottom: '2px' }}>\n                        {activity.subtitle}\n                      </p>\n                    )}\n                    {activity.thirdLine && (\n                      <p style={{ fontSize: '12px', color: '#64748b', fontStyle: 'italic' }}>\n                        {activity.thirdLine}\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Timestamp */}\n                  <div style={{ flexShrink: 0 }}>\n                    <p style={{ fontSize: '12px', color: '#94a3b8' }}>\n                      {formatRelativeTime(activity.timestamp)}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Popular Services */}\n      <div style={{ marginBottom: '48px' }}>\n        <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '24px' }}>\n          Popular Services\n        </h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3\" style={{ gap: '20px' }}>\n          {/* DBA Registration */}\n          <Link\n            href=\"/services/fictitious-name-registration\"\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              textDecoration: 'none',\n              transition: 'all 0.2s',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '16px'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';\n              e.currentTarget.style.borderColor = '#0ea5e9';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)';\n              e.currentTarget.style.borderColor = '#e2e8f0';\n            }}\n          >\n            <div style={{\n              width: '48px',\n              height: '48px',\n              background: '#fef3c7',\n              borderRadius: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            }}>\n              <span style={{ fontSize: '24px' }}>üìÑ</span>\n            </div>\n            <div>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a', marginBottom: '4px' }}>\n                Register DBA\n              </h3>\n              <p style={{ fontSize: '13px', color: '#64748b' }}>\n                Fictitious Name Registration\n              </p>\n            </div>\n          </Link>\n\n          {/* Annual Report */}\n          <Link\n            href=\"/dashboard/filings/annual-report\"\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              textDecoration: 'none',\n              transition: 'all 0.2s',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '16px'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';\n              e.currentTarget.style.borderColor = '#0ea5e9';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)';\n              e.currentTarget.style.borderColor = '#e2e8f0';\n            }}\n          >\n            <div style={{\n              width: '48px',\n              height: '48px',\n              background: '#dbeafe',\n              borderRadius: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            }}>\n              <span style={{ fontSize: '24px' }}>üìã</span>\n            </div>\n            <div>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a', marginBottom: '4px' }}>\n                File Annual Report\n              </h3>\n              <p style={{ fontSize: '13px', color: '#64748b' }}>\n                Keep your business compliant\n              </p>\n            </div>\n          </Link>\n\n          {/* Form New LLC */}\n          <Link\n            href=\"/services/llc-formation\"\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              textDecoration: 'none',\n              transition: 'all 0.2s',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '16px'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';\n              e.currentTarget.style.borderColor = '#0ea5e9';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)';\n              e.currentTarget.style.borderColor = '#e2e8f0';\n            }}\n          >\n            <div style={{\n              width: '48px',\n              height: '48px',\n              background: '#d1fae5',\n              borderRadius: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            }}>\n              <span style={{ fontSize: '24px' }}>üè¢</span>\n            </div>\n            <div>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a', marginBottom: '4px' }}>\n                Form New LLC\n              </h3>\n              <p style={{ fontSize: '13px', color: '#64748b' }}>\n                Start a new business\n              </p>\n            </div>\n          </Link>\n\n          {/* Form New Corporation */}\n          <Link\n            href=\"/services/corporation-formation\"\n            className=\"bg-white rounded-xl\"\n            style={{\n              padding: '24px',\n              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n              border: '1px solid #e2e8f0',\n              textDecoration: 'none',\n              transition: 'all 0.2s',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '16px'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.1)';\n              e.currentTarget.style.borderColor = '#0ea5e9';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.transform = 'translateY(0)';\n              e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)';\n              e.currentTarget.style.borderColor = '#e2e8f0';\n            }}\n          >\n            <div style={{\n              width: '48px',\n              height: '48px',\n              background: '#e0e7ff',\n              borderRadius: '12px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flexShrink: 0\n            }}>\n              <span style={{ fontSize: '24px' }}>üèõÔ∏è</span>\n            </div>\n            <div>\n              <h3 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a', marginBottom: '4px' }}>\n                Form New Corporation\n              </h3>\n              <p style={{ fontSize: '13px', color: '#64748b' }}>\n                Incorporate your business\n              </p>\n            </div>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\DashboardHeroStrip.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":219,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9233,9354],"text":"\n                              These are things YOU need to do (not orders we&apos;re processing)\n                            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9233,9354],"text":"\n                              These are things YOU need to do (not orders we&lsquo;re processing)\n                            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9233,9354],"text":"\n                              These are things YOU need to do (not orders we&#39;re processing)\n                            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9233,9354],"text":"\n                              These are things YOU need to do (not orders we&rsquo;re processing)\n                            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { ArrowRight, Building2, AlertCircle, CheckCircle, TrendingUp, Info } from 'lucide-react';\n\ninterface DashboardHeroStripProps {\n  userName: string;\n  businessCount: number;\n  pendingActions: number;\n  averageHealthScore: number | null;\n  hasBusinesses: boolean;\n}\n\nexport default function DashboardHeroStrip({\n  userName,\n  businessCount,\n  pendingActions,\n  averageHealthScore,\n  hasBusinesses\n}: DashboardHeroStripProps) {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  // Determine health score color and status\n  const getHealthScoreColor = (score: number) => {\n    if (score >= 90) return { color: '#10b981', bg: '#d1fae5', label: 'Excellent' };\n    if (score >= 75) return { color: '#0ea5e9', bg: '#e0f2fe', label: 'Good' };\n    if (score >= 60) return { color: '#f59e0b', bg: '#fef3c7', label: 'Needs Attention' };\n    return { color: '#ef4444', bg: '#fee2e2', label: 'Critical' };\n  };\n\n  const healthScoreData = averageHealthScore ? getHealthScoreColor(averageHealthScore) : null;\n\n  // Determine primary CTA based on customer state\n  const getPrimaryCTA = () => {\n    if (!hasBusinesses) {\n      return {\n        text: 'Form Your First Business',\n        href: '/services?category=FORMATION',\n        icon: <Building2 className=\"w-5 h-5\" />,\n        description: 'Choose from LLC, Corporation, Nonprofit, and more'\n      };\n    }\n    \n    if (pendingActions > 0) {\n      return {\n        text: `Review ${pendingActions} ${pendingActions === 1 ? 'Item' : 'Items'}`,\n        href: '/dashboard/businesses',\n        icon: <AlertCircle className=\"w-5 h-5\" />,\n        description: `${pendingActions === 1 ? 'An important item needs' : 'Important items need'} your attention`\n      };\n    }\n\n    if (healthScoreData && averageHealthScore! < 75) {\n      return {\n        text: 'Improve Your Health Score',\n        href: '/dashboard/businesses',\n        icon: <TrendingUp className=\"w-5 h-5\" />,\n        description: 'Take action to improve compliance'\n      };\n    }\n\n    return {\n      text: 'View All Businesses',\n      href: '/dashboard/businesses',\n      icon: <Building2 className=\"w-5 h-5\" />,\n      description: `Manage your ${businessCount} ${businessCount === 1 ? 'business' : 'businesses'}`\n    };\n  };\n\n  const primaryCTA = getPrimaryCTA();\n\n  return (\n    <div\n      className=\"relative overflow-hidden rounded-2xl\"\n      style={{\n        background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n        padding: '40px',\n        marginBottom: '32px',\n        boxShadow: '0 10px 40px -10px rgba(14, 165, 233, 0.4)'\n      }}\n    >\n      {/* Glass overlay effect */}\n      <div\n        className=\"absolute inset-0\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 50%)',\n          transform: 'translateY(-20%)',\n        }}\n      />\n\n      {/* Decorative circles */}\n      <div\n        className=\"absolute\"\n        style={{\n          top: '-50px',\n          right: '-50px',\n          width: '200px',\n          height: '200px',\n          borderRadius: '50%',\n          background: 'rgba(255, 255, 255, 0.1)',\n          filter: 'blur(40px)'\n        }}\n      />\n      <div\n        className=\"absolute\"\n        style={{\n          bottom: '-30px',\n          left: '-30px',\n          width: '150px',\n          height: '150px',\n          borderRadius: '50%',\n          background: 'rgba(255, 255, 255, 0.08)',\n          filter: 'blur(30px)'\n        }}\n      />\n\n      {/* Content */}\n      <div className=\"relative z-10\">\n        <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8\">\n          {/* Left: Welcome Message */}\n          <div className=\"flex-1\">\n            <h1 style={{ fontSize: '36px', fontWeight: '700', color: 'white', marginBottom: '12px', textShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n              Welcome back, {userName}! üëã\n            </h1>\n            <p style={{ fontSize: '18px', color: 'rgba(255, 255, 255, 0.95)', lineHeight: '1.6', maxWidth: '600px' }}>\n              {hasBusinesses\n                ? `You're managing ${businessCount} ${businessCount === 1 ? 'business' : 'businesses'}. ${pendingActions > 0 ? `${pendingActions} ${pendingActions === 1 ? 'item needs' : 'items need'} your attention.` : 'Everything looks good!'}`\n                : 'Ready to start your business journey? Let\\'s get your Florida LLC formed today.'\n              }\n            </p>\n\n            {/* Quick Stats */}\n            <div className=\"flex flex-wrap gap-6 mt-6\">\n              {/* Businesses */}\n              <div className=\"flex items-center gap-3\">\n                <div\n                  className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n                  style={{\n                    background: 'rgba(255, 255, 255, 0.2)',\n                    backdropFilter: 'blur(10px)',\n                    border: '1px solid rgba(255, 255, 255, 0.3)'\n                  }}\n                >\n                  <Building2 className=\"w-6 h-6 text-white\" style={{ filter: 'drop-shadow(0 2px 3px rgba(0,0,0,0.2))' }} />\n                </div>\n                <div>\n                  <p style={{ fontSize: '24px', fontWeight: '700', color: 'white', lineHeight: '1' }}>{businessCount}</p>\n                  <p style={{ fontSize: '13px', color: 'rgba(255, 255, 255, 0.9)', marginTop: '2px' }}>\n                    {businessCount === 1 ? 'Business' : 'Businesses'}\n                  </p>\n                </div>\n              </div>\n\n              {/* Items Needing Attention */}\n              {hasBusinesses && (\n                <div className=\"flex items-center gap-3 relative\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n                    style={{\n                      background: pendingActions > 0 ? 'rgba(251, 191, 36, 0.3)' : 'rgba(16, 185, 129, 0.3)',\n                      backdropFilter: 'blur(10px)',\n                      border: `1px solid ${pendingActions > 0 ? 'rgba(251, 191, 36, 0.5)' : 'rgba(16, 185, 129, 0.5)'}`\n                    }}\n                  >\n                    {pendingActions > 0 ? (\n                      <AlertCircle className=\"w-6 h-6 text-amber-100\" style={{ filter: 'drop-shadow(0 2px 3px rgba(0,0,0,0.2))' }} />\n                    ) : (\n                      <CheckCircle className=\"w-6 h-6 text-emerald-100\" style={{ filter: 'drop-shadow(0 2px 3px rgba(0,0,0,0.2))' }} />\n                    )}\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <div>\n                      <p style={{ fontSize: '24px', fontWeight: '700', color: 'white', lineHeight: '1' }}>{pendingActions}</p>\n                      <p style={{ fontSize: '13px', color: 'rgba(255, 255, 255, 0.9)', marginTop: '2px' }}>\n                        {pendingActions === 0 ? 'All Clear' : pendingActions === 1 ? 'Needs Attention' : 'Need Attention'}\n                      </p>\n                    </div>\n                    <div\n                      className=\"relative\"\n                      onMouseEnter={() => setShowTooltip(true)}\n                      onMouseLeave={() => setShowTooltip(false)}\n                    >\n                      <Info\n                        className=\"w-4 h-4 text-white opacity-70 hover:opacity-100 cursor-help transition-opacity\"\n                        style={{ filter: 'drop-shadow(0 1px 2px rgba(0,0,0,0.2))' }}\n                      />\n                      {showTooltip && (\n                        <div\n                          className=\"absolute z-50\"\n                          style={{\n                            bottom: '100%',\n                            left: '50%',\n                            transform: 'translateX(-50%)',\n                            marginBottom: '8px',\n                            width: '280px'\n                          }}\n                        >\n                          <div\n                            style={{\n                              background: 'rgba(15, 23, 42, 0.95)',\n                              backdropFilter: 'blur(10px)',\n                              border: '1px solid rgba(255, 255, 255, 0.1)',\n                              borderRadius: '8px',\n                              padding: '12px',\n                              boxShadow: '0 8px 24px rgba(0, 0, 0, 0.3)'\n                            }}\n                          >\n                            <p style={{ fontSize: '12px', fontWeight: '600', color: 'white', marginBottom: '6px' }}>\n                              Items Needing Attention:\n                            </p>\n                            <ul style={{ fontSize: '11px', color: 'rgba(255, 255, 255, 0.9)', lineHeight: '1.6', paddingLeft: '16px' }}>\n                              <li>Overdue annual reports</li>\n                              <li>Dissolved businesses</li>\n                              <li>Missing critical documents</li>\n                              <li>Incomplete form drafts</li>\n                            </ul>\n                            <p style={{ fontSize: '10px', color: 'rgba(255, 255, 255, 0.7)', marginTop: '8px', fontStyle: 'italic' }}>\n                              These are things YOU need to do (not orders we're processing)\n                            </p>\n                          </div>\n                          {/* Tooltip arrow */}\n                          <div\n                            style={{\n                              position: 'absolute',\n                              bottom: '-6px',\n                              left: '50%',\n                              transform: 'translateX(-50%)',\n                              width: '12px',\n                              height: '12px',\n                              background: 'rgba(15, 23, 42, 0.95)',\n                              border: '1px solid rgba(255, 255, 255, 0.1)',\n                              borderTop: 'none',\n                              borderLeft: 'none',\n                              rotate: '45deg'\n                            }}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Health Score */}\n              {hasBusinesses && healthScoreData && (\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center\"\n                    style={{\n                      background: 'rgba(255, 255, 255, 0.2)',\n                      backdropFilter: 'blur(10px)',\n                      border: '1px solid rgba(255, 255, 255, 0.3)'\n                    }}\n                  >\n                    <span style={{ fontSize: '18px', fontWeight: '700', color: 'white', textShadow: '0 2px 3px rgba(0,0,0,0.2)' }}>\n                      {Math.round(averageHealthScore!)}\n                    </span>\n                  </div>\n                  <div>\n                    <p style={{ fontSize: '24px', fontWeight: '700', color: 'white', lineHeight: '1' }}>\n                      {healthScoreData.label}\n                    </p>\n                    <p style={{ fontSize: '13px', color: 'rgba(255, 255, 255, 0.9)', marginTop: '2px' }}>\n                      Avg Health Score\n                    </p>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right: Primary CTA */}\n          <div className=\"flex-shrink-0\">\n            <Link\n              href={primaryCTA.href}\n              className=\"group relative overflow-hidden\"\n              style={{\n                display: 'inline-flex',\n                flexDirection: 'column',\n                alignItems: 'flex-start',\n                gap: '12px',\n                padding: '24px 32px',\n                background: 'rgba(255, 255, 255, 0.95)',\n                backdropFilter: 'blur(10px)',\n                borderRadius: '12px',\n                border: '1px solid rgba(255, 255, 255, 0.5)',\n                boxShadow: '0 8px 24px rgba(0, 0, 0, 0.15)',\n                textDecoration: 'none',\n                transition: 'all 200ms',\n                minWidth: '280px'\n              }}\n            >\n              {/* Glass highlight */}\n              <div\n                className=\"absolute inset-0 rounded-12\"\n                style={{\n                  background: 'linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 50%)',\n                  transform: 'translateY(-30%)',\n                }}\n              />\n\n              <div className=\"relative z-10 w-full\">\n                <div className=\"flex items-center justify-between w-full mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <div\n                      className=\"w-10 h-10 rounded-full flex items-center justify-center\"\n                      style={{\n                        background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                        boxShadow: '0 4px 12px rgba(14, 165, 233, 0.3)'\n                      }}\n                    >\n                      <div style={{ color: 'white', filter: 'drop-shadow(0 1px 2px rgba(0,0,0,0.2))' }}>\n                        {primaryCTA.icon}\n                      </div>\n                    </div>\n                    <ArrowRight className=\"w-5 h-5 text-sky-600 group-hover:translate-x-1 transition-transform\" />\n                  </div>\n                </div>\n                <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#0f172a', marginBottom: '6px' }}>\n                  {primaryCTA.text}\n                </h3>\n                <p style={{ fontSize: '14px', color: '#64748b', lineHeight: '1.5' }}>\n                  {primaryCTA.description}\n                </p>\n              </div>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\DashboardSidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\DocumentWizard.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":18,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":18,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[444,447],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[444,447],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[520,523],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[520,523],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[569,572],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[569,572],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onFormDataChange' is defined but never used.","line":32,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'saving' is assigned a value but never used.","line":35,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setSaving' is assigned a value but never used.","line":35,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":35,"endColumn":27},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'completedSteps' is assigned a value but never used.","line":43,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":43,"endColumn":23},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":72,"column":16,"nodeType":null,"messageId":"unusedVar","endLine":72,"endColumn":21}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect, useRef, ReactNode } from 'react';\nimport { ChevronLeft, ChevronRight, Check } from 'lucide-react';\n\nexport interface WizardStep {\n  id: string;\n  title: string;\n  description?: string;\n  component: ReactNode;\n  estimatedTime?: string;\n}\n\ninterface DocumentWizardProps {\n  steps: WizardStep[];\n  currentStepIndex: number;\n  onStepChange: (stepIndex: number) => void;\n  onSave: (stepId: string, data: any) => Promise<void>;\n  onComplete: () => void;\n  formData: Record<string, any>;\n  onFormDataChange: (stepId: string, data: any) => void;\n  autoSaveEnabled?: boolean;\n}\n\nexport default function DocumentWizard({\n  steps,\n  currentStepIndex,\n  onStepChange,\n  onSave,\n  onComplete,\n  formData,\n  onFormDataChange,\n  autoSaveEnabled = true,\n}: DocumentWizardProps) {\n  const [saving, setSaving] = useState(false);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const lastSavedDataRef = useRef<string>('');\n\n  const currentStep = steps[currentStepIndex];\n  const isFirstStep = currentStepIndex === 0;\n  const isLastStep = currentStepIndex === steps.length - 1;\n  const completedSteps = currentStepIndex;\n  const totalSteps = steps.length;\n\n  // Auto-save effect - saves 1 second after user stops typing\n  useEffect(() => {\n    if (!autoSaveEnabled) return;\n\n    const currentData = JSON.stringify(formData[currentStep.id] || {});\n\n    // Only save if data has changed\n    if (currentData === lastSavedDataRef.current) return;\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Set saving status\n    setSaveStatus('saving');\n\n    // Set new timeout to save after 1 second of inactivity\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        await onSave(currentStep.id, formData[currentStep.id] || {});\n        lastSavedDataRef.current = currentData;\n        setSaveStatus('saved');\n\n        // Reset to idle after 2 seconds\n        setTimeout(() => setSaveStatus('idle'), 2000);\n      } catch (error) {\n        setSaveStatus('error');\n        setTimeout(() => setSaveStatus('idle'), 3000);\n      }\n    }, 1000);\n\n    // Cleanup\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [formData, currentStep.id, onSave, autoSaveEnabled]);\n\n  const handleNext = async () => {\n    // Ensure current data is saved before moving\n    if (autoSaveEnabled && saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n      await onSave(currentStep.id, formData[currentStep.id] || {});\n    }\n\n    if (!isLastStep) {\n      onStepChange(currentStepIndex + 1);\n    } else {\n      onComplete();\n    }\n  };\n\n  const handlePrevious = () => {\n    if (!isFirstStep) {\n      onStepChange(currentStepIndex - 1);\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      {/* Step Progress Indicator */}\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-4\">\n          {steps.map((step, index) => (\n            <div key={step.id} className=\"flex items-center flex-1\">\n              {/* Step Circle */}\n              <div className=\"relative\">\n                <div\n                  className={`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${\n                    index < currentStepIndex\n                      ? 'bg-green-500 text-white'\n                      : index === currentStepIndex\n                      ? 'bg-purple-600 text-white'\n                      : 'bg-gray-300 text-gray-600'\n                  }`}\n                  style={{\n                    border: index === currentStepIndex ? '3px solid #9333ea' : 'none',\n                    boxShadow: index === currentStepIndex ? '0 0 0 4px rgba(147, 51, 234, 0.2)' : 'none',\n                  }}\n                >\n                  {index < currentStepIndex ? (\n                    <Check className=\"w-5 h-5\" />\n                  ) : (\n                    <span>{index + 1}</span>\n                  )}\n                </div>\n              </div>\n\n              {/* Connector Line */}\n              {index < steps.length - 1 && (\n                <div\n                  className=\"flex-1 h-1 mx-2\"\n                  style={{\n                    background: index < currentStepIndex\n                      ? 'linear-gradient(90deg, #10b981 0%, #34d399 100%)'\n                      : '#d1d5db',\n                  }}\n                />\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Step Labels */}\n        <div className=\"flex items-start justify-between\">\n          {steps.map((step, index) => (\n            <div\n              key={`label-${step.id}`}\n              className=\"flex-1 text-center\"\n              style={{ maxWidth: `${100 / steps.length}%` }}\n            >\n              <p\n                className={`text-sm font-semibold ${\n                  index === currentStepIndex ? 'text-purple-700' : 'text-gray-600'\n                }`}\n              >\n                {step.title}\n              </p>\n              {step.estimatedTime && index === currentStepIndex && (\n                <p className=\"text-xs text-gray-500 mt-1\">{step.estimatedTime}</p>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Current Step Content */}\n      <div\n        className=\"rounded-xl mb-6\"\n        style={{\n          padding: '32px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          border: '3px solid rgba(255, 255, 255, 0.5)',\n          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.1)',\n          minHeight: '400px',\n        }}\n      >\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{currentStep.title}</h2>\n          {currentStep.description && (\n            <p className=\"text-gray-600\">{currentStep.description}</p>\n          )}\n        </div>\n\n        {/* Step Component */}\n        <div>{currentStep.component}</div>\n      </div>\n\n      {/* Navigation Buttons */}\n      <div className=\"flex items-center justify-between\" style={{ marginTop: '32px' }}>\n        <button\n          onClick={handlePrevious}\n          disabled={isFirstStep}\n          className={`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all ${\n            isFirstStep\n              ? 'bg-gray-200 text-gray-400 cursor-not-allowed'\n              : 'bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50'\n          }`}\n          style={{ padding: '12px 24px' }}\n        >\n          <ChevronLeft className=\"w-5 h-5\" />\n          Previous\n        </button>\n\n        <div className=\"flex items-center gap-4\">\n          {/* Auto-save Status Indicator */}\n          {autoSaveEnabled && saveStatus !== 'idle' && (\n            <div className=\"flex items-center gap-2\">\n              {saveStatus === 'saving' && (\n                <>\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\" />\n                  <span className=\"text-sm text-gray-600\">Saving...</span>\n                </>\n              )}\n              {saveStatus === 'saved' && (\n                <>\n                  <Check className=\"w-4 h-4 text-green-600\" />\n                  <span className=\"text-sm text-green-600\">All changes saved</span>\n                </>\n              )}\n              {saveStatus === 'error' && (\n                <span className=\"text-sm text-red-600\">Failed to save</span>\n              )}\n            </div>\n          )}\n\n          {/* Next/Complete Button */}\n          <button\n            onClick={handleNext}\n            className=\"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold text-white transition-all hover:scale-105\"\n            style={{\n              padding: '12px 24px',\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\n            }}\n          >\n            {isLastStep ? 'Complete' : 'Next'}\n            {!isLastStep && <ChevronRight className=\"w-5 h-5\" />}\n          </button>\n        </div>\n      </div>\n\n      {/* Progress Summary */}\n      <div className=\"mt-6 text-center\">\n        <p className=\"text-sm text-gray-600\">\n          Step {currentStepIndex + 1} of {totalSteps} ‚Ä¢{' '}\n          {Math.round(((currentStepIndex + 1) / totalSteps) * 100)}% complete\n        </p>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\FictitiousNameWizard.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'initialData'. Either include it or remove the dependency array.","line":115,"column":6,"nodeType":"ArrayExpression","endLine":115,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [initialData, session?.user?.id]","fix":{"range":[5127,5146],"text":"[initialData, session?.user?.id]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'formData.principalCounty' and 'initialData?.principalCounty'. Either include them or remove the dependency array.","line":132,"column":6,"nodeType":"ArrayExpression","endLine":132,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [formData.principalCounty, initialData?.principalCounty]","fix":{"range":[5723,5725],"text":"[formData.principalCounty, initialData?.principalCounty]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'autoSaveDraft'. Either include it or remove the dependency array.","line":143,"column":6,"nodeType":"ArrayExpression","endLine":143,"endColumn":48,"suggestions":[{"desc":"Update the dependencies array to be: [formData, currentStep, session?.user?.id, autoSaveDraft]","fix":{"range":[6037,6079],"text":"[formData, currentStep, session?.user?.id, autoSaveDraft]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":505,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":505,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17798,17801],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17798,17801],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":597,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21164,21453],"text":"\n                A &quot;Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21164,21453],"text":"\n                A &ldquo;Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21164,21453],"text":"\n                A &#34;Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21164,21453],"text":"\n                A &rdquo;Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":597,"column":37,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As&quot; (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As&ldquo; (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As&#34; (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As&rdquo; (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":598,"column":61,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate &quot;Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate &ldquo;Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate &#34;Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate &rdquo;Smith's Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":598,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith&apos;s Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith&lsquo;s Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith&#39;s Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith&rsquo;s Landscaping,\" he would register that as a fictitious name.\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":598,"column":82,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,&quot; he would register that as a fictitious name.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,&ldquo; he would register that as a fictitious name.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,&#34; he would register that as a fictitious name.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[21164,21453],"text":"\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,&rdquo; he would register that as a fictitious name.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":647,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[23180,23216],"text":"\n                We&apos;ve pre-selected "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[23180,23216],"text":"\n                We&lsquo;ve pre-selected "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[23180,23216],"text":"\n                We&#39;ve pre-selected "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[23180,23216],"text":"\n                We&rsquo;ve pre-selected "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":775,"column":24,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[28145,28318],"text":"\n                Choose &quot;Individual\" if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose &ldquo;Individual\" if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[28145,28318],"text":"\n                Choose &#34;Individual\" if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose &rdquo;Individual\" if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":775,"column":35,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual&quot; if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual&ldquo; if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual&#34; if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual&rdquo; if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":775,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you&apos;re registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you&lsquo;re registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you&#39;re registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you&rsquo;re registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":775,"column":79,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose &quot;Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose &ldquo;Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose &#34;Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose &rdquo;Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":775,"column":95,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose \"Business Entity&quot; if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose \"Business Entity&ldquo; if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose \"Business Entity&#34; if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[28145,28318],"text":"\n                Choose \"Individual\" if you're registering as a person. Choose \"Business Entity&rdquo; if a corporation, LLC, or other business entity owns the DBA.\n              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1196,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[46951,47078],"text":"\n                  If you&apos;ve already completed the newspaper publication requirement, select \"Yes\" to proceed.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you&lsquo;ve already completed the newspaper publication requirement, select \"Yes\" to proceed.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[46951,47078],"text":"\n                  If you&#39;ve already completed the newspaper publication requirement, select \"Yes\" to proceed.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you&rsquo;ve already completed the newspaper publication requirement, select \"Yes\" to proceed.\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1196,"column":93,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select &quot;Yes\" to proceed.\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select &ldquo;Yes\" to proceed.\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select &#34;Yes\" to proceed.\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select &rdquo;Yes\" to proceed.\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1196,"column":97,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select \"Yes&quot; to proceed.\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select \"Yes&ldquo; to proceed.\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select \"Yes&#34; to proceed.\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[46951,47078],"text":"\n                  If you've already completed the newspaper publication requirement, select \"Yes&rdquo; to proceed.\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1381,"column":28,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[55704,55838],"text":"\n                        You&apos;ve certified publication. Continue to payment and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[55704,55838],"text":"\n                        You&lsquo;ve certified publication. Continue to payment and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[55704,55838],"text":"\n                        You&#39;ve certified publication. Continue to payment and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[55704,55838],"text":"\n                        You&rsquo;ve certified publication. Continue to payment and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1381,"column":81,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[55704,55838],"text":"\n                        You've certified publication. Continue to payment and we&apos;ll file your DBA immediately.\n                      "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[55704,55838],"text":"\n                        You've certified publication. Continue to payment and we&lsquo;ll file your DBA immediately.\n                      "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[55704,55838],"text":"\n                        You've certified publication. Continue to payment and we&#39;ll file your DBA immediately.\n                      "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[55704,55838],"text":"\n                        You've certified publication. Continue to payment and we&rsquo;ll file your DBA immediately.\n                      "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1403,"column":23,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[56504,56571],"text":"\n                  Here&apos;s How to Publish Your DBA:\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[56504,56571],"text":"\n                  Here&lsquo;s How to Publish Your DBA:\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[56504,56571],"text":"\n                  Here&#39;s How to Publish Your DBA:\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[56504,56571],"text":"\n                  Here&rsquo;s How to Publish Your DBA:\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1428,"column":80,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a &quot;fictitious name notice\" or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a &ldquo;fictitious name notice\" or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a &#34;fictitious name notice\" or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a &rdquo;fictitious name notice\" or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1428,"column":103,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice&quot; or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice&ldquo; or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice&#34; or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice&rdquo; or \"DBA advertisement.\"\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1428,"column":108,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or &quot;DBA advertisement.\"\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or &ldquo;DBA advertisement.\"\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or &#34;DBA advertisement.\"\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or &rdquo;DBA advertisement.\"\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1428,"column":127,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or \"DBA advertisement.&quot;\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or \"DBA advertisement.&ldquo;\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or \"DBA advertisement.&#34;\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[57577,57726],"text":"\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or \"DBA advertisement.&rdquo;\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1495,"column":80,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to &quot;Yes\" to proceed with your DBA registration.\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to &ldquo;Yes\" to proceed with your DBA registration.\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to &#34;Yes\" to proceed with your DBA registration.\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to &rdquo;Yes\" to proceed with your DBA registration.\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1495,"column":84,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to \"Yes&quot; to proceed with your DBA registration.\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to \"Yes&ldquo; to proceed with your DBA registration.\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to \"Yes&#34; to proceed with your DBA registration.\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[60581,60726],"text":"\n                      Once published, come back and toggle the switch above to \"Yes&rdquo; to proceed with your DBA registration.\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1535,"column":29,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[62496,62567],"text":"\n                        Here&apos;s how to find and contact a newspaper in "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[62496,62567],"text":"\n                        Here&lsquo;s how to find and contact a newspaper in "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[62496,62567],"text":"\n                        Here&#39;s how to find and contact a newspaper in "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[62496,62567],"text":"\n                        Here&rsquo;s how to find and contact a newspaper in "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1724,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":1724,"endColumn":31},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1734,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[72423,72521],"text":" You&apos;ve certified publication. Pay now and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[72423,72521],"text":" You&lsquo;ve certified publication. Pay now and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[72423,72521],"text":" You&#39;ve certified publication. Pay now and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[72423,72521],"text":" You&rsquo;ve certified publication. Pay now and we'll file your DBA immediately.\n                      "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1734,"column":101,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[72423,72521],"text":" You've certified publication. Pay now and we&apos;ll file your DBA immediately.\n                      "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[72423,72521],"text":" You've certified publication. Pay now and we&lsquo;ll file your DBA immediately.\n                      "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[72423,72521],"text":" You've certified publication. Pay now and we&#39;ll file your DBA immediately.\n                      "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[72423,72521],"text":" You've certified publication. Pay now and we&rsquo;ll file your DBA immediately.\n                      "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":1775,"column":30,"nodeType":null,"messageId":"unusedVar","endLine":1775,"endColumn":31},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1783,"column":66,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[74738,74872],"text":" We&apos;ll save your information. After you publish your ad,\n                    return to pay and we'll file your DBA.\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[74738,74872],"text":" We&lsquo;ll save your information. After you publish your ad,\n                    return to pay and we'll file your DBA.\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[74738,74872],"text":" We&#39;ll save your information. After you publish your ad,\n                    return to pay and we'll file your DBA.\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[74738,74872],"text":" We&rsquo;ll save your information. After you publish your ad,\n                    return to pay and we'll file your DBA.\n                  "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1784,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[74738,74872],"text":" We'll save your information. After you publish your ad,\n                    return to pay and we&apos;ll file your DBA.\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[74738,74872],"text":" We'll save your information. After you publish your ad,\n                    return to pay and we&lsquo;ll file your DBA.\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[74738,74872],"text":" We'll save your information. After you publish your ad,\n                    return to pay and we&#39;ll file your DBA.\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[74738,74872],"text":" We'll save your information. After you publish your ad,\n                    return to pay and we&rsquo;ll file your DBA.\n                  "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1822,"column":46,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we&apos;ll email you a secure link to return and complete your registration\n                    after you've published your newspaper advertisement.\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we&lsquo;ll email you a secure link to return and complete your registration\n                    after you've published your newspaper advertisement.\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we&#39;ll email you a secure link to return and complete your registration\n                    after you've published your newspaper advertisement.\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we&rsquo;ll email you a secure link to return and complete your registration\n                    after you've published your newspaper advertisement.\n                  "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1823,"column":30,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we'll email you a secure link to return and complete your registration\n                    after you&apos;ve published your newspaper advertisement.\n                  "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we'll email you a secure link to return and complete your registration\n                    after you&lsquo;ve published your newspaper advertisement.\n                  "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we'll email you a secure link to return and complete your registration\n                    after you&#39;ve published your newspaper advertisement.\n                  "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[76517,76723],"text":"\n                    Save your progress and we'll email you a secure link to return and complete your registration\n                    after you&rsquo;ve published your newspaper advertisement.\n                  "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":2050,"column":48,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[86946,87002],"text":" You&apos;ll pay now and secure your filing.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[86946,87002],"text":" You&lsquo;ll pay now and secure your filing.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[86946,87002],"text":" You&#39;ll pay now and secure your filing.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[86946,87002],"text":" You&rsquo;ll pay now and secure your filing.\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":2061,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[87527,87595],"text":" We&apos;ll save your information (no payment required).\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[87527,87595],"text":" We&lsquo;ll save your information (no payment required).\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[87527,87595],"text":" We&#39;ll save your information (no payment required).\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[87527,87595],"text":" We&rsquo;ll save your information (no payment required).\n                "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":2067,"column":44,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[87940,87990],"text":" We&apos;ll file your DBA immediately.\n                "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[87940,87990],"text":" We&lsquo;ll file your DBA immediately.\n                "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[87940,87990],"text":" We&#39;ll file your DBA immediately.\n                "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[87940,87990],"text":" We&rsquo;ll file your DBA immediately.\n                "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":34,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport { FormWizard, FormSection, FormInput, FormSelect, FormCheckbox } from '@/components/forms';\nimport { FictitiousNameFormData } from '@/types/forms';\nimport { Info, AlertCircle, Newspaper, Building2, User, Mail, CheckCircle, Save, AlertTriangle, Phone, Globe, DollarSign, Clock } from 'lucide-react';\nimport { getSuggestedCounty } from '@/lib/geolocation';\nimport { getNewspapersByCounty } from '@/lib/florida-newspapers';\n\n// All 67 Florida counties in alphabetical order\nconst FLORIDA_COUNTIES = [\n  'Alachua', 'Baker', 'Bay', 'Bradford', 'Brevard', 'Broward', 'Calhoun', 'Charlotte',\n  'Citrus', 'Clay', 'Collier', 'Columbia', 'DeSoto', 'Dixie', 'Duval', 'Escambia',\n  'Flagler', 'Franklin', 'Gadsden', 'Gilchrist', 'Glades', 'Gulf', 'Hamilton', 'Hardee',\n  'Hendry', 'Hernando', 'Highlands', 'Hillsborough', 'Holmes', 'Indian River', 'Jackson',\n  'Jefferson', 'Lafayette', 'Lake', 'Lee', 'Leon', 'Levy', 'Liberty', 'Madison',\n  'Manatee', 'Marion', 'Martin', 'Miami-Dade', 'Monroe', 'Nassau', 'Okaloosa', 'Okeechobee',\n  'Orange', 'Osceola', 'Palm Beach', 'Pasco', 'Pinellas', 'Polk', 'Putnam', 'St. Johns',\n  'St. Lucie', 'Santa Rosa', 'Sarasota', 'Seminole', 'Sumter', 'Suwannee', 'Taylor',\n  'Union', 'Volusia', 'Wakulla', 'Walton', 'Washington'\n];\n\nconst STEPS = [\n  { id: 1, name: 'Fictitious Name', description: 'DBA Name' },\n  { id: 2, name: 'Business Location', description: 'Address & County' },\n  { id: 3, name: 'Owner Information', description: 'Who Owns the DBA' },\n  { id: 4, name: 'Advertisement', description: 'Newspaper Requirement' },\n  { id: 5, name: 'Review', description: 'Confirm Details' },\n];\n\ninterface FictitiousNameWizardProps {\n  onSubmit: (data: FictitiousNameFormData) => Promise<void>;\n  initialData?: Partial<FictitiousNameFormData>;\n}\n\nexport default function FictitiousNameWizard({ onSubmit, initialData }: FictitiousNameWizardProps) {\n  const { data: session } = useSession();\n  const router = useRouter();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [fieldErrors, setFieldErrors] = useState<Record<string, string>>({});\n  const [savingDraft, setSavingDraft] = useState(false);\n  const [draftSaved, setDraftSaved] = useState(false);\n  const [calendarEvent, setCalendarEvent] = useState<string | null>(null);\n  const [autoSaveStatus, setAutoSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [lastSavedAt, setLastSavedAt] = useState<Date | null>(null);\n  const [suggestedCounty, setSuggestedCounty] = useState<string | null>(null);\n  const [countyAutoFilled, setCountyAutoFilled] = useState(false);\n  const [alreadyPublished, setAlreadyPublished] = useState(false); // Default to NO (not yet published) - safer for UPL compliance\n\n  const [formData, setFormData] = useState<FictitiousNameFormData>({\n    fictitiousName: initialData?.fictitiousName || '',\n    mailingAddress: initialData?.mailingAddress || {\n      street: '',\n      city: '',\n      state: 'FL',\n      zipCode: '',\n    },\n    principalCounty: initialData?.principalCounty || '',\n    hasFEIN: initialData?.hasFEIN || false,\n    fein: initialData?.fein || '',\n    ownerType: initialData?.ownerType || 'INDIVIDUAL',\n    individualOwners: initialData?.individualOwners || [{\n      firstName: '',\n      lastName: '',\n      middleName: '',\n      address: {\n        street: '',\n        city: '',\n        state: 'FL',\n        zipCode: '',\n      },\n    }],\n    businessEntityOwners: initialData?.businessEntityOwners || [],\n    newspaperAdvertised: initialData?.newspaperAdvertised || false,\n    newspaperName: initialData?.newspaperName || '',\n    advertisementDate: initialData?.advertisementDate || '',\n    paymentTiming: initialData?.paymentTiming || undefined,\n    certificateOfStatus: initialData?.certificateOfStatus || false,\n    certifiedCopy: initialData?.certifiedCopy || false,\n    correspondenceEmail: initialData?.correspondenceEmail || '',\n  });\n\n  // Check for resumed draft on mount (guest magic link)\n  useEffect(() => {\n    const draftData = sessionStorage.getItem('dba_draft_data');\n    const draftEmail = sessionStorage.getItem('dba_draft_email');\n\n    if (draftData && draftEmail) {\n      try {\n        const parsedData = JSON.parse(draftData);\n        setFormData(parsedData);\n        // Start at Step 4 (newspaper publication step)\n        setCurrentStep(4);\n        // Clear session storage\n        sessionStorage.removeItem('dba_draft_data');\n        sessionStorage.removeItem('dba_draft_email');\n      } catch (error) {\n        console.error('Error loading draft:', error);\n      }\n    }\n  }, []);\n\n  // Load saved draft for authenticated users on mount\n  useEffect(() => {\n    // Don't auto-load if resuming from guest magic link\n    const hasGuestDraft = sessionStorage.getItem('dba_draft_data');\n\n    if (session?.user?.id && !initialData && !hasGuestDraft) {\n      loadSavedDraft();\n    }\n  }, [session?.user?.id]);\n\n  // Smart county default - get suggested county based on IP geolocation\n  useEffect(() => {\n    // Only suggest if county is not already set\n    if (!formData.principalCounty && !initialData?.principalCounty) {\n      getSuggestedCounty().then((county) => {\n        if (county) {\n          setSuggestedCounty(county);\n          // Auto-fill the county\n          setFormData(prev => ({ ...prev, principalCounty: county }));\n          setCountyAutoFilled(true);\n        }\n      }).catch((error) => {\n        console.error('[Geolocation] Error:', error);\n      });\n    }\n  }, []);\n\n  // Auto-save draft every 30 seconds for authenticated users\n  useEffect(() => {\n    if (!session?.user?.id) return; // Only for authenticated users\n\n    const autoSaveInterval = setInterval(() => {\n      autoSaveDraft();\n    }, 30000); // 30 seconds\n\n    return () => clearInterval(autoSaveInterval);\n  }, [formData, currentStep, session?.user?.id]);\n\n  const loadSavedDraft = async () => {\n    try {\n      const response = await fetch('/api/form-drafts/load?formType=DBA_REGISTRATION');\n\n      if (response.ok) {\n        const data = await response.json();\n        if (data.success && data.draft) {\n          // Preserve geolocation county if draft doesn't have one\n          setFormData(prev => {\n            const draftData = data.draft.formData;\n            // If draft has no county but we have a suggested county, keep the suggested one\n            if (!draftData.principalCounty && prev.principalCounty) {\n              return { ...draftData, principalCounty: prev.principalCounty };\n            }\n            return draftData;\n          });\n          setCurrentStep(data.draft.currentStep);\n          setLastSavedAt(new Date(data.draft.updatedAt));\n        }\n      }\n    } catch (error) {\n      console.error('Error loading saved draft:', error);\n    }\n  };\n\n  const autoSaveDraft = async () => {\n    // Don't auto-save if not logged in\n    if (!session?.user?.id) {\n      return;\n    }\n\n    // Don't auto-save if on first step with no data\n    if (currentStep === 1 && !formData.fictitiousName.trim()) {\n      return;\n    }\n\n    setAutoSaveStatus('saving');\n\n    try {\n      const response = await fetch('/api/form-drafts/save', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          formType: 'DBA_REGISTRATION',\n          formData,\n          currentStep,\n          totalSteps: 5,\n          displayName: formData.fictitiousName || 'Untitled DBA',\n          emailRemindersEnabled: false, // Will be set separately\n        }),\n      });\n\n      if (response.ok) {\n        setAutoSaveStatus('saved');\n        setLastSavedAt(new Date());\n\n        // Reset to idle after 2 seconds\n        setTimeout(() => {\n          setAutoSaveStatus('idle');\n        }, 2000);\n      } else {\n        const errorData = await response.json();\n        console.error('Auto-save failed:', response.status, errorData);\n        setAutoSaveStatus('error');\n      }\n    } catch (error) {\n      console.error('Error auto-saving draft:', error);\n      setAutoSaveStatus('error');\n    }\n  };\n\n  const validateStep = (step: number, isSubmitting: boolean = false): boolean => {\n    const errors: Record<string, string> = {};\n\n    if (step === 1) {\n      if (!formData.fictitiousName.trim()) {\n        errors.fictitiousName = 'Fictitious name is required';\n      }\n      if (!formData.correspondenceEmail.trim()) {\n        errors.correspondenceEmail = 'Email is required';\n      }\n    }\n\n    if (step === 2) {\n      if (!formData.mailingAddress.street.trim()) {\n        errors['mailingAddress.street'] = 'Street address is required';\n      }\n      if (!formData.mailingAddress.city.trim()) {\n        errors['mailingAddress.city'] = 'City is required';\n      }\n      if (!formData.mailingAddress.zipCode.trim()) {\n        errors['mailingAddress.zipCode'] = 'ZIP code is required';\n      }\n      if (!formData.principalCounty) {\n        errors.principalCounty = 'County is required';\n      }\n    }\n\n    if (step === 3) {\n      if (formData.ownerType === 'INDIVIDUAL') {\n        formData.individualOwners?.forEach((owner, index) => {\n          if (!owner.firstName.trim()) {\n            errors[`individualOwners.${index}.firstName`] = 'First name is required';\n          }\n          if (!owner.lastName.trim()) {\n            errors[`individualOwners.${index}.lastName`] = 'Last name is required';\n          }\n          if (!owner.address.street.trim()) {\n            errors[`individualOwners.${index}.address.street`] = 'Street address is required';\n          }\n          if (!owner.address.city.trim()) {\n            errors[`individualOwners.${index}.address.city`] = 'City is required';\n          }\n          if (!owner.address.zipCode.trim()) {\n            errors[`individualOwners.${index}.address.zipCode`] = 'ZIP code is required';\n          }\n        });\n      } else {\n        formData.businessEntityOwners?.forEach((owner, index) => {\n          if (!owner.entityName.trim()) {\n            errors[`businessEntityOwners.${index}.entityName`] = 'Entity name is required';\n          }\n          if (!owner.entityAddress.street.trim()) {\n            errors[`businessEntityOwners.${index}.entityAddress.street`] = 'Street address is required';\n          }\n        });\n      }\n    }\n\n    // Step 4: Validate payment timing selection and certification\n    if (step === 4) {\n      // If NOT certified, require payment timing selection\n      if (!formData.newspaperAdvertised && !formData.paymentTiming) {\n        errors.paymentTiming = 'Please select when you would like to pay';\n      }\n\n      // If certified, validate required publication details\n      if (formData.newspaperAdvertised) {\n        if (!formData.newspaperName || !formData.newspaperName.trim()) {\n          errors.newspaperName = 'Newspaper name is required when certifying publication';\n        }\n        if (!formData.advertisementDate || !formData.advertisementDate.trim()) {\n          errors.advertisementDate = 'Publication date is required when certifying publication';\n        }\n      }\n\n      // Only validate certification if submitting and user chose PAY_NOW\n      if (isSubmitting) {\n        if (formData.paymentTiming === 'PAY_NOW' && !formData.newspaperAdvertised) {\n          errors.newspaperAdvertised = 'You must certify publication before paying now. Choose \"Pay After Publication\" if you haven\\'t published yet.';\n        }\n      }\n    }\n\n    setFieldErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep(prev => prev + 1);\n      setError(null);\n    }\n  };\n\n  const handleBack = () => {\n    setCurrentStep(prev => prev - 1);\n    setError(null);\n  };\n\n  const handleSubmit = async () => {\n    // Validate with isSubmitting=true to enforce certification requirement\n    if (!validateStep(currentStep, true)) {\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      // If user selected \"Pay After Publication\", save draft instead of creating order\n      if (formData.paymentTiming === 'PAY_AFTER_PUBLICATION') {\n        await handleSaveDraft();\n\n        // Wait 2 seconds to show success message, then redirect\n        setTimeout(() => {\n          if (session?.user?.id) {\n            router.push('/dashboard/customer');\n          } else {\n            router.push('/');\n          }\n        }, 2000);\n\n        setLoading(false);\n        return;\n      }\n\n      // Otherwise, proceed to checkout (PAY_NOW)\n      await onSubmit(formData);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to submit form');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addIndividualOwner = () => {\n    setFormData(prev => ({\n      ...prev,\n      individualOwners: [\n        ...(prev.individualOwners || []),\n        {\n          firstName: '',\n          lastName: '',\n          middleName: '',\n          address: {\n            street: '',\n            city: '',\n            state: 'FL',\n            zipCode: '',\n          },\n        },\n      ],\n    }));\n  };\n\n  const removeIndividualOwner = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      individualOwners: prev.individualOwners?.filter((_, i) => i !== index),\n    }));\n  };\n\n  const addBusinessEntityOwner = () => {\n    setFormData(prev => ({\n      ...prev,\n      businessEntityOwners: [\n        ...(prev.businessEntityOwners || []),\n        {\n          entityName: '',\n          entityAddress: {\n            street: '',\n            city: '',\n            state: 'FL',\n            zipCode: '',\n          },\n          floridaDocumentNumber: '',\n          fein: '',\n          feinStatus: 'NOT_APPLICABLE',\n        },\n      ],\n    }));\n  };\n\n  const removeBusinessEntityOwner = (index: number) => {\n    setFormData(prev => ({\n      ...prev,\n      businessEntityOwners: prev.businessEntityOwners?.filter((_, i) => i !== index),\n    }));\n  };\n\n  const downloadCalendarReminder = () => {\n    if (!calendarEvent) return;\n\n    const blob = new Blob([calendarEvent], { type: 'text/calendar' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `DBA-Reminder-${formData.fictitiousName.replace(/[^a-zA-Z0-9]/g, '-')}.ics`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleSaveDraft = async () => {\n    // Validate email first\n    if (!formData.correspondenceEmail || !formData.correspondenceEmail.trim()) {\n      setError('Please enter your email address in Step 1 before saving.');\n      return;\n    }\n\n    setSavingDraft(true);\n    setError(null);\n\n    try {\n      // For authenticated users, save to FormDraft AND send magic link + create notice\n      if (session?.user?.id) {\n        console.log('[DBA Save] Authenticated user - calling save-draft-authenticated API');\n        console.log('[DBA Save] Current step:', currentStep);\n        console.log('[DBA Save] Email:', formData.correspondenceEmail);\n\n        const response = await fetch('/api/dba/save-draft-authenticated', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            formData,\n            currentStep,\n            email: formData.correspondenceEmail,\n          }),\n        });\n\n        const data = await response.json();\n        console.log('[DBA Save] API response:', data);\n\n        if (!response.ok) {\n          console.error('[DBA Save] API error:', data.error);\n          throw new Error(data.error || 'Failed to save draft');\n        }\n\n        // Store calendar event for download\n        if (data.calendarEvent) {\n          console.log('[DBA Save] Calendar event received:', data.calendarEvent.substring(0, 50) + '...');\n          setCalendarEvent(data.calendarEvent);\n        } else {\n          console.warn('[DBA Save] No calendar event in response');\n        }\n\n        console.log('[DBA Save] Setting draftSaved to true');\n        setDraftSaved(true);\n        console.log('[DBA Save] Session user ID:', session?.user?.id);\n        console.log('[DBA Save] Calendar event state will be set on next render');\n\n        // Don't auto-hide the success message - let user dismiss it manually or navigate away\n      } else {\n        // For guests, use existing guest workflow\n        console.log('[DBA Save] Guest user - calling save-draft API');\n        console.log('[DBA Save] Email:', formData.correspondenceEmail);\n\n        const response = await fetch('/api/dba/save-draft', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            formData,\n            email: formData.correspondenceEmail,\n          }),\n        });\n\n        const data = await response.json();\n        console.log('[DBA Save] API response:', data);\n\n        if (!response.ok) {\n          console.error('[DBA Save] API error:', data.error);\n          throw new Error(data.error || 'Failed to save draft');\n        }\n\n        // Store calendar event for download\n        if (data.calendarEvent) {\n          console.log('[DBA Save] Calendar event received:', data.calendarEvent.substring(0, 50) + '...');\n          setCalendarEvent(data.calendarEvent);\n        } else {\n          console.warn('[DBA Save] No calendar event in response');\n        }\n\n        console.log('[DBA Save] Setting draftSaved to true');\n        setDraftSaved(true);\n\n        // Don't auto-hide the success message - let user dismiss it manually or navigate away\n      }\n\n    } catch (err: any) {\n      setError(err.message || 'Failed to save draft. Please try again.');\n    } finally {\n      setSavingDraft(false);\n    }\n  };\n\n  return (\n    <div>\n      {/* Auto-Save Status Indicator (for authenticated users only) */}\n      {session?.user?.id && currentStep > 1 && autoSaveStatus !== 'idle' && (\n        <div style={{\n          position: 'fixed',\n          bottom: '24px',\n          right: '24px',\n          padding: '12px 20px',\n          background: autoSaveStatus === 'saved' ? '#D1FAE5' :\n                     autoSaveStatus === 'saving' ? '#DBEAFE' :\n                     autoSaveStatus === 'error' ? '#FEE2E2' : '#F3F4F6',\n          border: `2px solid ${autoSaveStatus === 'saved' ? '#10B981' :\n                               autoSaveStatus === 'saving' ? '#0EA5E9' :\n                               autoSaveStatus === 'error' ? '#EF4444' : '#E5E7EB'}`,\n          borderRadius: '8px',\n          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          fontSize: '14px',\n          fontWeight: '500',\n          zIndex: 1000,\n          transition: 'all 0.3s',\n        }}>\n          {autoSaveStatus === 'saving' && (\n            <>\n              <Save size={16} className=\"text-sky-600 animate-pulse\" />\n              <span style={{ color: '#0369A1' }}>Saving...</span>\n            </>\n          )}\n          {autoSaveStatus === 'saved' && (\n            <>\n              <CheckCircle size={16} className=\"text-green-600\" />\n              <span style={{ color: '#065F46' }}>\n                Saved {lastSavedAt && `at ${lastSavedAt.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`}\n              </span>\n            </>\n          )}\n          {autoSaveStatus === 'error' && (\n            <>\n              <AlertCircle size={16} className=\"text-red-600\" />\n              <span style={{ color: '#991B1B' }}>Save failed</span>\n            </>\n          )}\n        </div>\n      )}\n\n      <FormWizard\n        steps={STEPS}\n        currentStep={currentStep}\n        onNext={handleNext}\n        onBack={handleBack}\n        onSubmit={handleSubmit}\n        loading={loading}\n        error={error}\n        submitButtonText={\n          formData.newspaperAdvertised || formData.paymentTiming === 'PAY_NOW'\n            ? 'Continue to Payment'\n            : session?.user?.id\n              ? 'Save Information & Return to Dashboard'\n              : 'Save Information & Return to Home'\n        }\n        showTrustSignals={true}\n        estimatedTime=\"5-7 Minutes\"\n      >\n        {/* Step 1: Fictitious Name */}\n        {currentStep === 1 && (\n          <FormSection\n            title=\"Fictitious Name Registration\"\n            description=\"Enter the DBA name you want to register\"\n          >\n          <div style={{\n            padding: '16px 20px',\n            background: '#EFF6FF',\n            border: '1px solid #BFDBFE',\n            borderRadius: '8px',\n            marginBottom: '24px',\n            display: 'flex',\n            gap: '12px',\n          }}>\n            <Info size={20} className=\"text-blue-600 flex-shrink-0\" style={{ marginTop: '2px' }} />\n            <div style={{ fontSize: '14px', color: '#1E40AF', lineHeight: '1.6' }}>\n              <strong>What is a Fictitious Name (DBA)?</strong>\n              <p style={{ marginTop: '8px', marginBottom: '0' }}>\n                A \"Doing Business As\" (DBA) name allows you to operate your business under a name different from your legal name or entity name. \n                For example, if John Smith wants to operate \"Smith's Landscaping,\" he would register that as a fictitious name.\n              </p>\n            </div>\n          </div>\n\n          <FormInput\n            label=\"Fictitious Name to Register\"\n            name=\"fictitiousName\"\n            value={formData.fictitiousName}\n            onChange={(e) => setFormData(prev => ({ ...prev, fictitiousName: e.target.value }))}\n            placeholder=\"e.g., Smith's Landscaping\"\n            required\n            error={fieldErrors.fictitiousName}\n            tooltip=\"Enter only the DBA name, not 'Your Name DBA Business Name'\"\n          />\n\n          <FormInput\n            label=\"Email Address\"\n            name=\"correspondenceEmail\"\n            type=\"email\"\n            value={formData.correspondenceEmail}\n            onChange={(e) => setFormData(prev => ({ ...prev, correspondenceEmail: e.target.value }))}\n            placeholder=\"your@email.com\"\n            required\n            error={fieldErrors.correspondenceEmail}\n            tooltip=\"All correspondence and confirmation will be sent to this email\"\n          />\n        </FormSection>\n      )}\n\n      {/* Step 2: Business Location */}\n      {currentStep === 2 && (\n        <FormSection\n          title=\"Business Location\"\n          description=\"Where will your business operate?\"\n        >\n          {countyAutoFilled && suggestedCounty && (\n            <div style={{\n              padding: '12px 16px',\n              background: '#F0FDF4',\n              border: '1px solid #86EFAC',\n              borderRadius: '8px',\n              marginBottom: '16px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n            }}>\n              <CheckCircle size={16} className=\"text-green-600\" />\n              <p style={{ fontSize: '13px', color: '#166534', margin: 0 }}>\n                We've pre-selected <strong>{suggestedCounty} County</strong> based on your location. You can change this if needed.\n              </p>\n            </div>\n          )}\n\n          <FormSelect\n            label=\"Florida County of Principal Place of Business\"\n            name=\"principalCounty\"\n            value={formData.principalCounty}\n            onChange={(e) => {\n              setFormData(prev => ({ ...prev, principalCounty: e.target.value }));\n              setCountyAutoFilled(false); // Remove the auto-fill indicator once user changes it\n            }}\n            required\n            error={fieldErrors.principalCounty}\n            tooltip=\"Select the county where your business will primarily operate\"\n            key={`county-select-${formData.principalCounty || 'empty'}`}\n          >\n            <option value=\"\">Select a county...</option>\n            {FLORIDA_COUNTIES.map(county => (\n              <option key={county} value={county}>{county}</option>\n            ))}\n          </FormSelect>\n\n          <div style={{ marginTop: '32px', marginBottom: '16px' }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '8px' }}>\n              Mailing Address\n            </h3>\n            <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '16px' }}>\n              Where should we send correspondence?\n            </p>\n          </div>\n\n          <FormInput\n            label=\"Street Address\"\n            name=\"mailingAddress.street\"\n            value={formData.mailingAddress.street}\n            onChange={(e) => setFormData(prev => ({\n              ...prev,\n              mailingAddress: { ...prev.mailingAddress, street: e.target.value }\n            }))}\n            placeholder=\"123 Main St\"\n            required\n            error={fieldErrors['mailingAddress.street']}\n          />\n\n          <FormInput\n            label=\"Street Address Line 2\"\n            name=\"mailingAddress.street2\"\n            value={formData.mailingAddress.street2 || ''}\n            onChange={(e) => setFormData(prev => ({\n              ...prev,\n              mailingAddress: { ...prev.mailingAddress, street2: e.target.value }\n            }))}\n            placeholder=\"Suite, Unit, Apt, etc. (optional)\"\n          />\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n            <FormInput\n              label=\"City\"\n              name=\"mailingAddress.city\"\n              value={formData.mailingAddress.city}\n              onChange={(e) => setFormData(prev => ({\n                ...prev,\n                mailingAddress: { ...prev.mailingAddress, city: e.target.value }\n              }))}\n              placeholder=\"Miami\"\n              required\n              error={fieldErrors['mailingAddress.city']}\n            />\n\n            <FormInput\n              label=\"ZIP Code\"\n              name=\"mailingAddress.zipCode\"\n              value={formData.mailingAddress.zipCode}\n              onChange={(e) => setFormData(prev => ({\n                ...prev,\n                mailingAddress: { ...prev.mailingAddress, zipCode: e.target.value }\n              }))}\n              placeholder=\"33101\"\n              required\n              error={fieldErrors['mailingAddress.zipCode']}\n            />\n          </div>\n\n          <div style={{ marginTop: '24px' }}>\n            <FormCheckbox\n              label=\"I have a Federal Employer Identification Number (FEIN/EIN)\"\n              name=\"hasFEIN\"\n              checked={formData.hasFEIN}\n              onChange={(e) => setFormData(prev => ({ ...prev, hasFEIN: e.target.checked }))}\n            />\n\n            {formData.hasFEIN && (\n              <div style={{ marginTop: '16px' }}>\n                <FormInput\n                  label=\"Federal Employer ID Number (FEIN/EIN)\"\n                  name=\"fein\"\n                  value={formData.fein || ''}\n                  onChange={(e) => setFormData(prev => ({ ...prev, fein: e.target.value }))}\n                  placeholder=\"12-3456789\"\n                  tooltip=\"Optional - 9 digit number assigned by the IRS\"\n                />\n              </div>\n            )}\n          </div>\n        </FormSection>\n      )}\n\n      {/* Step 3: Owner Information */}\n      {currentStep === 3 && (\n        <FormSection\n          title=\"Owner Information\"\n          description=\"Who owns this fictitious name?\"\n        >\n          <div style={{\n            padding: '16px 20px',\n            background: '#FEF3C7',\n            border: '1px solid #FDE68A',\n            borderRadius: '8px',\n            marginBottom: '24px',\n            display: 'flex',\n            gap: '12px',\n          }}>\n            <AlertCircle size={20} className=\"text-amber-600 flex-shrink-0\" style={{ marginTop: '2px' }} />\n            <div style={{ fontSize: '14px', color: '#92400E', lineHeight: '1.6' }}>\n              <strong>Owner Type</strong>\n              <p style={{ marginTop: '8px', marginBottom: '0' }}>\n                Choose \"Individual\" if you're registering as a person. Choose \"Business Entity\" if a corporation, LLC, or other business entity owns the DBA.\n              </p>\n            </div>\n          </div>\n\n          <div style={{ marginBottom: '24px' }}>\n            <label style={{ display: 'block', fontSize: '14px', fontWeight: '600', color: '#1F2937', marginBottom: '12px' }}>\n              Owner Type <span style={{ color: '#EF4444' }}>*</span>\n            </label>\n            <div style={{ display: 'flex', gap: '16px' }}>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setFormData(prev => ({\n                    ...prev,\n                    ownerType: 'INDIVIDUAL',\n                    // Ensure at least one individual owner exists\n                    individualOwners: prev.individualOwners && prev.individualOwners.length > 0\n                      ? prev.individualOwners\n                      : [{\n                          firstName: '',\n                          lastName: '',\n                          middleName: '',\n                          address: {\n                            street: '',\n                            city: '',\n                            state: 'FL',\n                            zipCode: '',\n                          },\n                        }]\n                  }));\n                }}\n                style={{\n                  flex: 1,\n                  padding: '16px',\n                  border: formData.ownerType === 'INDIVIDUAL' ? '2px solid #0EA5E9' : '2px solid #E5E7EB',\n                  borderRadius: '8px',\n                  background: formData.ownerType === 'INDIVIDUAL' ? '#F0F9FF' : 'white',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  transition: 'all 0.2s',\n                }}\n              >\n                <User size={24} className={formData.ownerType === 'INDIVIDUAL' ? 'text-sky-600' : 'text-gray-400'} />\n                <div style={{ textAlign: 'left' }}>\n                  <div style={{ fontWeight: '600', color: formData.ownerType === 'INDIVIDUAL' ? '#0369A1' : '#6B7280' }}>\n                    Individual\n                  </div>\n                  <div style={{ fontSize: '12px', color: '#9CA3AF' }}>\n                    Person(s)\n                  </div>\n                </div>\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setFormData(prev => ({\n                    ...prev,\n                    ownerType: 'BUSINESS_ENTITY',\n                    // Ensure at least one business entity owner exists\n                    businessEntityOwners: prev.businessEntityOwners && prev.businessEntityOwners.length > 0\n                      ? prev.businessEntityOwners\n                      : [{\n                          entityName: '',\n                          entityAddress: {\n                            street: '',\n                            city: '',\n                            state: 'FL',\n                            zipCode: '',\n                          },\n                          floridaDocumentNumber: '',\n                          fein: '',\n                          feinStatus: 'NOT_APPLICABLE',\n                        }]\n                  }));\n                }}\n                style={{\n                  flex: 1,\n                  padding: '16px',\n                  border: formData.ownerType === 'BUSINESS_ENTITY' ? '2px solid #0EA5E9' : '2px solid #E5E7EB',\n                  borderRadius: '8px',\n                  background: formData.ownerType === 'BUSINESS_ENTITY' ? '#F0F9FF' : 'white',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '12px',\n                  transition: 'all 0.2s',\n                }}\n              >\n                <Building2 size={24} className={formData.ownerType === 'BUSINESS_ENTITY' ? 'text-sky-600' : 'text-gray-400'} />\n                <div style={{ textAlign: 'left' }}>\n                  <div style={{ fontWeight: '600', color: formData.ownerType === 'BUSINESS_ENTITY' ? '#0369A1' : '#6B7280' }}>\n                    Business Entity\n                  </div>\n                  <div style={{ fontSize: '12px', color: '#9CA3AF' }}>\n                    LLC, Corp, etc.\n                  </div>\n                </div>\n              </button>\n            </div>\n          </div>\n\n          {/* Individual Owners */}\n          {formData.ownerType === 'INDIVIDUAL' && (\n            <div>\n              {formData.individualOwners?.map((owner, index) => (\n                <div key={index} style={{\n                  padding: '20px',\n                  border: '1px solid #E5E7EB',\n                  borderRadius: '8px',\n                  marginBottom: '16px',\n                  background: 'white',\n                }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                    <h4 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937' }}>\n                      Owner {index + 1}\n                    </h4>\n                    {index > 0 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => removeIndividualOwner(index)}\n                        style={{\n                          padding: '6px 12px',\n                          fontSize: '14px',\n                          color: '#EF4444',\n                          background: 'transparent',\n                          border: '1px solid #FCA5A5',\n                          borderRadius: '6px',\n                          cursor: 'pointer',\n                        }}\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: '16px', marginBottom: '16px' }}>\n                    <FormInput\n                      label=\"First Name\"\n                      name={`individualOwners.${index}.firstName`}\n                      value={owner.firstName}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.individualOwners || [])];\n                        newOwners[index].firstName = e.target.value;\n                        setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                      }}\n                      required\n                      error={fieldErrors[`individualOwners.${index}.firstName`]}\n                    />\n\n                    <FormInput\n                      label=\"Middle Name\"\n                      name={`individualOwners.${index}.middleName`}\n                      value={owner.middleName || ''}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.individualOwners || [])];\n                        newOwners[index].middleName = e.target.value;\n                        setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                      }}\n                    />\n\n                    <FormInput\n                      label=\"Last Name\"\n                      name={`individualOwners.${index}.lastName`}\n                      value={owner.lastName}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.individualOwners || [])];\n                        newOwners[index].lastName = e.target.value;\n                        setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                      }}\n                      required\n                      error={fieldErrors[`individualOwners.${index}.lastName`]}\n                    />\n                  </div>\n\n                  <FormInput\n                    label=\"Street Address\"\n                    name={`individualOwners.${index}.address.street`}\n                    value={owner.address.street}\n                    onChange={(e) => {\n                      const newOwners = [...(formData.individualOwners || [])];\n                      newOwners[index].address.street = e.target.value;\n                      setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                    }}\n                    required\n                    error={fieldErrors[`individualOwners.${index}.address.street`]}\n                  />\n\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n                    <FormInput\n                      label=\"City\"\n                      name={`individualOwners.${index}.address.city`}\n                      value={owner.address.city}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.individualOwners || [])];\n                        newOwners[index].address.city = e.target.value;\n                        setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                      }}\n                      required\n                      error={fieldErrors[`individualOwners.${index}.address.city`]}\n                    />\n\n                    <FormInput\n                      label=\"ZIP Code\"\n                      name={`individualOwners.${index}.address.zipCode`}\n                      value={owner.address.zipCode}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.individualOwners || [])];\n                        newOwners[index].address.zipCode = e.target.value;\n                        setFormData(prev => ({ ...prev, individualOwners: newOwners }));\n                      }}\n                      required\n                      error={fieldErrors[`individualOwners.${index}.address.zipCode`]}\n                    />\n                  </div>\n                </div>\n              ))}\n\n              <button\n                type=\"button\"\n                onClick={addIndividualOwner}\n                style={{\n                  padding: '12px 24px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  color: '#0EA5E9',\n                  background: 'white',\n                  border: '2px dashed #0EA5E9',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                  width: '100%',\n                }}\n              >\n                + Add Another Owner\n              </button>\n            </div>\n          )}\n\n          {/* Business Entity Owners */}\n          {formData.ownerType === 'BUSINESS_ENTITY' && (\n            <div>\n              {formData.businessEntityOwners?.map((owner, index) => (\n                <div key={index} style={{\n                  padding: '20px',\n                  border: '1px solid #E5E7EB',\n                  borderRadius: '8px',\n                  marginBottom: '16px',\n                  background: 'white',\n                }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                    <h4 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937' }}>\n                      Business Entity Owner {index + 1}\n                    </h4>\n                    {index > 0 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => removeBusinessEntityOwner(index)}\n                        style={{\n                          padding: '6px 12px',\n                          fontSize: '14px',\n                          color: '#EF4444',\n                          background: 'transparent',\n                          border: '1px solid #FCA5A5',\n                          borderRadius: '6px',\n                          cursor: 'pointer',\n                        }}\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n\n                  <FormInput\n                    label=\"Business Entity Name\"\n                    name={`businessEntityOwners.${index}.entityName`}\n                    value={owner.entityName}\n                    onChange={(e) => {\n                      const newOwners = [...(formData.businessEntityOwners || [])];\n                      newOwners[index].entityName = e.target.value;\n                      setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                    }}\n                    placeholder=\"e.g., ABC Corporation\"\n                    required\n                    error={fieldErrors[`businessEntityOwners.${index}.entityName`]}\n                  />\n\n                  <FormInput\n                    label=\"Florida Document Number\"\n                    name={`businessEntityOwners.${index}.floridaDocumentNumber`}\n                    value={owner.floridaDocumentNumber || ''}\n                    onChange={(e) => {\n                      const newOwners = [...(formData.businessEntityOwners || [])];\n                      newOwners[index].floridaDocumentNumber = e.target.value;\n                      setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                    }}\n                    placeholder=\"L12000012345\"\n                    tooltip=\"If registered with FL Division of Corporations\"\n                  />\n\n                  <FormInput\n                    label=\"Street Address\"\n                    name={`businessEntityOwners.${index}.entityAddress.street`}\n                    value={owner.entityAddress.street}\n                    onChange={(e) => {\n                      const newOwners = [...(formData.businessEntityOwners || [])];\n                      newOwners[index].entityAddress.street = e.target.value;\n                      setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                    }}\n                    required\n                    error={fieldErrors[`businessEntityOwners.${index}.entityAddress.street`]}\n                  />\n\n                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '16px' }}>\n                    <FormInput\n                      label=\"City\"\n                      name={`businessEntityOwners.${index}.entityAddress.city`}\n                      value={owner.entityAddress.city}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.businessEntityOwners || [])];\n                        newOwners[index].entityAddress.city = e.target.value;\n                        setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                      }}\n                      required\n                    />\n\n                    <FormInput\n                      label=\"ZIP Code\"\n                      name={`businessEntityOwners.${index}.entityAddress.zipCode`}\n                      value={owner.entityAddress.zipCode}\n                      onChange={(e) => {\n                        const newOwners = [...(formData.businessEntityOwners || [])];\n                        newOwners[index].entityAddress.zipCode = e.target.value;\n                        setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                      }}\n                      required\n                    />\n                  </div>\n\n                  <FormInput\n                    label=\"Federal Employer ID (FEIN/EIN)\"\n                    name={`businessEntityOwners.${index}.fein`}\n                    value={owner.fein || ''}\n                    onChange={(e) => {\n                      const newOwners = [...(formData.businessEntityOwners || [])];\n                      newOwners[index].fein = e.target.value;\n                      setFormData(prev => ({ ...prev, businessEntityOwners: newOwners }));\n                    }}\n                    placeholder=\"12-3456789\"\n                    tooltip=\"9-digit number assigned by the IRS\"\n                  />\n                </div>\n              ))}\n\n              <button\n                type=\"button\"\n                onClick={addBusinessEntityOwner}\n                style={{\n                  padding: '12px 24px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  color: '#0EA5E9',\n                  background: 'white',\n                  border: '2px dashed #0EA5E9',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                  width: '100%',\n                }}\n              >\n                + Add Another Business Entity Owner\n              </button>\n            </div>\n          )}\n        </FormSection>\n      )}\n\n      {/* Step 4: Advertisement - Simplified Toggle Flow */}\n      {currentStep === 4 && (\n        <FormSection\n          title=\"Newspaper Publication Required\"\n          description=\"Complete this step before we can file your DBA\"\n        >\n          {/* Legal Requirement Notice */}\n          <div style={{\n            padding: '24px',\n            background: 'linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)',\n            border: '2px solid #F59E0B',\n            borderRadius: '12px',\n            marginBottom: '32px',\n          }}>\n            <div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start' }}>\n              <Newspaper size={28} className=\"text-amber-700 flex-shrink-0\" style={{ marginTop: '2px' }} />\n              <div>\n                <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#92400E', marginBottom: '12px', lineHeight: '1.3' }}>\n                  Florida Law Requires Newspaper Publication\n                </h3>\n                <p style={{ fontSize: '15px', color: '#78350F', lineHeight: '1.7', marginBottom: '0' }}>\n                  Before we can file your DBA with the State of Florida, you must publish your fictitious name\n                  once in a newspaper in <strong>{formData.principalCounty} County</strong>. This is required by\n                  Chapter 50, Florida Statutes.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Toggle Question: Already Published? */}\n          <div style={{\n            padding: '28px',\n            background: '#FFFFFF',\n            border: '2px solid #E5E7EB',\n            borderRadius: '12px',\n            marginBottom: '32px',\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: '24px' }}>\n              <div style={{ flex: 1 }}>\n                <h3 style={{ fontSize: '17px', fontWeight: '600', color: '#111827', marginBottom: '8px' }}>\n                  Have you already published your DBA in a newspaper?\n                </h3>\n                <p style={{ fontSize: '14px', color: '#6B7280', lineHeight: '1.6', marginBottom: '0' }}>\n                  If you've already completed the newspaper publication requirement, select \"Yes\" to proceed.\n                </p>\n              </div>\n\n              {/* Toggle Switch */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '12px', flexShrink: 0 }}>\n                <span style={{\n                  fontSize: '14px',\n                  fontWeight: alreadyPublished ? '400' : '600',\n                  color: alreadyPublished ? '#9CA3AF' : '#111827',\n                }}>\n                  No\n                </span>\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setAlreadyPublished(!alreadyPublished);\n                    // If switching to YES, auto-check the certification\n                    if (!alreadyPublished) {\n                      setFormData(prev => ({\n                        ...prev,\n                        newspaperAdvertised: true,\n                        paymentTiming: 'PAY_NOW'\n                      }));\n                    } else {\n                      // If switching to NO, uncheck certification\n                      setFormData(prev => ({\n                        ...prev,\n                        newspaperAdvertised: false,\n                      }));\n                    }\n                  }}\n                  style={{\n                    position: 'relative',\n                    width: '56px',\n                    height: '32px',\n                    borderRadius: '16px',\n                    background: alreadyPublished ? '#10B981' : '#D1D5DB',\n                    border: 'none',\n                    cursor: 'pointer',\n                    transition: 'background 0.3s',\n                    padding: 0,\n                  }}\n                >\n                  <div style={{\n                    position: 'absolute',\n                    top: '4px',\n                    left: alreadyPublished ? '28px' : '4px',\n                    width: '24px',\n                    height: '24px',\n                    borderRadius: '50%',\n                    background: '#FFFFFF',\n                    transition: 'left 0.3s',\n                    boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)',\n                  }} />\n                </button>\n                <span style={{\n                  fontSize: '14px',\n                  fontWeight: alreadyPublished ? '600' : '400',\n                  color: alreadyPublished ? '#111827' : '#9CA3AF',\n                }}>\n                  Yes\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* If YES (Already Published) - Show Certification */}\n          {alreadyPublished && (\n            <>\n              {/* Certification Checkbox with Warning */}\n              <div style={{\n                padding: '24px',\n                background: '#FFFFFF',\n                border: '2px solid #E5E7EB',\n                borderRadius: '12px',\n                marginBottom: '24px',\n              }}>\n                {/* Warning Banner */}\n                <div style={{\n                  padding: '16px 20px',\n                  background: 'linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)',\n                  border: '2px solid #F59E0B',\n                  borderRadius: '8px',\n                  marginBottom: '24px',\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'flex-start', gap: '12px' }}>\n                    <AlertTriangle size={20} style={{ color: '#D97706', flexShrink: 0, marginTop: '2px' }} />\n                    <div>\n                      <h4 style={{ fontSize: '14px', fontWeight: '600', color: '#92400E', marginBottom: '6px' }}>\n                        ‚ö†Ô∏è Important Legal Notice\n                      </h4>\n                      <p style={{ fontSize: '13px', color: '#78350F', lineHeight: '1.6', marginBottom: '0' }}>\n                        False certification may result in rejection of your filing and potential penalties under Florida law.\n                        Only certify if you have actually published the required notice in a qualified newspaper.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <FormCheckbox\n                  label={`I certify that as of ${new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}, I have published the required notice in a newspaper of general circulation in the county where my business is located, as required by Florida law.`}\n                  name=\"newspaperAdvertised\"\n                  checked={formData.newspaperAdvertised}\n                  onChange={async (e) => {\n                    const isChecked = e.target.checked;\n                    setFormData(prev => ({\n                      ...prev,\n                      newspaperAdvertised: isChecked,\n                      paymentTiming: isChecked ? 'PAY_NOW' : prev.paymentTiming\n                    }));\n\n                    // Send certification confirmation email when user checks the box\n                    // (only if they've filled in newspaper name and publication date)\n                    if (isChecked && formData.newspaperName && formData.advertisementDate && formData.correspondenceEmail) {\n                      try {\n                        const response = await fetch('/api/dba/certify-publication', {\n                          method: 'POST',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({\n                            email: formData.correspondenceEmail,\n                            fictitiousName: formData.fictitiousName,\n                            newspaperName: formData.newspaperName,\n                            publicationDate: formData.advertisementDate,\n                          }),\n                        });\n\n                        if (response.ok) {\n                          console.log('‚úÖ Certification confirmation email sent');\n                        } else {\n                          console.warn('‚ö†Ô∏è Failed to send certification email, but continuing...');\n                        }\n                      } catch (error) {\n                        console.error('Error sending certification email:', error);\n                        // Don't block the user if email fails - it's not critical\n                      }\n                    }\n                  }}\n                  error={fieldErrors.newspaperAdvertised}\n                />\n\n                {formData.newspaperAdvertised && (\n                  <div style={{ marginTop: '24px', paddingTop: '24px', borderTop: '1px solid #E5E7EB' }}>\n                    <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '16px' }}>\n                      <span style={{ color: '#DC2626', fontWeight: '600' }}>*Required:</span> Please provide publication details for our records\n                    </p>\n                    <FormInput\n                      label=\"Newspaper Name *\"\n                      name=\"newspaperName\"\n                      value={formData.newspaperName || ''}\n                      onChange={(e) => setFormData(prev => ({ ...prev, newspaperName: e.target.value }))}\n                      placeholder=\"e.g., Miami Herald\"\n                      required\n                      error={fieldErrors.newspaperName}\n                    />\n\n                    <FormInput\n                      label=\"Publication Date *\"\n                      name=\"advertisementDate\"\n                      type=\"date\"\n                      value={formData.advertisementDate || ''}\n                      onChange={(e) => setFormData(prev => ({ ...prev, advertisementDate: e.target.value }))}\n                      required\n                      error={fieldErrors.advertisementDate}\n                    />\n                  </div>\n                )}\n              </div>\n\n              {/* Certified - Ready to File Message */}\n              {formData.newspaperAdvertised && (\n                <div style={{\n                  padding: '20px 24px',\n                  background: 'linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%)',\n                  border: '2px solid #10B981',\n                  borderRadius: '12px',\n                  marginBottom: '24px',\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n                    <CheckCircle size={24} className=\"text-green-600\" />\n                    <div>\n                      <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#065F46', marginBottom: '4px' }}>\n                        ‚úì Ready to File!\n                      </h3>\n                      <p style={{ fontSize: '14px', color: '#047857', marginBottom: '0' }}>\n                        You've certified publication. Continue to payment and we'll file your DBA immediately.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {/* If NO (Not Published Yet) - Show Instructions */}\n          {!alreadyPublished && (\n            <>\n              {/* Simple 3-Step Process */}\n              <div style={{\n                padding: '28px',\n                background: '#FFFFFF',\n                border: '2px solid #E5E7EB',\n                borderRadius: '12px',\n                marginBottom: '32px',\n                marginTop: '32px',\n              }}>\n                <h3 style={{ fontSize: '17px', fontWeight: '600', color: '#111827', marginBottom: '20px' }}>\n                  Here's How to Publish Your DBA:\n                </h3>\n\n                {/* Step 1 */}\n                <div style={{ display: 'flex', gap: '16px', marginBottom: '24px' }}>\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '50%',\n                    background: '#0EA5E9',\n                    color: '#FFFFFF',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontWeight: '600',\n                    fontSize: '16px',\n                    flexShrink: 0,\n                  }}>\n                    1\n                  </div>\n                  <div>\n                    <h4 style={{ fontSize: '15px', fontWeight: '600', color: '#1F2937', marginBottom: '8px' }}>\n                      Contact a Newspaper in {formData.principalCounty} County\n                    </h4>\n                    <p style={{ fontSize: '14px', color: '#6B7280', lineHeight: '1.6', marginBottom: '12px' }}>\n                      Call or email a local newspaper and request to publish a \"fictitious name notice\" or \"DBA advertisement.\"\n                    </p>\n                    <div style={{\n                      padding: '12px 16px',\n                      background: '#F9FAFB',\n                      borderRadius: '8px',\n                      border: '1px solid #E5E7EB',\n                    }}>\n                      <p style={{ fontSize: '13px', color: '#6B7280', marginBottom: '4px' }}>\n                        <strong style={{ color: '#374151' }}>Your Fictitious Name:</strong>\n                      </p>\n                      <p style={{ fontSize: '15px', fontWeight: '600', color: '#0EA5E9', marginBottom: '0' }}>\n                        {formData.fictitiousName}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Step 2 */}\n                <div style={{ display: 'flex', gap: '16px', marginBottom: '24px' }}>\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '50%',\n                    background: '#0EA5E9',\n                    color: '#FFFFFF',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontWeight: '600',\n                    fontSize: '16px',\n                    flexShrink: 0,\n                  }}>\n                    2\n                  </div>\n                  <div>\n                    <h4 style={{ fontSize: '15px', fontWeight: '600', color: '#1F2937', marginBottom: '8px' }}>\n                      Publish the Advertisement\n                    </h4>\n                    <p style={{ fontSize: '14px', color: '#6B7280', lineHeight: '1.6', marginBottom: '0' }}>\n                      The newspaper will publish your notice (typically costs $50-$150). Keep a copy of the published ad for your records.\n                    </p>\n                  </div>\n                </div>\n\n                {/* Step 3 */}\n                <div style={{ display: 'flex', gap: '16px' }}>\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '50%',\n                    background: '#0EA5E9',\n                    color: '#FFFFFF',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontWeight: '600',\n                    fontSize: '16px',\n                    flexShrink: 0,\n                  }}>\n                    3\n                  </div>\n                  <div>\n                    <h4 style={{ fontSize: '15px', fontWeight: '600', color: '#1F2937', marginBottom: '8px' }}>\n                      Return Here to Complete Your Filing\n                    </h4>\n                    <p style={{ fontSize: '14px', color: '#6B7280', lineHeight: '1.6', marginBottom: '0' }}>\n                      Once published, come back and toggle the switch above to \"Yes\" to proceed with your DBA registration.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Newspaper List for Selected County */}\n              {(() => {\n                // Only show if county is selected\n                if (!formData.principalCounty) {\n                  return (\n                    <div style={{\n                      padding: '20px 24px',\n                      background: '#FEF3C7',\n                      border: '2px solid #FDE68A',\n                      borderRadius: '12px',\n                      marginBottom: '24px',\n                    }}>\n                      <p style={{ fontSize: '14px', color: '#92400E', margin: '0' }}>\n                        <strong>Note:</strong> Please select your county in Step 2 to see newspapers available in your area.\n                      </p>\n                    </div>\n                  );\n                }\n\n                const newspapers = getNewspapersByCounty(formData.principalCounty);\n                const isDefaultInstructions = newspapers.length === 1 && newspapers[0].name === 'Local Newspaper in Your County';\n\n                return (\n                  <div style={{ marginBottom: '32px' }}>\n                    <h3 style={{ fontSize: '18px', fontWeight: '600', color: '#0F172A', marginBottom: '16px' }}>\n                      üì∞ Newspapers in {formData.principalCounty} County\n                    </h3>\n\n                    {!isDefaultInstructions ? (\n                      <p style={{ fontSize: '14px', color: '#64748B', marginBottom: '20px' }}>\n                        Contact one of these newspapers to publish your fictitious name notice:\n                      </p>\n                    ) : (\n                      <p style={{ fontSize: '14px', color: '#64748B', marginBottom: '20px' }}>\n                        Here's how to find and contact a newspaper in {formData.principalCounty} County:\n                      </p>\n                    )}\n\n                    {newspapers.map((newspaper, index) => (\n                      <div\n                        key={index}\n                        style={{\n                          padding: '24px',\n                          background: '#FFFFFF',\n                          border: '2px solid #E2E8F0',\n                          borderRadius: '12px',\n                          marginBottom: index < newspapers.length - 1 ? '20px' : '0',\n                        }}\n                      >\n                        {/* Newspaper Header */}\n                        <div style={{ marginBottom: '16px' }}>\n                          <h4 style={{ fontSize: '16px', fontWeight: '600', color: '#0F172A', marginBottom: '12px' }}>\n                            {newspaper.name}\n                          </h4>\n\n                          {/* Contact Info Grid */}\n                          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '12px' }}>\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                              <Phone size={16} style={{ color: '#0EA5E9' }} />\n                              <span style={{ fontSize: '14px', color: '#334155' }}>{newspaper.phone}</span>\n                            </div>\n                            {newspaper.email && (\n                              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                                <Mail size={16} style={{ color: '#0EA5E9' }} />\n                                <a href={`mailto:${newspaper.email}`} style={{ fontSize: '14px', color: '#0EA5E9', textDecoration: 'none' }}>\n                                  {newspaper.email}\n                                </a>\n                              </div>\n                            )}\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                              <DollarSign size={16} style={{ color: '#10B981' }} />\n                              <span style={{ fontSize: '14px', color: '#334155' }}>{newspaper.estimatedCost}</span>\n                            </div>\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                              <Clock size={16} style={{ color: '#F59E0B' }} />\n                              <span style={{ fontSize: '14px', color: '#334155' }}>{newspaper.processingTime}</span>\n                            </div>\n                          </div>\n\n                          {newspaper.website && (\n                            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                              <Globe size={16} style={{ color: '#0EA5E9' }} />\n                              <a\n                                href={newspaper.website}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                style={{ fontSize: '14px', color: '#0EA5E9', textDecoration: 'none' }}\n                              >\n                                {newspaper.website.replace('https://', '').replace('http://', '')}\n                              </a>\n                            </div>\n                          )}\n                        </div>\n\n                        {/* Step-by-Step Instructions */}\n                        <div style={{\n                          padding: '16px',\n                          background: '#F8FAFC',\n                          borderRadius: '8px',\n                          marginBottom: newspaper.notes ? '12px' : '0',\n                        }}>\n                          <h5 style={{ fontSize: '14px', fontWeight: '600', color: '#0F172A', marginBottom: '12px' }}>\n                            üìã Step-by-Step Instructions:\n                          </h5>\n                          <ol style={{ margin: '0', paddingLeft: '20px' }}>\n                            {newspaper.instructions.map((instruction, i) => (\n                              <li key={i} style={{ fontSize: '13px', color: '#475569', lineHeight: '1.6', marginBottom: '8px' }}>\n                                {instruction}\n                              </li>\n                            ))}\n                          </ol>\n                        </div>\n\n                        {/* Notes */}\n                        {newspaper.notes && (\n                          <div style={{\n                            padding: '12px 16px',\n                            background: '#EFF6FF',\n                            border: '1px solid #BFDBFE',\n                            borderRadius: '6px',\n                          }}>\n                            <p style={{ fontSize: '13px', color: '#1E40AF', margin: '0' }}>\n                              <strong>Note:</strong> {newspaper.notes}\n                            </p>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {/* Disclaimer */}\n                    <div style={{\n                      padding: '12px 16px',\n                      background: '#FFFBEB',\n                      border: '1px solid #FDE68A',\n                      borderRadius: '8px',\n                      marginTop: '20px',\n                    }}>\n                      <p style={{ fontSize: '12px', color: '#92400E', margin: '0', lineHeight: '1.5' }}>\n                        <strong>Disclaimer:</strong> This is an informational resource only. We do not recommend specific newspapers.\n                        Costs and processing times are estimates and may vary. Please verify details directly with the newspaper.\n                      </p>\n                    </div>\n                  </div>\n                );\n              })()}\n\n              {/* UPL Disclaimer */}\n              <div style={{\n                padding: '16px 20px',\n                background: '#F9FAFB',\n                border: '1px solid #D1D5DB',\n                borderRadius: '8px',\n                marginBottom: '32px',\n              }}>\n                <p style={{ fontSize: '13px', color: '#6B7280', lineHeight: '1.6', marginBottom: '0' }}>\n                  <strong style={{ color: '#374151' }}>Legal Information Only:</strong> We provide filing services and legal information,\n                  not legal advice. We cannot recommend specific newspapers or advise you on legal requirements. For legal advice,\n                  please consult a licensed Florida attorney.\n                </p>\n              </div>\n\n              {/* Not Ready - Can Still Continue */}\n              <div style={{\n                padding: '16px 20px',\n                background: '#F0F9FF',\n                border: '1px solid #BAE6FD',\n                borderRadius: '8px',\n                marginBottom: '24px',\n              }}>\n                <p style={{ fontSize: '13px', color: '#0369A1', margin: 0 }}>\n                  üí° <strong>Not ready to publish yet?</strong> You can continue to review your order and pricing.\n                  Publication will be required before final submission.\n                </p>\n              </div>\n            </>\n          )}\n\n          {/* Payment Timing Selection - Only show if NOT certified */}\n          {!formData.newspaperAdvertised && (\n            <div style={{\n              padding: '24px',\n              background: '#FFFFFF',\n              border: '2px solid #E5E7EB',\n              borderRadius: '12px',\n              marginBottom: '24px',\n            }}>\n              <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#111827', marginBottom: '12px' }}>\n                When would you like to pay?\n              </h3>\n              <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '20px' }}>\n                Choose your preferred payment timing based on your publication status\n              </p>\n\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n              {/* Pay Now Option */}\n              <label\n                style={{\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  gap: '12px',\n                  padding: '16px',\n                  border: formData.paymentTiming === 'PAY_NOW' ? '2px solid #0EA5E9' : '2px solid #E5E7EB',\n                  borderRadius: '8px',\n                  background: formData.paymentTiming === 'PAY_NOW' ? '#EFF6FF' : '#FFFFFF',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s',\n                }}\n                onMouseEnter={(e) => {\n                  if (formData.paymentTiming !== 'PAY_NOW') {\n                    e.currentTarget.style.borderColor = '#CBD5E1';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (formData.paymentTiming !== 'PAY_NOW') {\n                    e.currentTarget.style.borderColor = '#E5E7EB';\n                  }\n                }}\n              >\n                <input\n                  type=\"radio\"\n                  name=\"paymentTiming\"\n                  value=\"PAY_NOW\"\n                  checked={formData.paymentTiming === 'PAY_NOW'}\n                  onChange={(e) => setFormData(prev => ({ ...prev, paymentTiming: 'PAY_NOW' }))}\n                  style={{ marginTop: '2px', cursor: 'pointer' }}\n                />\n                <div style={{ flex: 1 }}>\n                  <div style={{ fontSize: '15px', fontWeight: '600', color: '#111827', marginBottom: '4px' }}>\n                    üí≥ Pay Now\n                  </div>\n                  <div style={{ fontSize: '13px', color: '#6B7280', lineHeight: '1.5' }}>\n                    {formData.newspaperAdvertised ? (\n                      <>\n                        <strong>Ready to file!</strong> You've certified publication. Pay now and we'll file your DBA immediately.\n                      </>\n                    ) : (\n                      <>\n                        <strong>Reserve your spot.</strong> Pay now, publish your ad later, then notify us to file.\n                        Your information is secured and ready to go.\n                      </>\n                    )}\n                  </div>\n                </div>\n              </label>\n\n              {/* Pay After Publication Option */}\n              <label\n                style={{\n                  display: 'flex',\n                  alignItems: 'flex-start',\n                  gap: '12px',\n                  padding: '16px',\n                  border: formData.paymentTiming === 'PAY_AFTER_PUBLICATION' ? '2px solid #0EA5E9' : '2px solid #E5E7EB',\n                  borderRadius: '8px',\n                  background: formData.paymentTiming === 'PAY_AFTER_PUBLICATION' ? '#EFF6FF' : '#FFFFFF',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s',\n                }}\n                onMouseEnter={(e) => {\n                  if (formData.paymentTiming !== 'PAY_AFTER_PUBLICATION') {\n                    e.currentTarget.style.borderColor = '#CBD5E1';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (formData.paymentTiming !== 'PAY_AFTER_PUBLICATION') {\n                    e.currentTarget.style.borderColor = '#E5E7EB';\n                  }\n                }}\n              >\n                <input\n                  type=\"radio\"\n                  name=\"paymentTiming\"\n                  value=\"PAY_AFTER_PUBLICATION\"\n                  checked={formData.paymentTiming === 'PAY_AFTER_PUBLICATION'}\n                  onChange={(e) => setFormData(prev => ({ ...prev, paymentTiming: 'PAY_AFTER_PUBLICATION' }))}\n                  style={{ marginTop: '2px', cursor: 'pointer' }}\n                />\n                <div style={{ flex: 1 }}>\n                  <div style={{ fontSize: '15px', fontWeight: '600', color: '#111827', marginBottom: '4px' }}>\n                    üìÖ Pay After Publication\n                  </div>\n                  <div style={{ fontSize: '13px', color: '#6B7280', lineHeight: '1.5' }}>\n                    <strong>Publish first, pay later.</strong> We'll save your information. After you publish your ad,\n                    return to pay and we'll file your DBA.\n                  </div>\n                </div>\n              </label>\n            </div>\n\n              {formData.paymentTiming === 'PAY_AFTER_PUBLICATION' && (\n                <div style={{\n                  marginTop: '16px',\n                  padding: '12px 16px',\n                  background: '#FEF3C7',\n                  border: '1px solid #FCD34D',\n                  borderRadius: '8px',\n                }}>\n                  <p style={{ fontSize: '13px', color: '#92400E', margin: 0 }}>\n                    ‚ö†Ô∏è <strong>Important:</strong> Your DBA will not be filed until you return, certify publication, and complete payment.\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Save & Get Link Button */}\n          {!formData.newspaperAdvertised && formData.paymentTiming === 'PAY_AFTER_PUBLICATION' && (\n            <div style={{\n              padding: '24px',\n              background: 'linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%)',\n              border: '2px solid #0EA5E9',\n              borderRadius: '12px',\n              marginBottom: '24px',\n            }}>\n              <div style={{ display: 'flex', gap: '16px', alignItems: 'flex-start', marginBottom: '16px' }}>\n                <Mail size={24} className=\"text-sky-600 flex-shrink-0\" style={{ marginTop: '2px' }} />\n                <div>\n                  <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#0C4A6E', marginBottom: '8px' }}>\n                    Need Time to Publish Your Ad?\n                  </h3>\n                  <p style={{ fontSize: '14px', color: '#075985', lineHeight: '1.6', marginBottom: '0' }}>\n                    Save your progress and we'll email you a secure link to return and complete your registration\n                    after you've published your newspaper advertisement.\n                  </p>\n                </div>\n              </div>\n\n              {draftSaved ? (\n                <div>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '12px',\n                    padding: '14px 20px',\n                    background: '#D1FAE5',\n                    border: '2px solid #10B981',\n                    borderRadius: '8px',\n                    marginBottom: '16px',\n                  }}>\n                    <CheckCircle size={20} className=\"text-green-600\" />\n                    <div style={{ flex: 1 }}>\n                      <div style={{ fontSize: '14px', fontWeight: '600', color: '#065F46', marginBottom: '4px' }}>\n                        ‚úì Your registration is saved!\n                      </div>\n                      <div style={{ fontSize: '13px', color: '#047857' }}>\n                        {session?.user?.id ? (\n                          <>Email sent to {formData.correspondenceEmail}. Also check your dashboard for reminders.</>\n                        ) : (\n                          <>Link sent to {formData.correspondenceEmail}! Check your email.</>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Calendar Download Button (for all users) */}\n                  {calendarEvent && (\n                    <button\n                      type=\"button\"\n                      onClick={downloadCalendarReminder}\n                      style={{\n                        width: '100%',\n                        padding: '12px 20px',\n                        background: '#FFFFFF',\n                        color: '#0EA5E9',\n                        border: '2px solid #0EA5E9',\n                        borderRadius: '8px',\n                        fontSize: '14px',\n                        fontWeight: '600',\n                        cursor: 'pointer',\n                        transition: 'all 0.2s',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        gap: '8px',\n                      }}\n                      onMouseOver={(e) => {\n                        e.currentTarget.style.background = '#EFF6FF';\n                      }}\n                      onMouseOut={(e) => {\n                        e.currentTarget.style.background = '#FFFFFF';\n                      }}\n                    >\n                      üìÖ Add Reminder to Calendar\n                    </button>\n                  )}\n                </div>\n              ) : (\n                <button\n                  type=\"button\"\n                  onClick={handleSaveDraft}\n                  disabled={savingDraft}\n                  style={{\n                    width: '100%',\n                    padding: '14px 24px',\n                    background: '#0EA5E9',\n                    color: '#FFFFFF',\n                    border: 'none',\n                    borderRadius: '8px',\n                    fontSize: '15px',\n                    fontWeight: '600',\n                    cursor: savingDraft ? 'not-allowed' : 'pointer',\n                    opacity: savingDraft ? 0.6 : 1,\n                    transition: 'all 0.2s',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px',\n                  }}\n                  onMouseOver={(e) => !savingDraft && (e.currentTarget.style.background = '#0284C7')}\n                  onMouseOut={(e) => !savingDraft && (e.currentTarget.style.background = '#0EA5E9')}\n                >\n                  <Mail size={18} />\n                  {savingDraft ? 'Sending Link...' : 'Save & Email Me a Link to Return'}\n                </button>\n              )}\n\n              <p style={{ fontSize: '12px', color: '#64748B', marginTop: '12px', marginBottom: '0', textAlign: 'center' }}>\n                The link will be sent to <strong>{formData.correspondenceEmail || 'your email'}</strong> and expires in 7 days\n              </p>\n            </div>\n          )}\n\n          {/* Additional Options */}\n          <div style={{\n            padding: '24px',\n            background: '#FFFFFF',\n            border: '2px solid #E5E7EB',\n            borderRadius: '12px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#111827', marginBottom: '16px' }}>\n              Additional Documents (Optional)\n            </h3>\n\n            <FormCheckbox\n              label=\"Certificate of Status (+$10.00)\"\n              name=\"certificateOfStatus\"\n              checked={formData.certificateOfStatus}\n              onChange={(e) => setFormData(prev => ({ ...prev, certificateOfStatus: e.target.checked }))}\n            />\n\n            <FormCheckbox\n              label=\"Certified Copy (+$30.00)\"\n              name=\"certifiedCopy\"\n              checked={formData.certifiedCopy}\n              onChange={(e) => setFormData(prev => ({ ...prev, certifiedCopy: e.target.checked }))}\n            />\n          </div>\n        </FormSection>\n      )}\n\n      {/* Step 5: Review */}\n      {currentStep === 5 && (\n        <FormSection\n          title=\"Review Your Information\"\n          description=\"Please review all details before submitting\"\n        >\n          <div style={{\n            padding: '20px',\n            background: 'white',\n            border: '1px solid #E5E7EB',\n            borderRadius: '8px',\n            marginBottom: '16px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '16px' }}>\n              Fictitious Name\n            </h3>\n            <p style={{ fontSize: '18px', fontWeight: '600', color: '#0EA5E9', marginBottom: '8px' }}>\n              {formData.fictitiousName}\n            </p>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>\n              Email: {formData.correspondenceEmail}\n            </p>\n          </div>\n\n          <div style={{\n            padding: '20px',\n            background: 'white',\n            border: '1px solid #E5E7EB',\n            borderRadius: '8px',\n            marginBottom: '16px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '16px' }}>\n              Business Location\n            </h3>\n            <p style={{ fontSize: '14px', color: '#374151', marginBottom: '4px' }}>\n              <strong>County:</strong> {formData.principalCounty}\n            </p>\n            <p style={{ fontSize: '14px', color: '#374151', marginBottom: '4px' }}>\n              <strong>Mailing Address:</strong>\n            </p>\n            <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '0' }}>\n              {formData.mailingAddress.street}\n              {formData.mailingAddress.street2 && `, ${formData.mailingAddress.street2}`}\n              <br />\n              {formData.mailingAddress.city}, {formData.mailingAddress.state} {formData.mailingAddress.zipCode}\n            </p>\n          </div>\n\n          <div style={{\n            padding: '20px',\n            background: 'white',\n            border: '1px solid #E5E7EB',\n            borderRadius: '8px',\n            marginBottom: '16px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '16px' }}>\n              Owner Information\n            </h3>\n            {formData.ownerType === 'INDIVIDUAL' && formData.individualOwners?.map((owner, index) => (\n              <div key={index} style={{ marginBottom: index < (formData.individualOwners?.length || 0) - 1 ? '16px' : '0', paddingBottom: index < (formData.individualOwners?.length || 0) - 1 ? '16px' : '0', borderBottom: index < (formData.individualOwners?.length || 0) - 1 ? '1px solid #E5E7EB' : 'none' }}>\n                <p style={{ fontSize: '14px', fontWeight: '600', color: '#374151', marginBottom: '4px' }}>\n                  {owner.firstName} {owner.middleName} {owner.lastName}\n                </p>\n                <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '0' }}>\n                  {owner.address.street}, {owner.address.city}, {owner.address.state} {owner.address.zipCode}\n                </p>\n              </div>\n            ))}\n            {formData.ownerType === 'BUSINESS_ENTITY' && formData.businessEntityOwners?.map((owner, index) => (\n              <div key={index} style={{ marginBottom: index < (formData.businessEntityOwners?.length || 0) - 1 ? '16px' : '0', paddingBottom: index < (formData.businessEntityOwners?.length || 0) - 1 ? '16px' : '0', borderBottom: index < (formData.businessEntityOwners?.length || 0) - 1 ? '1px solid #E5E7EB' : 'none' }}>\n                <p style={{ fontSize: '14px', fontWeight: '600', color: '#374151', marginBottom: '4px' }}>\n                  {owner.entityName}\n                </p>\n                {owner.floridaDocumentNumber && (\n                  <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '4px' }}>\n                    FL Doc #: {owner.floridaDocumentNumber}\n                  </p>\n                )}\n                <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '0' }}>\n                  {owner.entityAddress.street}, {owner.entityAddress.city}, {owner.entityAddress.state} {owner.entityAddress.zipCode}\n                </p>\n              </div>\n            ))}\n          </div>\n\n          {/* Payment Timing Status */}\n          <div style={{\n            padding: '20px',\n            background: formData.paymentTiming === 'PAY_NOW' ? '#EFF6FF' : '#FEF3C7',\n            border: `2px solid ${formData.paymentTiming === 'PAY_NOW' ? '#0EA5E9' : '#FCD34D'}`,\n            borderRadius: '8px',\n            marginBottom: '16px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '12px' }}>\n              {formData.paymentTiming === 'PAY_NOW' ? 'üí≥ Payment & Filing' : 'üìÖ Payment Timeline'}\n            </h3>\n            {formData.paymentTiming === 'PAY_NOW' ? (\n              <>\n                <p style={{ fontSize: '14px', color: '#374151', marginBottom: '8px' }}>\n                  <strong>Payment:</strong> You'll pay now and secure your filing.\n                </p>\n                <p style={{ fontSize: '14px', color: '#374151', marginBottom: '0' }}>\n                  <strong>Filing:</strong> {formData.newspaperAdvertised\n                    ? 'We\\'ll file your DBA immediately after payment.'\n                    : 'After you publish your ad and notify us, we\\'ll file your DBA.'}\n                </p>\n              </>\n            ) : (\n              <>\n                <p style={{ fontSize: '14px', color: '#374151', marginBottom: '8px' }}>\n                  <strong>Now:</strong> We'll save your information (no payment required).\n                </p>\n                <p style={{ fontSize: '14px', color: '#374151', marginBottom: '8px' }}>\n                  <strong>After Publication:</strong> Return to this page, certify publication, and pay.\n                </p>\n                <p style={{ fontSize: '14px', color: '#374151', marginBottom: '0' }}>\n                  <strong>Then:</strong> We'll file your DBA immediately.\n                </p>\n              </>\n            )}\n          </div>\n\n          <div style={{\n            padding: '20px',\n            background: 'white',\n            border: '1px solid #E5E7EB',\n            borderRadius: '8px',\n          }}>\n            <h3 style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937', marginBottom: '16px' }}>\n              Order Summary\n            </h3>\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n              <span style={{ fontSize: '14px', color: '#374151' }}>Fictitious Name Registration</span>\n              <span style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>$50.00</span>\n            </div>\n            {formData.certificateOfStatus && (\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                <span style={{ fontSize: '14px', color: '#374151' }}>Certificate of Status</span>\n                <span style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>$10.00</span>\n              </div>\n            )}\n            {formData.certifiedCopy && (\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '8px' }}>\n                <span style={{ fontSize: '14px', color: '#374151' }}>Certified Copy</span>\n                <span style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>$30.00</span>\n              </div>\n            )}\n            <div style={{ borderTop: '2px solid #E5E7EB', marginTop: '12px', paddingTop: '12px', display: 'flex', justifyContent: 'space-between' }}>\n              <span style={{ fontSize: '16px', fontWeight: '600', color: '#1F2937' }}>Total</span>\n              <span style={{ fontSize: '18px', fontWeight: '700', color: '#0EA5E9' }}>\n                ${(50 + (formData.certificateOfStatus ? 10 : 0) + (formData.certifiedCopy ? 30 : 0)).toFixed(2)}\n              </span>\n            </div>\n          </div>\n        </FormSection>\n      )}\n    </FormWizard>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\HealthScoreModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\ImportantNotices.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'dismissAll' is assigned a value but never used.","line":67,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":67,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getTimeAgo' is assigned a value but never used.","line":108,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":108,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Important Notices Component\n * \n * Displays urgent notices and action items at the top of the dashboard\n */\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\n\ninterface Notice {\n  id: string;\n  type: string;\n  priority: string;\n  title: string;\n  message: string;\n  actionUrl?: string;\n  actionLabel?: string;\n  createdAt: string;\n  filing?: {\n    businessEntity: {\n      legalName: string;\n      documentNumber?: string;\n    };\n  };\n}\n\nexport default function ImportantNotices() {\n  const [notices, setNotices] = useState<Notice[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchNotices();\n  }, []);\n\n  const fetchNotices = async () => {\n    try {\n      const response = await fetch('/api/notices');\n      const data = await response.json();\n      \n      if (data.success) {\n        setNotices(data.notices);\n      }\n    } catch (error) {\n      console.error('Error fetching notices:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const dismissNotice = async (noticeId: string) => {\n    try {\n      const response = await fetch(`/api/notices/${noticeId}/dismiss`, {\n        method: 'POST',\n      });\n\n      if (response.ok) {\n        // Remove from UI\n        setNotices(notices.filter(n => n.id !== noticeId));\n      }\n    } catch (error) {\n      console.error('Error dismissing notice:', error);\n    }\n  };\n\n  const dismissAll = async () => {\n    try {\n      await Promise.all(notices.map(notice => dismissNotice(notice.id)));\n    } catch (error) {\n      console.error('Error dismissing all notices:', error);\n    }\n  };\n\n  const getPriorityStyles = (priority: string) => {\n    switch (priority) {\n      case 'URGENT':\n        return {\n          bg: '#fef3c7',\n          border: '#f59e0b',\n          icon: '‚ö†Ô∏è',\n          iconBg: '#fbbf24'\n        };\n      case 'ATTENTION':\n        return {\n          bg: '#dbeafe',\n          border: '#3b82f6',\n          icon: 'üìÑ',\n          iconBg: '#60a5fa'\n        };\n      case 'SUCCESS':\n        return {\n          bg: '#d1fae5',\n          border: '#10b981',\n          icon: '‚úÖ',\n          iconBg: '#34d399'\n        };\n      default:\n        return {\n          bg: '#f3f4f6',\n          border: '#9ca3af',\n          icon: 'üìã',\n          iconBg: '#d1d5db'\n        };\n    }\n  };\n\n  const getTimeAgo = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n    \n    if (diffDays === 0) return 'Today';\n    if (diffDays === 1) return 'Yesterday';\n    if (diffDays < 7) return `${diffDays} days ago`;\n    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;\n    return `${Math.floor(diffDays / 30)} months ago`;\n  };\n\n  if (loading) {\n    return null; // Don't show anything while loading\n  }\n\n  if (notices.length === 0) {\n    return null; // Don't show section if no notices\n  }\n\n  // Show max 3 notices on dashboard\n  const displayNotices = notices.slice(0, 3);\n  const hasMore = notices.length > 3;\n\n  return (\n    <div style={{\n      background: 'white',\n      borderRadius: '12px',\n      boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n      border: '2px solid #fbbf24',\n      marginBottom: '32px',\n      overflow: 'hidden'\n    }}>\n      {/* Header */}\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '16px 20px',\n        borderBottom: '1px solid #fef3c7',\n        background: '#fffbeb'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n          <div style={{\n            width: '28px',\n            height: '28px',\n            borderRadius: '6px',\n            background: '#fbbf24',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '16px'\n          }}>\n            üîî\n          </div>\n          <h2 className=\"font-semibold\" style={{ fontSize: '16px', color: '#0f172a' }}>\n            Important Notices ({notices.length})\n          </h2>\n        </div>\n\n        <Link\n          href=\"/dashboard/notices\"\n          style={{\n            background: 'transparent',\n            border: 'none',\n            color: '#0ea5e9',\n            fontSize: '14px',\n            fontWeight: '500',\n            cursor: 'pointer',\n            padding: '6px 12px',\n            borderRadius: '6px',\n            transition: 'all 0.2s',\n            textDecoration: 'none'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = '#f0f9ff';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = 'transparent';\n          }}\n        >\n          View All ‚Üí\n        </Link>\n      </div>\n\n      {/* Notices - Compact View */}\n      <div style={{ padding: '12px' }}>\n        {displayNotices.map((notice) => {\n          const styles = getPriorityStyles(notice.priority);\n\n          return (\n            <div\n              key={notice.id}\n              style={{\n                background: 'white',\n                border: `1px solid ${styles.border}`,\n                borderRadius: '8px',\n                padding: '12px 16px',\n                margin: '8px',\n                display: 'flex',\n                gap: '12px',\n                alignItems: 'center',\n                transition: 'all 0.2s'\n              }}\n            >\n              {/* Icon */}\n              <div style={{\n                width: '36px',\n                height: '36px',\n                borderRadius: '6px',\n                background: styles.iconBg,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '18px',\n                flexShrink: 0\n              }}>\n                {styles.icon}\n              </div>\n\n              {/* Content */}\n              <div style={{ flex: 1, minWidth: 0 }}>\n                <h3 className=\"font-semibold\" style={{ fontSize: '14px', color: '#0f172a', marginBottom: '2px' }}>\n                  {notice.title}\n                </h3>\n\n                {notice.filing && (\n                  <p style={{ fontSize: '12px', color: '#94a3b8', marginBottom: '4px' }}>\n                    {notice.filing.businessEntity.legalName}\n                  </p>\n                )}\n\n                <p style={{ fontSize: '13px', color: '#64748b', lineHeight: '1.4' }}>\n                  {notice.message.length > 80 ? notice.message.substring(0, 80) + '...' : notice.message}\n                </p>\n              </div>\n\n              {/* Action Button */}\n              {notice.actionUrl && notice.actionLabel && (\n                <Link\n                  href={notice.actionUrl}\n                  style={{\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: '4px',\n                    background: '#0ea5e9',\n                    color: 'white',\n                    padding: '8px 14px',\n                    borderRadius: '6px',\n                    fontSize: '13px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    transition: 'all 0.2s',\n                    flexShrink: 0,\n                    whiteSpace: 'nowrap'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = '#0284c7';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = '#0ea5e9';\n                  }}\n                >\n                  {notice.actionLabel}\n                  <svg style={{ width: '12px', height: '12px' }} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M9 5l7 7-7 7\" />\n                  </svg>\n                </Link>\n              )}\n            </div>\n          );\n        })}\n\n        {hasMore && (\n          <div style={{ padding: '8px', textAlign: 'center' }}>\n            <Link\n              href=\"/dashboard/notices\"\n              style={{\n                color: '#0ea5e9',\n                fontSize: '13px',\n                fontWeight: '500',\n                textDecoration: 'none',\n                transition: 'all 0.2s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.color = '#0284c7';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.color = '#0ea5e9';\n              }}\n            >\n              + {notices.length - 3} more notice{notices.length - 3 > 1 ? 's' : ''}\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\IncompleteFilings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\LLCFormationForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\LLCFormationWizard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'FormTextArea' is defined but never used.","line":6,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":6,"endColumn":45},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":12},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'smartForm.isDirty'. Either include it or remove the dependency array.","line":169,"column":6,"nodeType":"ArrayExpression","endLine":169,"endColumn":47,"suggestions":[{"desc":"Update the dependencies array to be: [smartForm.formData, smartForm.isDirty, smartForm.lastSaved]","fix":{"range":[5657,5698],"text":"[smartForm.formData, smartForm.isDirty, smartForm.lastSaved]"}}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":639,"column":64,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23239,23255],"text":"&quot;Change Package\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23239,23255],"text":"&ldquo;Change Package\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23239,23255],"text":"&#34;Change Package\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23239,23255],"text":"&rdquo;Change Package\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":639,"column":79,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23239,23255],"text":"\"Change Package&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23239,23255],"text":"\"Change Package&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23239,23255],"text":"\"Change Package&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23239,23255],"text":"\"Change Package&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":1169,"column":80,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[48633,48981],"text":"\n                              Instead of processing your filing in the order it&apos;s received, we move it to the front of the line and expedite sending it to the state for filing. However, once it reaches the state, they process it under their normal schedule ‚Äî the state does not offer expedited processing on their end.\n                            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[48633,48981],"text":"\n                              Instead of processing your filing in the order it&lsquo;s received, we move it to the front of the line and expedite sending it to the state for filing. However, once it reaches the state, they process it under their normal schedule ‚Äî the state does not offer expedited processing on their end.\n                            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[48633,48981],"text":"\n                              Instead of processing your filing in the order it&#39;s received, we move it to the front of the line and expedite sending it to the state for filing. However, once it reaches the state, they process it under their normal schedule ‚Äî the state does not offer expedited processing on their end.\n                            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[48633,48981],"text":"\n                              Instead of processing your filing in the order it&rsquo;s received, we move it to the front of the line and expedite sending it to the state for filing. However, once it reaches the state, they process it under their normal schedule ‚Äî the state does not offer expedited processing on their end.\n                            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1174,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[49324,49388],"text":"\n                                &quot;How can I expedite my filing?\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[49324,49388],"text":"\n                                &ldquo;How can I expedite my filing?\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[49324,49388],"text":"\n                                &#34;How can I expedite my filing?\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[49324,49388],"text":"\n                                &rdquo;How can I expedite my filing?\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1174,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[49324,49388],"text":"\n                                \"How can I expedite my filing?&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[49324,49388],"text":"\n                                \"How can I expedite my filing?&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[49324,49388],"text":"\n                                \"How can I expedite my filing?&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[49324,49388],"text":"\n                                \"How can I expedite my filing?&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1175,"column":33,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[49394,49495],"text":"\n                                &quot;We do not offer expedited services.\"\n                              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[49394,49495],"text":"\n                                &ldquo;We do not offer expedited services.\"\n                              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[49394,49495],"text":"\n                                &#34;We do not offer expedited services.\"\n                              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[49394,49495],"text":"\n                                &rdquo;We do not offer expedited services.\"\n                              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1175,"column":69,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[49394,49495],"text":"\n                                \"We do not offer expedited services.&quot;\n                              "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[49394,49495],"text":"\n                                \"We do not offer expedited services.&ldquo;\n                              "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[49394,49495],"text":"\n                                \"We do not offer expedited services.&#34;\n                              "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[49394,49495],"text":"\n                                \"We do not offer expedited services.&rdquo;\n                              "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1218,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click &quot;Submit & Continue to Checkout\" below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click &ldquo;Submit & Continue to Checkout\" below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click &#34;Submit & Continue to Checkout\" below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click &rdquo;Submit & Continue to Checkout\" below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":1218,"column":93,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click \"Submit & Continue to Checkout&quot; below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click \"Submit & Continue to Checkout&ldquo; below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click \"Submit & Continue to Checkout&#34; below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[51238,51414],"text":"\n                    Your information has been reviewed. Click \"Submit & Continue to Checkout&rdquo; below to proceed with payment and finalize your LLC formation.\n                  "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Info, Check, Save } from 'lucide-react';\nimport { FormWizard, FormInput, FormTextArea, FormSection } from '@/components/forms';\nimport { cn } from '@/components/legalops/theme';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\nimport { useSmartForm } from '@/hooks/useSmartForm';\nimport { SmartFormInput, SmartFormTextarea } from '@/components/phase7';\n\ninterface Manager {\n  id: string;\n  name: string;\n  email: string;\n  phone: string;\n}\n\ninterface FormData {\n  businessName: string;\n  businessNameAlternative: string;\n  businessAddress: string;\n  businessCity: string;\n  businessState: string;\n  businessZip: string;\n  mailingAddress: string;\n  mailingCity: string;\n  mailingState: string;\n  mailingZip: string;\n  registeredAgentName: string;\n  registeredAgentAddress: string;\n  registeredAgentCity: string;\n  registeredAgentState: string;\n  registeredAgentZip: string;\n  managers: Manager[];\n  businessPurpose: string;\n  rushProcessing: boolean;\n}\n\ninterface Service {\n  id: string;\n  serviceFee: number;\n  stateFee: number;\n  registeredAgentFee: number;\n  totalPrice: number;\n  rushFee: number;\n  rushFeeAvailable: boolean;\n}\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\ninterface LLCFormationWizardProps {\n  serviceId: string;\n  service?: Service;\n  selectedPackage?: Package | null;\n  onSubmit?: (data: FormData) => void;\n  onPackageChange?: (pkg: Package) => void;\n  initialFormData?: Partial<FormData>;\n  onFormDataChange?: (data: FormData) => void;\n}\n\nconst STEPS = [\n  { id: 1, name: 'Business Info', description: 'Basic details' },\n  { id: 2, name: 'Addresses', description: 'Location info' },\n  { id: 3, name: 'Registered Agent', description: 'Agent details' },\n  { id: 4, name: 'Managers', description: 'Owner info' },\n  { id: 5, name: 'Review', description: 'Confirm & submit' },\n];\n\nexport default function LLCFormationWizard({ serviceId, service, selectedPackage, onSubmit, onPackageChange, initialFormData, onFormDataChange }: LLCFormationWizardProps) {\n  // Check if package includes RA service\n  const includesRA = selectedPackage?.includesRA ?? false;\n  const router = useRouter();\n  const [packages, setPackages] = useState<Package[]>([]);\n  const [currentStep, setCurrentStep] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [sameAsBusinessAddress, setSameAsBusinessAddress] = useState(true);\n  const [fieldErrors, setFieldErrors] = useState<Record<string, string>>({});\n  const [showRushTooltip, setShowRushTooltip] = useState(false);\n\n  // Phase 7: Smart Forms - Auto-save and auto-fill functionality\n  const smartForm = useSmartForm({\n    formType: 'llc-formation',\n    initialData: initialFormData || {},\n    autoSaveInterval: 5000, // Auto-save every 5 seconds\n    enableAutoFill: true,\n  });\n\n  const [formData, setFormData] = useState<FormData>(() => {\n    // If we have initial form data, use it and adjust RA fields based on current package\n    if (initialFormData) {\n      return {\n        ...initialFormData,\n        // Adjust RA fields based on current package\n        registeredAgentName: includesRA ? 'LegalOps Platform LLC' : (initialFormData.registeredAgentName || ''),\n        registeredAgentAddress: includesRA ? '123 Business Blvd' : (initialFormData.registeredAgentAddress || ''),\n        registeredAgentCity: includesRA ? 'Miami' : (initialFormData.registeredAgentCity || ''),\n        registeredAgentState: 'FL',\n        registeredAgentZip: includesRA ? '33101' : (initialFormData.registeredAgentZip || ''),\n        managers: initialFormData.managers || [{ id: '1', name: '', email: '', phone: '' }],\n      } as FormData;\n    }\n\n    // Default empty form\n    return {\n      businessName: '',\n      businessNameAlternative: '',\n      businessAddress: '',\n      businessCity: '',\n      businessState: 'FL',\n      businessZip: '',\n      mailingAddress: '',\n      mailingCity: '',\n      mailingState: 'FL',\n      mailingZip: '',\n      // Pre-fill RA info only if package includes RA service\n      registeredAgentName: includesRA ? 'LegalOps Platform LLC' : '',\n      registeredAgentAddress: includesRA ? '123 Business Blvd' : '',\n      registeredAgentCity: includesRA ? 'Miami' : '',\n      registeredAgentState: 'FL',\n      registeredAgentZip: includesRA ? '33101' : '',\n      managers: [{ id: '1', name: '', email: '', phone: '' }],\n      businessPurpose: '',\n      rushProcessing: false,\n    };\n  });\n\n  // Fetch packages on mount\n  useEffect(() => {\n    const fetchPackages = async () => {\n      try {\n        const response = await fetch('/api/packages');\n        if (response.ok) {\n          const data = await response.json();\n          setPackages(data);\n        }\n      } catch (error) {\n        console.error('Error fetching packages:', error);\n      }\n    };\n    fetchPackages();\n  }, []);\n\n  // Phase 7: Sync Smart Form data with local state\n  useEffect(() => {\n    console.log('Smart Form Data:', smartForm.formData);\n    console.log('Smart Form isDirty:', smartForm.isDirty);\n    console.log('Smart Form lastSaved:', smartForm.lastSaved);\n    console.log('Should show auto-save indicator?', !!smartForm.lastSaved);\n\n    if (smartForm.formData && Object.keys(smartForm.formData).length > 0) {\n      setFormData(prev => ({\n        ...prev,\n        ...smartForm.formData,\n      }));\n    }\n  }, [smartForm.formData, smartForm.lastSaved]);\n\n  // Notify parent of form data changes\n  useEffect(() => {\n    if (onFormDataChange) {\n      onFormDataChange(formData);\n    }\n  }, [formData, onFormDataChange]);\n\n  // Handle upgrade to Standard package\n  const handleUpgradeToStandard = () => {\n    const standardPackage = packages.find(pkg => pkg.slug === 'standard');\n    if (standardPackage && onPackageChange) {\n      onPackageChange(standardPackage);\n      // Pre-fill RA info after upgrade\n      setFormData(prev => ({\n        ...prev,\n        registeredAgentName: 'LegalOps Platform LLC',\n        registeredAgentAddress: '123 Business Blvd',\n        registeredAgentCity: 'Miami',\n        registeredAgentState: 'FL',\n        registeredAgentZip: '33101',\n      }));\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target;\n    const checked = (e.target as HTMLInputElement).checked;\n    const newValue = type === 'checkbox' ? checked : value;\n\n    console.log('handleChange called:', name, newValue);\n\n    setFormData(prev => ({\n      ...prev,\n      [name]: newValue,\n    }));\n\n    // Phase 7: Update Smart Form for auto-save\n    console.log('Calling smartForm.updateField:', name, newValue);\n    smartForm.updateField(name, newValue);\n\n    // Clear field error on change\n    if (fieldErrors[name]) {\n      setFieldErrors(prev => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n\n  const handleSameAsBusinessAddress = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSameAsBusinessAddress(e.target.checked);\n    if (e.target.checked) {\n      setFormData(prev => ({\n        ...prev,\n        mailingAddress: prev.businessAddress,\n        mailingCity: prev.businessCity,\n        mailingState: prev.businessState,\n        mailingZip: prev.businessZip,\n      }));\n    }\n  };\n\n  const handleManagerChange = (id: string, field: keyof Manager, value: string) => {\n    const updatedManagers = formData.managers.map(m =>\n      m.id === id ? { ...m, [field]: value } : m\n    );\n\n    setFormData(prev => ({\n      ...prev,\n      managers: updatedManagers,\n    }));\n\n    // Phase 7: Update Smart Form for auto-save\n    smartForm.updateField('managers', updatedManagers);\n  };\n\n  const handleAddManager = () => {\n    if (formData.managers.length >= 6) {\n      setError('Maximum 6 managers allowed per Sunbiz requirements');\n      return;\n    }\n    setError(null);\n    const newId = Date.now().toString();\n    const updatedManagers = [...formData.managers, { id: newId, name: '', email: '', phone: '' }];\n\n    setFormData(prev => ({\n      ...prev,\n      managers: updatedManagers,\n    }));\n\n    // Phase 7: Update Smart Form for auto-save\n    smartForm.updateField('managers', updatedManagers);\n  };\n\n  const handleRemoveManager = (id: string) => {\n    if (formData.managers.length === 1) {\n      setError('At least one manager is required');\n      return;\n    }\n    setError(null);\n    const updatedManagers = formData.managers.filter(m => m.id !== id);\n\n    setFormData(prev => ({\n      ...prev,\n      managers: updatedManagers,\n    }));\n\n    // Phase 7: Update Smart Form for auto-save\n    smartForm.updateField('managers', updatedManagers);\n  };\n\n  const validateStep = (step: number): boolean => {\n    const errors: Record<string, string> = {};\n\n    if (step === 1) {\n      if (!formData.businessName.trim()) errors.businessName = 'Business name is required';\n      // Business purpose is optional - no validation required\n    }\n\n    if (step === 2) {\n      if (!formData.businessAddress.trim()) errors.businessAddress = 'Street address is required';\n      if (!formData.businessCity.trim()) errors.businessCity = 'City is required';\n      if (!formData.businessZip.trim()) errors.businessZip = 'ZIP code is required';\n      \n      if (!sameAsBusinessAddress) {\n        if (!formData.mailingAddress.trim()) errors.mailingAddress = 'Mailing address is required';\n        if (!formData.mailingCity.trim()) errors.mailingCity = 'Mailing city is required';\n        if (!formData.mailingZip.trim()) errors.mailingZip = 'Mailing ZIP is required';\n      }\n    }\n\n    if (step === 3) {\n      if (!formData.registeredAgentName.trim()) errors.registeredAgentName = 'Registered agent name is required';\n      if (!formData.registeredAgentAddress.trim()) errors.registeredAgentAddress = 'Agent address is required';\n      if (!formData.registeredAgentCity.trim()) errors.registeredAgentCity = 'Agent city is required';\n      if (!formData.registeredAgentZip.trim()) errors.registeredAgentZip = 'Agent ZIP is required';\n    }\n\n    if (step === 4) {\n      formData.managers.forEach((manager, index) => {\n        if (!manager.name.trim()) errors[`manager_${index}_name`] = 'Manager name is required';\n        if (!manager.email.trim()) errors[`manager_${index}_email`] = 'Manager email is required';\n        if (!manager.phone.trim()) errors[`manager_${index}_phone`] = 'Manager phone is required';\n      });\n    }\n\n    setFieldErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep(prev => Math.min(prev + 1, STEPS.length));\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  const handleBack = () => {\n    setCurrentStep(prev => Math.max(prev - 1, 1));\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const handleSubmit = async () => {\n    setError(null);\n    setLoading(true);\n\n    try {\n      if (onSubmit) {\n        onSubmit(formData);\n        return;\n      }\n\n      const response = await fetch('/api/orders', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          serviceId,\n          orderType: 'LLC_FORMATION',\n          orderData: formData,\n          packageId: selectedPackage?.id || null,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to create order');\n      }\n\n      const data = await response.json();\n      router.push(`/checkout/${data.orderId || data.order?.id}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <FormWizard\n      steps={STEPS}\n      currentStep={currentStep}\n      onNext={handleNext}\n      onBack={handleBack}\n      onSubmit={handleSubmit}\n      loading={loading}\n      error={error}\n      showTrustSignals={true}\n      estimatedTime=\"5-10 Minutes\"\n    >\n        {/* Phase 7: Auto-Save Indicator */}\n        {smartForm.lastSaved ? (\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '12px 16px',\n            background: '#F0F9FF',\n            border: '1px solid #BAE6FD',\n            borderRadius: '8px',\n            marginBottom: '24px',\n            fontSize: '14px',\n            color: '#0369A1',\n          }}>\n            <Save size={16} />\n            <span>\n              Auto-saved at {new Date(smartForm.lastSaved).toLocaleTimeString()}\n              {smartForm.isSaving && ' ‚Ä¢ Saving...'}\n            </span>\n          </div>\n        ) : null}\n\n        {/* UPL Disclaimer - Show on first step */}\n        {currentStep === 1 && (\n          <UPLDisclaimer variant=\"form\" className=\"mb-6\" />\n        )}\n\n        {/* Step 1: Business Information */}\n        {currentStep === 1 && (\n          <FormSection\n            title=\"Business Information\"\n            description=\"Tell us about your business\"\n          >\n            <SmartFormInput\n              label=\"Business Name\"\n              name=\"businessName\"\n              value={formData.businessName}\n              onChange={(value) => {\n                setFormData(prev => ({ ...prev, businessName: value }));\n                smartForm.updateField('businessName', value);\n              }}\n              placeholder=\"e.g., Acme LLC\"\n              required\n              error={fieldErrors.businessName}\n              isVerified={smartForm.isFieldVerified('businessName')}\n              verificationSource={\n                smartForm.verifiedFields.find(f => f.fieldName === 'businessName')?.source\n              }\n            />\n\n            <SmartFormInput\n              label=\"Alternative Business Name\"\n              name=\"businessNameAlternative\"\n              value={formData.businessNameAlternative}\n              onChange={(value) => {\n                setFormData(prev => ({ ...prev, businessNameAlternative: value }));\n                smartForm.updateField('businessNameAlternative', value);\n              }}\n              placeholder=\"If different from above\"\n              isVerified={smartForm.isFieldVerified('businessNameAlternative')}\n              verificationSource={\n                smartForm.verifiedFields.find(f => f.fieldName === 'businessNameAlternative')?.source\n              }\n            />\n\n            <SmartFormTextarea\n              label=\"Business Purpose (Optional)\"\n              name=\"businessPurpose\"\n              value={formData.businessPurpose}\n              onChange={(value) => {\n                setFormData(prev => ({ ...prev, businessPurpose: value }));\n                smartForm.updateField('businessPurpose', value);\n              }}\n              placeholder='e.g., \"Any legitimate business purpose\"'\n              required={false}\n              error={fieldErrors.businessPurpose}\n              helperText='Optional but recommended. 80% of our customers use \"Any legitimate business purpose\" - this provides maximum flexibility for your LLC.'\n              isVerified={smartForm.isFieldVerified('businessPurpose')}\n              verificationSource={\n                smartForm.verifiedFields.find(f => f.fieldName === 'businessPurpose')?.source\n              }\n            />\n          </FormSection>\n        )}\n\n        {/* Step 2: Addresses */}\n        {currentStep === 2 && (\n          <FormSection\n            title=\"Business Addresses\"\n            description=\"Where is your business located?\"\n          >\n            {/* Principal Address */}\n            <div\n              className=\"bg-white rounded-xl\"\n              style={{\n                border: '1px solid #e2e8f0',\n                borderLeft: '4px solid #0ea5e9',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                padding: '32px',\n              }}\n            >\n              <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', borderBottom: '2px solid #e2e8f0', paddingBottom: '16px', marginBottom: '32px', lineHeight: '1.4' }}>\n                Principal Address\n              </h3>\n\n              <div className=\"space-y-8\">\n\n                <SmartFormInput\n                  label=\"Street Address\"\n                  name=\"businessAddress\"\n                  value={formData.businessAddress}\n                  onChange={(value) => {\n                    setFormData(prev => ({ ...prev, businessAddress: value }));\n                    smartForm.updateField('businessAddress', value);\n                  }}\n                  placeholder=\"123 Main Street\"\n                  required\n                  error={fieldErrors.businessAddress}\n                  isVerified={smartForm.isFieldVerified('businessAddress')}\n                  verificationSource={\n                    smartForm.verifiedFields.find(f => f.fieldName === 'businessAddress')?.source\n                  }\n                />\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                  <SmartFormInput\n                    label=\"City\"\n                    name=\"businessCity\"\n                    value={formData.businessCity}\n                    onChange={(value) => {\n                      setFormData(prev => ({ ...prev, businessCity: value }));\n                      smartForm.updateField('businessCity', value);\n                    }}\n                    placeholder=\"Miami\"\n                    required\n                    error={fieldErrors.businessCity}\n                    isVerified={smartForm.isFieldVerified('businessCity')}\n                    verificationSource={\n                      smartForm.verifiedFields.find(f => f.fieldName === 'businessCity')?.source\n                    }\n                  />\n                  <SmartFormInput\n                    label=\"ZIP Code\"\n                    name=\"businessZip\"\n                    value={formData.businessZip}\n                    onChange={(value) => {\n                      setFormData(prev => ({ ...prev, businessZip: value }));\n                      smartForm.updateField('businessZip', value);\n                    }}\n                    placeholder=\"33101\"\n                    required\n                    error={fieldErrors.businessZip}\n                    isVerified={smartForm.isFieldVerified('businessZip')}\n                    verificationSource={\n                      smartForm.verifiedFields.find(f => f.fieldName === 'businessZip')?.source\n                    }\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Mailing Address */}\n            <div\n              className=\"bg-white rounded-xl\"\n              style={{\n                border: '1px solid #e2e8f0',\n                borderLeft: '4px solid #10b981',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                padding: '32px',\n              }}\n            >\n              <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', borderBottom: '2px solid #e2e8f0', paddingBottom: '16px', marginBottom: '32px', lineHeight: '1.4' }}>\n                Mailing Address\n              </h3>\n\n              <div className=\"space-y-8\">\n                <div\n                  className=\"flex items-center bg-slate-50 rounded-lg\"\n                  style={{\n                    border: '2px solid #e2e8f0',\n                    padding: '20px',\n                  }}\n                >\n                  <input\n                    type=\"checkbox\"\n                    id=\"sameAsBusinessAddress\"\n                    checked={sameAsBusinessAddress}\n                    onChange={handleSameAsBusinessAddress}\n                    className=\"w-5 h-5 text-sky-600 rounded border-gray-300 focus:ring-2 focus:ring-sky-500 cursor-pointer flex-shrink-0\"\n                  />\n                  <label htmlFor=\"sameAsBusinessAddress\" className=\"font-medium text-gray-900 cursor-pointer\" style={{ fontSize: '16px', lineHeight: '1.5', marginLeft: '12px' }}>\n                    Same as principal address\n                  </label>\n                </div>\n\n                {!sameAsBusinessAddress && (\n                  <div className=\"space-y-8 pt-4\">\n                    <FormInput\n                      label=\"Mailing Address\"\n                      name=\"mailingAddress\"\n                      value={formData.mailingAddress}\n                      onChange={handleChange}\n                      placeholder=\"123 Main Street\"\n                      required\n                      error={fieldErrors.mailingAddress}\n                    />\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                      <FormInput\n                        label=\"City\"\n                        name=\"mailingCity\"\n                        value={formData.mailingCity}\n                        onChange={handleChange}\n                        placeholder=\"Miami\"\n                        required\n                        error={fieldErrors.mailingCity}\n                      />\n                      <FormInput\n                        label=\"ZIP Code\"\n                        name=\"mailingZip\"\n                        value={formData.mailingZip}\n                        onChange={handleChange}\n                        placeholder=\"33101\"\n                        required\n                        error={fieldErrors.mailingZip}\n                      />\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </FormSection>\n        )}\n\n        {/* Step 3: Registered Agent */}\n        {currentStep === 3 && (\n          <FormSection title=\"Registered Agent\">\n            {includesRA ? (\n              // Package includes RA - show positive messaging\n              <div\n                className=\"mb-10 bg-emerald-50 rounded-xl flex items-start gap-5\"\n                style={{\n                  border: '1px solid #a7f3d0',\n                  borderLeft: '4px solid #10b981',\n                  padding: '24px',\n                }}\n              >\n                <div className=\"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0\">\n                  <Info className=\"w-6 h-6 text-emerald-600\" />\n                </div>\n                <div className=\"flex-1 text-slate-700\" style={{ fontSize: '16px', lineHeight: '1.6', paddingTop: '4px' }}>\n                  <p className=\"mb-2\">\n                    A registered agent is a person or business authorized to receive legal documents on behalf of your LLC.\n                  </p>\n                  <p className=\"font-medium text-emerald-700\">\n                    ‚úì Your package includes FREE registered agent service for the first year! Our address is pre-filled below, but you can change it if you prefer to use your own.\n                  </p>\n                  {selectedPackage && (\n                    <p className=\"text-sm text-slate-600 mt-3\">\n                      Want to change packages? Use the <strong>\"Change Package\"</strong> button at the top of this form.\n                    </p>\n                  )}\n                </div>\n              </div>\n            ) : (\n              // Package doesn't include RA - show education and upgrade option\n              <div\n                className=\"mb-10 bg-amber-50 rounded-xl\"\n                style={{\n                  border: '1px solid #fde68a',\n                  borderLeft: '4px solid #f59e0b',\n                  padding: '32px',\n                }}\n              >\n                <div className=\"flex items-start gap-5 mb-6\">\n                  <div className=\"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0\">\n                    <Info className=\"w-6 h-6 text-amber-600\" />\n                  </div>\n                  <div className=\"flex-1 text-slate-700\" style={{ fontSize: '16px', lineHeight: '1.8', paddingTop: '4px' }}>\n                    <p style={{ marginBottom: '20px' }}>\n                      <strong>Florida law requires</strong> every LLC to have a registered agent - a person or business authorized to receive legal documents, lawsuits, and official state correspondence on behalf of your LLC.\n                    </p>\n\n                    <p className=\"text-amber-800 font-semibold\" style={{ marginBottom: '24px' }}>\n                      ‚ö†Ô∏è Your Basic package does not include registered agent service. You have two options:\n                    </p>\n                  </div>\n                </div>\n\n                {/* Option 1: Be Your Own RA */}\n                <div className=\"bg-white rounded-lg mb-4\" style={{ border: '1px solid #fde68a', padding: '20px' }}>\n                  <p className=\"font-semibold text-slate-900 mb-3\" style={{ fontSize: '16px' }}>\n                    Option 1: Be Your Own Registered Agent (Free)\n                  </p>\n                  <div className=\"text-slate-700\" style={{ fontSize: '14px', lineHeight: '1.7' }}>\n                    <p className=\"mb-2\"><strong>Requirements:</strong></p>\n                    <ul style={{ paddingLeft: '20px', marginBottom: '12px' }}>\n                      <li>‚úì Must have a physical Florida street address (no P.O. boxes)</li>\n                      <li>‚úì Must be available at that address during business hours (9am-5pm)</li>\n                      <li>‚úì Must be able to receive legal documents in person</li>\n                    </ul>\n                    <p className=\"mb-2\"><strong className=\"text-red-600\">Downsides:</strong></p>\n                    <ul style={{ paddingLeft: '20px' }}>\n                      <li>‚ùå Your home/business address becomes public record (searchable online)</li>\n                      <li>‚ùå You could be served with lawsuits at home in front of family/neighbors</li>\n                      <li>‚ùå Must be available during business hours or risk missing important legal deadlines</li>\n                      <li>‚ùå If you move, you must update with the state immediately</li>\n                    </ul>\n                  </div>\n                </div>\n\n                {/* Option 2: Upgrade to LegalOps RA */}\n                <div className=\"bg-emerald-50 rounded-lg\" style={{ border: '2px solid #10b981', padding: '20px' }}>\n                  <p className=\"font-semibold text-emerald-900 mb-3\" style={{ fontSize: '16px' }}>\n                    üí° Option 2: Let LegalOps Be Your Registered Agent (Recommended)\n                  </p>\n                  <div className=\"text-slate-700 mb-4\" style={{ fontSize: '14px', lineHeight: '1.7' }}>\n                    <p className=\"mb-2\"><strong className=\"text-emerald-700\">Benefits:</strong></p>\n                    <ul style={{ paddingLeft: '20px', marginBottom: '12px' }}>\n                      <li>‚úÖ <strong>Privacy protection</strong> - Your home address stays private</li>\n                      <li>‚úÖ <strong>Professional image</strong> - No process servers showing up at your door</li>\n                      <li>‚úÖ <strong>Never miss a deadline</strong> - We scan and email all documents immediately</li>\n                      <li>‚úÖ <strong>Move anytime</strong> - No need to update the state when you relocate</li>\n                      <li>‚úÖ <strong>Compliance peace of mind</strong> - We handle all state correspondence</li>\n                      <li>‚úÖ <strong>Dedicated support team</strong> - Access via secure online portal in your dashboard</li>\n                    </ul>\n                    <p className=\"font-semibold text-emerald-800\">\n                      Upgrade to Standard Package: Only $149 (includes FREE 1st year RA service + Operating Agreement)\n                    </p>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={handleUpgradeToStandard}\n                    className=\"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-lg transition-colors duration-200 flex items-center justify-center gap-2\"\n                    style={{ fontSize: '16px', padding: '14px 24px' }}\n                  >\n                    <span>‚¨ÜÔ∏è</span>\n                    <span>Upgrade to Standard Package ($149)</span>\n                  </button>\n                </div>\n\n                <p className=\"text-slate-600 text-center mt-4\" style={{ fontSize: '13px' }}>\n                  Or continue below to provide your own registered agent information\n                </p>\n              </div>\n            )}\n\n            <FormInput\n              label=\"Registered Agent Name\"\n              name=\"registeredAgentName\"\n              value={formData.registeredAgentName}\n              onChange={handleChange}\n              placeholder=\"John Doe or ABC Registered Agent Services\"\n              required\n              error={fieldErrors.registeredAgentName}\n            />\n\n            <FormInput\n              label=\"Registered Agent Address\"\n              name=\"registeredAgentAddress\"\n              value={formData.registeredAgentAddress}\n              onChange={handleChange}\n              placeholder=\"123 Main Street\"\n              required\n              error={fieldErrors.registeredAgentAddress}\n            />\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n              <FormInput\n                label=\"City\"\n                name=\"registeredAgentCity\"\n                value={formData.registeredAgentCity}\n                onChange={handleChange}\n                placeholder=\"Miami\"\n                required\n                error={fieldErrors.registeredAgentCity}\n              />\n              <FormInput\n                label=\"ZIP Code\"\n                name=\"registeredAgentZip\"\n                value={formData.registeredAgentZip}\n                onChange={handleChange}\n                placeholder=\"33101\"\n                required\n                error={fieldErrors.registeredAgentZip}\n              />\n            </div>\n          </FormSection>\n        )}\n\n        {/* Step 4: Managers */}\n        {currentStep === 4 && (\n          <FormSection title=\"Manager/Owner Information\" description=\"Add up to 6 managers or owners. At least one is required.\">\n            <div className=\"flex justify-end mb-10\">\n              <span\n                className=\"font-semibold text-sky-600 bg-sky-50 rounded-full\"\n                style={{\n                  fontSize: '16px',\n                  border: '2px solid #bae6fd',\n                  padding: '12px 24px',\n                }}\n              >\n                {formData.managers.length} of 6\n              </span>\n            </div>\n\n            <div className=\"space-y-8\">\n              {formData.managers.map((manager, index) => (\n                <div\n                  key={manager.id}\n                  className=\"rounded-xl bg-white hover:shadow-lg transition-all duration-200\"\n                  style={{\n                    border: '1px solid #e2e8f0',\n                    borderLeft: '4px solid #8b5cf6',\n                    boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                    padding: '32px',\n                  }}\n                >\n                  <div className=\"flex justify-between items-start mb-10\">\n                    <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                      Manager {index + 1}\n                    </h3>\n                    {formData.managers.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveManager(manager.id)}\n                        className=\"text-slate-400 hover:text-red-600 font-light transition-colors hover:bg-red-50 rounded\"\n                        style={{\n                          fontSize: '24px',\n                          padding: '4px 12px',\n                        }}\n                      >\n                        ‚úï\n                      </button>\n                    )}\n                  </div>\n\n                  <div className=\"space-y-8\">\n                    <FormInput\n                      label=\"Full Name\"\n                      value={manager.name}\n                      onChange={(e) => handleManagerChange(manager.id, 'name', e.target.value)}\n                      placeholder=\"John Doe\"\n                      required\n                      error={fieldErrors[`manager_${index}_name`]}\n                    />\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                      <FormInput\n                        label=\"Email\"\n                        type=\"email\"\n                        value={manager.email}\n                        onChange={(e) => handleManagerChange(manager.id, 'email', e.target.value)}\n                        placeholder=\"john@example.com\"\n                        required\n                        error={fieldErrors[`manager_${index}_email`]}\n                      />\n                      <FormInput\n                        label=\"Phone\"\n                        type=\"tel\"\n                        value={manager.phone}\n                        onChange={(e) => handleManagerChange(manager.id, 'phone', e.target.value)}\n                        placeholder=\"(555) 123-4567\"\n                        required\n                        error={fieldErrors[`manager_${index}_phone`]}\n                      />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {formData.managers.length < 6 && (\n              <button\n                type=\"button\"\n                onClick={handleAddManager}\n                className=\"w-full border-2 border-dashed border-slate-300 text-slate-700 rounded-xl font-semibold hover:bg-slate-50 hover:border-sky-400 hover:text-sky-700 transition-all duration-200 mt-8\"\n                style={{\n                  fontSize: '16px',\n                  padding: '32px',\n                }}\n              >\n                + Add Another Manager\n              </button>\n            )}\n          </FormSection>\n        )}\n\n        {/* Step 5: Review & Additional Options */}\n        {currentStep === 5 && (\n          <FormSection\n            title=\"Review & Additional Options\"\n            description=\"Review your information and select any additional services\"\n          >\n\n            {/* Summary Cards */}\n            <div className=\"space-y-8\">\n              {/* Business Info */}\n              <div\n                className=\"rounded-xl bg-white hover:shadow-md transition-shadow\"\n                style={{\n                  border: '1px solid #e2e8f0',\n                  borderLeft: '4px solid #0ea5e9',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  padding: '32px',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-8\">\n                  <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                    Business Information\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(1)}\n                    className=\"text-sky-600 hover:text-sky-700 font-semibold hover:bg-sky-50 rounded-lg transition-colors\"\n                    style={{\n                      fontSize: '16px',\n                      padding: '8px 16px',\n                    }}\n                  >\n                    Edit\n                  </button>\n                </div>\n                <div className=\"space-y-5\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                  <div className=\"flex\">\n                    <span className=\"text-slate-600 w-48 font-medium\">Business Name:</span>\n                    <span className=\"text-slate-900 font-semibold\">{formData.businessName}</span>\n                  </div>\n                  {formData.businessNameAlternative && (\n                    <div className=\"flex\">\n                      <span className=\"text-slate-600 w-48 font-medium\">Alternative Name:</span>\n                      <span className=\"text-slate-900 font-semibold\">{formData.businessNameAlternative}</span>\n                    </div>\n                  )}\n                  <div className=\"flex\">\n                    <span className=\"text-slate-600 w-48 font-medium\">Purpose:</span>\n                    <span className=\"text-slate-900 font-semibold\">\n                      {formData.businessPurpose || '(Not specified - optional)'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Addresses */}\n              <div\n                className=\"rounded-xl bg-white hover:shadow-md transition-shadow\"\n                style={{\n                  border: '1px solid #e2e8f0',\n                  borderLeft: '4px solid #10b981',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  padding: '32px',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-8\">\n                  <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                    Addresses\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(2)}\n                    className=\"text-sky-600 hover:text-sky-700 font-semibold hover:bg-sky-50 rounded-lg transition-colors\"\n                    style={{\n                      fontSize: '16px',\n                      padding: '8px 16px',\n                    }}\n                  >\n                    Edit\n                  </button>\n                </div>\n                <div className=\"space-y-6\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                  <div>\n                    <p className=\"text-slate-600 font-semibold mb-3\">Principal Address:</p>\n                    <p className=\"text-slate-900\">\n                      {formData.businessAddress}, {formData.businessCity}, FL {formData.businessZip}\n                    </p>\n                  </div>\n                  <div>\n                    <p className=\"text-slate-600 font-semibold mb-3\">Mailing Address:</p>\n                    <p className=\"text-slate-900\">\n                      {sameAsBusinessAddress\n                        ? 'Same as principal address'\n                        : `${formData.mailingAddress}, ${formData.mailingCity}, FL ${formData.mailingZip}`\n                      }\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Registered Agent */}\n              <div\n                className=\"rounded-xl bg-white hover:shadow-md transition-shadow\"\n                style={{\n                  border: '1px solid #e2e8f0',\n                  borderLeft: '4px solid #f59e0b',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  padding: '32px',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-8\">\n                  <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                    Registered Agent\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(3)}\n                    className=\"text-sky-600 hover:text-sky-700 font-semibold hover:bg-sky-50 rounded-lg transition-colors\"\n                    style={{\n                      fontSize: '16px',\n                      padding: '8px 16px',\n                    }}\n                  >\n                    Edit\n                  </button>\n                </div>\n                <div className=\"space-y-5\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                  <div className=\"flex\">\n                    <span className=\"text-slate-600 w-48 font-medium\">Name:</span>\n                    <span className=\"text-slate-900 font-semibold\">{formData.registeredAgentName}</span>\n                  </div>\n                  <div className=\"flex\">\n                    <span className=\"text-slate-600 w-48 font-medium\">Address:</span>\n                    <span className=\"text-slate-900 font-semibold\">\n                      {formData.registeredAgentAddress}, {formData.registeredAgentCity}, FL {formData.registeredAgentZip}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Managers */}\n              <div\n                className=\"rounded-xl bg-white hover:shadow-md transition-shadow\"\n                style={{\n                  border: '1px solid #e2e8f0',\n                  borderLeft: '4px solid #8b5cf6',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  padding: '32px',\n                }}\n              >\n                <div className=\"flex items-center justify-between mb-8\">\n                  <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                    Managers ({formData.managers.length})\n                  </h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => setCurrentStep(4)}\n                    className=\"text-sky-600 hover:text-sky-700 font-semibold hover:bg-sky-50 rounded-lg transition-colors\"\n                    style={{\n                      fontSize: '16px',\n                      padding: '8px 16px',\n                    }}\n                  >\n                    Edit\n                  </button>\n                </div>\n                <div className=\"space-y-6\">\n                  {formData.managers.map((manager, index) => (\n                    <div\n                      key={manager.id}\n                      className=\"last:border-0\"\n                      style={{\n                        fontSize: '16px',\n                        lineHeight: '1.6',\n                        borderBottom: index < formData.managers.length - 1 ? '2px solid #f1f5f9' : 'none',\n                        paddingBottom: index < formData.managers.length - 1 ? '24px' : '0',\n                      }}\n                    >\n                      <p className=\"font-semibold text-slate-900 mb-2\" style={{ fontSize: '18px', lineHeight: '1.4' }}>\n                        {manager.name}\n                      </p>\n                      <p className=\"text-slate-600\">{manager.email} ‚Ä¢ {manager.phone}</p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Pricing Summary */}\n            <div className=\"mt-12\">\n              <div\n                className=\"rounded-xl bg-gradient-to-br from-sky-50 to-blue-50\"\n                style={{\n                  border: '2px solid #0ea5e9',\n                  boxShadow: '0 4px 12px rgba(14, 165, 233, 0.15)',\n                  padding: '32px',\n                }}\n              >\n                <h3 className=\"font-semibold text-slate-900 mb-8\" style={{ fontSize: '24px', lineHeight: '1.4' }}>\n                  Pricing Summary\n                </h3>\n                <div className=\"space-y-4\" style={{ fontSize: '18px', lineHeight: '1.6' }}>\n                  {/* Show package price or service fee */}\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-slate-700 font-medium\">\n                      {selectedPackage ? `${selectedPackage.name} Package` : 'LLC Formation Service'}\n                    </span>\n                    <span className=\"text-slate-900 font-semibold\">\n                      ${selectedPackage ? Number(selectedPackage.price).toFixed(2) : (service?.serviceFee?.toFixed(2) || '100.00')}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-slate-700 font-medium\">State Filing Fee</span>\n                    <span className=\"text-slate-900 font-semibold\">\n                      ${service?.stateFee?.toFixed(2) || '125.00'}\n                    </span>\n                  </div>\n                  {formData.rushProcessing && service?.rushFeeAvailable && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-slate-700 font-medium\">Rush Processing</span>\n                      <span className=\"text-slate-900 font-semibold\">\n                        ${service?.rushFee?.toFixed(2) || '50.00'}\n                      </span>\n                    </div>\n                  )}\n                  <div\n                    className=\"pt-4 mt-4 flex justify-between items-center\"\n                    style={{ borderTop: '2px solid #0ea5e9' }}\n                  >\n                    <span className=\"text-slate-900 font-bold\" style={{ fontSize: '20px' }}>Total</span>\n                    <span className=\"text-sky-600 font-bold\" style={{ fontSize: '24px' }}>\n                      ${(() => {\n                        const packagePrice = selectedPackage ? Number(selectedPackage.price) : (service?.serviceFee || 100);\n                        const stateFee = service?.stateFee || 125;\n                        const rushFee = (formData.rushProcessing && service?.rushFeeAvailable)\n                          ? (service?.rushFee || 50)\n                          : 0;\n                        return (packagePrice + stateFee + rushFee).toFixed(2);\n                      })()}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Additional Options */}\n            <div className=\"mt-12\" style={{ borderTop: '2px solid #e2e8f0', paddingTop: '48px' }}>\n              <h3 className=\"font-semibold text-slate-900 mb-10\" style={{ fontSize: '24px', lineHeight: '1.4' }}>\n                Additional Services\n              </h3>\n\n              <div\n                className=\"flex items-start gap-6 rounded-xl bg-white hover:shadow-md transition-all duration-200\"\n                style={{\n                  border: '1px solid #e2e8f0',\n                  borderLeft: '4px solid #f59e0b',\n                  boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n                  padding: '32px',\n                }}\n              >\n                <input\n                  type=\"checkbox\"\n                  id=\"rushProcessing\"\n                  name=\"rushProcessing\"\n                  checked={formData.rushProcessing}\n                  onChange={handleChange}\n                  className=\"w-6 h-6 text-sky-600 rounded border-gray-300 focus:ring-2 focus:ring-sky-500 mt-1 flex-shrink-0 cursor-pointer\"\n                />\n                <label htmlFor=\"rushProcessing\" className=\"cursor-pointer flex-1\">\n                  <div className=\"flex items-center gap-4 mb-4\">\n                    <span className=\"font-semibold text-slate-900\" style={{ fontSize: '18px', lineHeight: '1.4' }}>\n                      Rush Processing\n                    </span>\n                    <div className=\"relative\">\n                      <button\n                        type=\"button\"\n                        onClick={(e) => {\n                          e.preventDefault();\n                          setShowRushTooltip(!showRushTooltip);\n                        }}\n                        onBlur={() => setTimeout(() => setShowRushTooltip(false), 200)}\n                        className=\"w-5 h-5 rounded-full bg-sky-100 hover:bg-sky-200 flex items-center justify-center transition-colors\"\n                        aria-label=\"Rush processing information\"\n                      >\n                        <Info className=\"w-3.5 h-3.5 text-sky-600\" />\n                      </button>\n                      {showRushTooltip && (\n                        <div\n                          className=\"absolute z-50 w-96 bg-white rounded-lg shadow-xl\"\n                          style={{\n                            border: '1px solid #e2e8f0',\n                            padding: '20px',\n                            top: '100%',\n                            left: '50%',\n                            transform: 'translateX(-50%)',\n                            marginTop: '8px',\n                          }}\n                        >\n                          <div className=\"text-sm text-slate-700\" style={{ lineHeight: '1.6' }}>\n                            <p className=\"font-semibold text-slate-900 mb-3\">What is Rush Processing?</p>\n                            <p className=\"mb-3\">\n                              Instead of processing your filing in the order it's received, we move it to the front of the line and expedite sending it to the state for filing. However, once it reaches the state, they process it under their normal schedule ‚Äî the state does not offer expedited processing on their end.\n                            </p>\n                            <div className=\"bg-slate-50 rounded p-3 mt-3\" style={{ border: '1px solid #e2e8f0' }}>\n                              <p className=\"text-xs font-semibold text-slate-600 mb-2\">Official Florida Department of State FAQ (Question #17):</p>\n                              <p className=\"text-xs italic text-slate-600\">\n                                \"How can I expedite my filing?\"<br />\n                                \"We do not offer expedited services.\"\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                    <span\n                      className=\"inline-flex items-center rounded-full font-semibold bg-amber-100 text-amber-800\"\n                      style={{\n                        fontSize: '14px',\n                        border: '2px solid #fcd34d',\n                        padding: '6px 16px',\n                      }}\n                    >\n                      +$50\n                    </span>\n                  </div>\n                  <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                    We expedite your filing on our end - processed within 1-2 business days\n                  </p>\n                </label>\n              </div>\n            </div>\n\n            {/* Final CTA */}\n            <div\n              className=\"bg-gradient-to-r from-emerald-50 to-sky-50 rounded-xl mt-10\"\n              style={{\n                border: '1px solid #a7f3d0',\n                borderLeft: '4px solid #10b981',\n                padding: '32px',\n              }}\n            >\n              <div className=\"flex items-start gap-6\">\n                <div className=\"w-14 h-14 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0\">\n                  <Check className=\"w-7 h-7 text-emerald-600\" />\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-slate-900 mb-4\" style={{ fontSize: '20px', lineHeight: '1.4' }}>\n                    Ready to Submit\n                  </h4>\n                  <p className=\"text-slate-700\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n                    Your information has been reviewed. Click \"Submit & Continue to Checkout\" below to proceed with payment and finalize your LLC formation.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </FormSection>\n        )}\n    </FormWizard>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\MyBusinessesClient.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[929,932],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[929,932],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { Building2, Calendar, FileText, ExternalLink } from 'lucide-react';\nimport HealthScoreModal from './HealthScoreModal';\n\ninterface Address {\n  street: string;\n  suite?: string | null;\n  city: string;\n  state: string;\n  zipCode: string;\n}\n\ninterface RegisteredAgent {\n  id: string;\n  agentType: string;\n  firstName?: string | null;\n  lastName?: string | null;\n  companyName?: string | null;\n}\n\ninterface Filing {\n  id: string;\n  filingType: string;\n  createdAt: Date;\n}\n\ninterface Business {\n  id: string;\n  legalName: string;\n  dbaName?: string | null;\n  entityType: string;\n  documentNumber?: string | null;\n  feiNumber?: string | null;\n  filingDate?: Date | null;\n  status: string;\n  addresses: Address[];\n  registeredAgent?: RegisteredAgent | null;\n  filings: Filing[];\n  createdAt: Date;\n  healthScore?: number | null;\n  healthBreakdown?: any;\n}\n\ninterface MyBusinessesClientProps {\n  businesses: Business[];\n}\n\nexport default function MyBusinessesClient({ businesses }: MyBusinessesClientProps) {\n  // Modal state\n  const [selectedBusiness, setSelectedBusiness] = useState<Business | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  // Generate Sunbiz URL\n  const getSunbizUrl = (documentNumber: string) => {\n    return `https://search.sunbiz.org/Inquiry/CorporationSearch/SearchResultDetail?inquirytype=DocumentNumber&directionType=Initial&searchNameOrder=${documentNumber}&aggregateId=doml-${documentNumber.toLowerCase()}&searchTerm=${documentNumber}`;\n  };\n\n  // Format entity type for display\n  const formatEntityType = (type: string) => {\n    return type.replace(/_/g, ' ');\n  };\n\n  // Open health score modal\n  const openHealthModal = (business: Business) => {\n    setSelectedBusiness(business);\n    setIsModalOpen(true);\n  };\n\n  // Get status badge styling\n  const getStatusBadge = (status: string) => {\n    const styles = {\n      ACTIVE: { bg: '#d1fae5', color: '#059669', label: '‚úÖ Active' },\n      PENDING: { bg: '#fef3c7', color: '#d97706', label: '‚è≥ Pending' },\n      FILED: { bg: '#dbeafe', color: '#0284c7', label: 'üìã Filed' },\n      INACTIVE: { bg: '#f3f4f6', color: '#6b7280', label: '‚è∏Ô∏è Inactive' },\n      DISSOLVED: { bg: '#fee2e2', color: '#dc2626', label: '‚ùå Dissolved' }\n    };\n    return styles[status as keyof typeof styles] || styles.PENDING;\n  };\n\n  // Get health score badge styling\n  const getHealthScoreBadge = (score: number | null | undefined) => {\n    if (score === null || score === undefined) {\n      return { bg: '#f3f4f6', color: '#6b7280', label: 'N/A', ring: '#d1d5db' };\n    }\n\n    if (score >= 90) {\n      return { bg: '#d1fae5', color: '#059669', label: `${score}`, ring: '#10b981' };\n    } else if (score >= 75) {\n      return { bg: '#dbeafe', color: '#0284c7', label: `${score}`, ring: '#0ea5e9' };\n    } else if (score >= 60) {\n      return { bg: '#fef3c7', color: '#d97706', label: `${score}`, ring: '#f59e0b' };\n    } else {\n      return { bg: '#fee2e2', color: '#dc2626', label: `${score}`, ring: '#ef4444' };\n    }\n  };\n\n  if (businesses.length === 0) {\n    return (\n      <div style={{ textAlign: 'center', padding: '4rem' }}>\n        <div\n          style={{\n            width: '80px',\n            height: '80px',\n            background: '#f0f9ff',\n            borderRadius: '50%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 1.5rem'\n          }}\n        >\n          <Building2 size={40} color=\"#0ea5e9\" />\n        </div>\n        <h2 className=\"font-semibold\" style={{ fontSize: '24px', color: '#0f172a', marginBottom: '0.5rem' }}>\n          No Businesses Yet\n        </h2>\n        <p style={{ fontSize: '16px', color: '#64748b', marginBottom: '2rem' }}>\n          Start your first business formation to see it here\n        </p>\n        <Link\n          href=\"/services\"\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '12px 24px',\n            background: '#0ea5e9',\n            color: 'white',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            transition: 'all 0.2s'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = '#0284c7';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = '#0ea5e9';\n          }}\n        >\n          Browse Services\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Header */}\n      <div style={{ marginBottom: '32px', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <div>\n          <h1 className=\"font-semibold\" style={{ fontSize: '32px', color: '#0f172a', marginBottom: '8px' }}>\n            My Businesses\n          </h1>\n          <p style={{ fontSize: '16px', color: '#64748b' }}>\n            Manage your {businesses.length} {businesses.length === 1 ? 'business' : 'businesses'}\n          </p>\n        </div>\n        <Link\n          href=\"/services\"\n          style={{\n            display: 'inline-flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '12px 24px',\n            background: '#0ea5e9',\n            color: 'white',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: '500',\n            textDecoration: 'none',\n            transition: 'all 0.2s'\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.background = '#0284c7';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.background = '#0ea5e9';\n          }}\n        >\n          + Add Business\n        </Link>\n      </div>\n\n      {/* Business Grid */}\n      <div\n        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3\"\n        style={{ gap: '24px' }}\n      >\n        {businesses.map((business) => {\n          const statusBadge = getStatusBadge(business.status);\n          const healthBadge = getHealthScoreBadge(business.healthScore);\n          const principalAddress = business.addresses[0];\n\n          return (\n            <div\n              key={business.id}\n              className=\"bg-white rounded-xl\"\n              style={{\n                padding: '24px',\n                boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n                border: '1px solid #e2e8f0',\n                transition: 'all 0.2s',\n                cursor: 'pointer'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.07), 0 20px 30px rgba(0, 0, 0, 0.08)';\n                e.currentTarget.style.transform = 'translateY(-2px)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)';\n                e.currentTarget.style.transform = 'translateY(0)';\n              }}\n            >\n              {/* Business Icon & Status */}\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '16px' }}>\n                <div\n                  style={{\n                    width: '48px',\n                    height: '48px',\n                    background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                    borderRadius: '12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  }}\n                >\n                  <Building2 size={24} color=\"white\" />\n                </div>\n                <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                  {/* Health Score Badge */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      if (business.healthBreakdown) {\n                        openHealthModal(business);\n                      }\n                    }}\n                    disabled={!business.healthBreakdown}\n                    style={{\n                      width: '56px',\n                      height: '56px',\n                      background: healthBadge.bg,\n                      border: `2px solid ${healthBadge.ring}`,\n                      borderRadius: '50%',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      cursor: business.healthBreakdown ? 'pointer' : 'default',\n                      transition: 'all 0.2s',\n                      padding: 0\n                    }}\n                    title={business.healthScore !== null && business.healthScore !== undefined ? `Click to view health score details (${business.healthScore}/100)` : 'Health score not calculated'}\n                    onMouseEnter={(e) => {\n                      if (business.healthBreakdown) {\n                        e.currentTarget.style.transform = 'scale(1.1)';\n                        e.currentTarget.style.boxShadow = `0 4px 12px ${healthBadge.ring}40`;\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.transform = 'scale(1)';\n                      e.currentTarget.style.boxShadow = 'none';\n                    }}\n                  >\n                    <span style={{ fontSize: '18px', fontWeight: '700', color: healthBadge.color, lineHeight: '1' }}>\n                      {healthBadge.label}\n                    </span>\n                    <span style={{ fontSize: '9px', fontWeight: '500', color: healthBadge.color, marginTop: '2px' }}>\n                      {business.healthScore !== null && business.healthScore !== undefined ? 'HEALTH' : ''}\n                    </span>\n                  </button>\n                  {/* Status Badge */}\n                  <span\n                    style={{\n                      background: statusBadge.bg,\n                      color: statusBadge.color,\n                      padding: '4px 12px',\n                      borderRadius: '12px',\n                      fontSize: '12px',\n                      fontWeight: '500'\n                    }}\n                  >\n                    {statusBadge.label}\n                  </span>\n                </div>\n              </div>\n\n              {/* Business Name */}\n              <h3 className=\"font-semibold\" style={{ fontSize: '18px', color: '#0f172a', marginBottom: '4px' }}>\n                {business.legalName}\n              </h3>\n              <p style={{ fontSize: '13px', color: '#64748b', marginBottom: '16px' }}>\n                Florida {formatEntityType(business.entityType)}\n              </p>\n\n              {/* Key Info */}\n              <div style={{ marginBottom: '20px', display: 'flex', flexDirection: 'column', gap: '8px' }}>\n                {business.documentNumber && (\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <FileText size={14} color=\"#64748b\" />\n                    <span style={{ fontSize: '13px', color: '#64748b' }}>\n                      Doc #: {business.documentNumber}\n                    </span>\n                  </div>\n                )}\n                {business.filingDate && (\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                    <Calendar size={14} color=\"#64748b\" />\n                    <span style={{ fontSize: '13px', color: '#64748b' }}>\n                      Filed: {new Date(business.filingDate).toLocaleDateString()}\n                    </span>\n                  </div>\n                )}\n                {principalAddress && (\n                  <div style={{ display: 'flex', alignItems: 'flex-start', gap: '8px' }}>\n                    <svg style={{ width: '14px', height: '14px', marginTop: '2px', flexShrink: 0 }} fill=\"none\" stroke=\"#64748b\" viewBox=\"0 0 24 24\" strokeWidth={2}>\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                    </svg>\n                    <span style={{ fontSize: '13px', color: '#64748b', lineHeight: '1.4' }}>\n                      {principalAddress.city}, {principalAddress.state}\n                    </span>\n                  </div>\n                )}\n              </div>\n\n              {/* Actions */}\n              <div style={{ display: 'flex', gap: '8px', paddingTop: '16px', borderTop: '1px solid #e2e8f0' }}>\n                <Link\n                  href={`/dashboard/businesses/${business.id}`}\n                  style={{\n                    flex: 1,\n                    padding: '10px',\n                    background: '#0ea5e9',\n                    color: 'white',\n                    borderRadius: '8px',\n                    fontSize: '13px',\n                    fontWeight: '500',\n                    textDecoration: 'none',\n                    textAlign: 'center',\n                    transition: 'all 0.2s'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = '#0284c7';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = '#0ea5e9';\n                  }}\n                >\n                  View Details\n                </Link>\n                {business.documentNumber && (\n                  <a\n                    href={getSunbizUrl(business.documentNumber)}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{\n                      padding: '10px',\n                      background: 'white',\n                      border: '1px solid #e2e8f0',\n                      color: '#64748b',\n                      borderRadius: '8px',\n                      fontSize: '13px',\n                      fontWeight: '500',\n                      textDecoration: 'none',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      transition: 'all 0.2s'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.borderColor = '#0ea5e9';\n                      e.currentTarget.style.color = '#0ea5e9';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.borderColor = '#e2e8f0';\n                      e.currentTarget.style.color = '#64748b';\n                    }}\n                  >\n                    <ExternalLink size={16} />\n                  </a>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Health Score Modal */}\n      {selectedBusiness && selectedBusiness.healthBreakdown && (\n        <HealthScoreModal\n          isOpen={isModalOpen}\n          onClose={() => setIsModalOpen(false)}\n          businessName={selectedBusiness.legalName}\n          breakdown={selectedBusiness.healthBreakdown}\n        />\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\NoticesBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\OrderDeclinedMessage.tsx","messages":[{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":112,"column":13,"nodeType":"JSXOpeningElement","endLine":115,"endColumn":14}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\ninterface OrderDeclinedMessageProps {\n  reason?: 'fraud_risk' | 'verification_required' | 'payment_issue' | 'general';\n  orderNumber?: string;\n  onContactSupport?: () => void;\n}\n\nexport default function OrderDeclinedMessage({ \n  reason = 'general',\n  orderNumber,\n  onContactSupport \n}: OrderDeclinedMessageProps) {\n  \n  const messages = {\n    fraud_risk: {\n      title: 'Order Verification Required',\n      icon: 'üîí',\n      message: 'We were unable to process your order at this time due to our fraud prevention policies.',\n      details: 'For your security and ours, we need to verify some information before proceeding with your order.',\n      action: 'Please contact our support team to complete the verification process.'\n    },\n    verification_required: {\n      title: 'Additional Verification Needed',\n      icon: 'üîç',\n      message: 'Your order requires additional verification before we can proceed.',\n      details: 'This is a standard security measure to protect both you and our business.',\n      action: 'Our support team will contact you shortly with verification instructions, or you may contact us directly.'\n    },\n    payment_issue: {\n      title: 'Payment Authorization Failed',\n      icon: 'üí≥',\n      message: 'We were unable to authorize your payment method.',\n      details: 'This may be due to insufficient funds, card restrictions, or bank security measures.',\n      action: 'Please verify your payment information and try again, or contact your bank for assistance.'\n    },\n    general: {\n      title: 'Order Cannot Be Processed',\n      icon: '‚ö†Ô∏è',\n      message: 'We are unable to process your order at this time.',\n      details: 'We reserve the right to refuse service at our discretion for business protection purposes.',\n      action: 'If you believe this is an error, please contact our support team for assistance.'\n    }\n  };\n\n  const content = messages[reason];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-6\">\n      <div className=\"max-w-2xl w-full\">\n        {/* Main Message Card */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-6\">\n          <div className=\"text-center mb-6\">\n            <div className=\"text-6xl mb-4\">{content.icon}</div>\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              {content.title}\n            </h1>\n            {orderNumber && (\n              <p className=\"text-gray-600\">\n                Order #{orderNumber}\n              </p>\n            )}\n          </div>\n\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\n            <p className=\"text-red-900 font-semibold mb-3\">\n              {content.message}\n            </p>\n            <p className=\"text-red-800 text-sm mb-3\">\n              {content.details}\n            </p>\n            <p className=\"text-red-800 text-sm\">\n              {content.action}\n            </p>\n          </div>\n\n          {/* Important Information */}\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6\">\n            <h3 className=\"font-semibold text-blue-900 mb-3\">\n              ‚úì Important Information\n            </h3>\n            <ul className=\"space-y-2 text-sm text-blue-800\">\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-green-600 font-bold\">‚úì</span>\n                <span><strong>No charges have been made</strong> to your payment method</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-green-600 font-bold\">‚úì</span>\n                <span>Any payment authorization has been voided</span>\n              </li>\n              <li className=\"flex items-start gap-2\">\n                <span className=\"text-green-600 font-bold\">‚úì</span>\n                <span>Your account remains in good standing</span>\n              </li>\n              {reason === 'verification_required' && (\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-green-600 font-bold\">‚úì</span>\n                  <span>You may resubmit your order after verification is complete</span>\n                </li>\n              )}\n            </ul>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <button\n              onClick={onContactSupport}\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold\"\n            >\n              üìß Contact Support\n            </button>\n            <a\n              href=\"/\"\n              className=\"flex-1 px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold text-center\"\n            >\n              üè† Return to Home\n            </a>\n          </div>\n        </div>\n\n        {/* Support Information */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"font-semibold text-gray-900 mb-3\">\n            Need Help?\n          </h3>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm\">\n            <div>\n              <div className=\"text-gray-600 mb-1\">Email Support</div>\n              <a href=\"mailto:support@legalops.com\" className=\"text-blue-600 hover:underline font-medium\">\n                support@legalops.com\n              </a>\n            </div>\n            <div>\n              <div className=\"text-gray-600 mb-1\">Phone Support</div>\n              <a href=\"tel:1-800-555-0123\" className=\"text-blue-600 hover:underline font-medium\">\n                1-800-555-0123\n              </a>\n            </div>\n            <div>\n              <div className=\"text-gray-600 mb-1\">Business Hours</div>\n              <div className=\"text-gray-900 font-medium\">\n                Mon-Fri: 9am-6pm EST\n              </div>\n            </div>\n            <div>\n              <div className=\"text-gray-600 mb-1\">Response Time</div>\n              <div className=\"text-gray-900 font-medium\">\n                Within 24 hours\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* FAQ Section */}\n        {reason === 'fraud_risk' && (\n          <div className=\"bg-white rounded-lg shadow p-6 mt-6\">\n            <h3 className=\"font-semibold text-gray-900 mb-4\">\n              Common Questions\n            </h3>\n            <div className=\"space-y-4 text-sm\">\n              <div>\n                <div className=\"font-semibold text-gray-900 mb-1\">\n                  Why was my order flagged?\n                </div>\n                <div className=\"text-gray-700\">\n                  Our automated fraud prevention system reviews all orders to protect both \n                  customers and our business. Various factors may trigger additional review, \n                  including payment method, order details, or account information.\n                </div>\n              </div>\n              <div>\n                <div className=\"font-semibold text-gray-900 mb-1\">\n                  What verification might be required?\n                </div>\n                <div className=\"text-gray-700\">\n                  We may request government-issued ID, proof of business ownership, or \n                  verification of payment method. This is standard practice for legal services.\n                </div>\n              </div>\n              <div>\n                <div className=\"font-semibold text-gray-900 mb-1\">\n                  How long does verification take?\n                </div>\n                <div className=\"text-gray-700\">\n                  Most verifications are completed within 1-2 business days. Our support \n                  team will work with you to expedite the process.\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\PackageSelector.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":278,"column":16,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10989,11103],"text":"\n            You&apos;ve chosen to file individually. You'll be able to add additional services at checkout.\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10989,11103],"text":"\n            You&lsquo;ve chosen to file individually. You'll be able to add additional services at checkout.\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10989,11103],"text":"\n            You&#39;ve chosen to file individually. You'll be able to add additional services at checkout.\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10989,11103],"text":"\n            You&rsquo;ve chosen to file individually. You'll be able to add additional services at checkout.\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":278,"column":52,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[10989,11103],"text":"\n            You've chosen to file individually. You&apos;ll be able to add additional services at checkout.\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[10989,11103],"text":"\n            You've chosen to file individually. You&lsquo;ll be able to add additional services at checkout.\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[10989,11103],"text":"\n            You've chosen to file individually. You&#39;ll be able to add additional services at checkout.\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[10989,11103],"text":"\n            You've chosen to file individually. You&rsquo;ll be able to add additional services at checkout.\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Check, Sparkles } from 'lucide-react';\n\ninterface Package {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  description: string;\n  features: string[];\n  badge: string | null;\n  highlightColor: string | null;\n  includesRA: boolean;\n  raYears: number;\n  includesEIN: boolean;\n  includesAI: boolean;\n  includesOperatingAgreement: boolean;\n  includesComplianceCalendar: boolean;\n}\n\ninterface PackageSelectorProps {\n  onSelectPackage: (packageData: Package | null) => void;\n  selectedPackageId?: string | null;\n}\n\nexport default function PackageSelector({ onSelectPackage, selectedPackageId }: PackageSelectorProps) {\n  const [packages, setPackages] = useState<Package[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedMode, setSelectedMode] = useState<'package' | 'individual'>('package');\n\n  useEffect(() => {\n    const fetchPackages = async () => {\n      try {\n        const response = await fetch('/api/packages');\n        if (response.ok) {\n          const data = await response.json();\n          setPackages(data);\n        }\n      } catch (error) {\n        console.error('Failed to fetch packages:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPackages();\n  }, []);\n\n  const handlePackageSelect = (pkg: Package) => {\n    onSelectPackage(pkg);\n  };\n\n  const handleIndividualSelect = () => {\n    setSelectedMode('individual');\n    onSelectPackage(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-slate-600\">Loading packages...</p>\n      </div>\n    );\n  }\n\n  const getColorStyles = (color: string | null) => {\n    switch (color) {\n      case 'emerald':\n        return {\n          borderColor: '#6ee7b7',\n          cardBg: 'linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)',\n          badgeBg: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n          buttonBg: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n          buttonBorder: '#059669',\n          buttonShadow: '0 4px 14px rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n        };\n      case 'purple':\n        return {\n          borderColor: '#c4b5fd',\n          cardBg: 'linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)',\n          badgeBg: 'linear-gradient(135deg, #a855f7 0%, #9333ea 100%)',\n          buttonBg: 'linear-gradient(135deg, #a855f7 0%, #9333ea 100%)',\n          buttonBorder: '#9333ea',\n          buttonShadow: '0 4px 14px rgba(168, 85, 247, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n        };\n      default:\n        return {\n          borderColor: '#7dd3fc',\n          cardBg: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n          badgeBg: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n          buttonBg: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n          buttonBorder: '#0284c7',\n          buttonShadow: '0 4px 14px rgba(14, 165, 233, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n        };\n    }\n  };\n\n  return (\n    <div style={{ marginBottom: '64px' }}>\n      {/* Mode Toggle */}\n      <div className=\"text-center\" style={{ marginBottom: '48px' }}>\n        <h2 className=\"text-3xl font-bold text-slate-900\" style={{ marginBottom: '16px' }}>Choose Your Package</h2>\n        <p className=\"text-slate-600\" style={{ marginBottom: '32px', fontSize: '16px' }}>Select a package for the best value, or choose individual filing</p>\n\n        <div\n          className=\"inline-flex rounded-xl p-1.5\"\n          style={{\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\n            border: '2px solid #e2e8f0',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1)',\n          }}\n        >\n          <button\n            onClick={() => setSelectedMode('package')}\n            className=\"px-8 py-3 rounded-lg font-semibold transition-all duration-200\"\n            style={\n              selectedMode === 'package'\n                ? {\n                    background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                    color: 'white',\n                    border: '2px solid #0284c7',\n                    boxShadow: '0 4px 12px rgba(14, 165, 233, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n                  }\n                : {\n                    background: 'transparent',\n                    color: '#64748b',\n                    border: '2px solid transparent',\n                  }\n            }\n          >\n            üì¶ Packages (Best Value)\n          </button>\n          <button\n            onClick={handleIndividualSelect}\n            className=\"px-8 py-3 rounded-lg font-semibold transition-all duration-200 ml-2\"\n            style={\n              selectedMode === 'individual'\n                ? {\n                    background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n                    color: 'white',\n                    border: '2px solid #0284c7',\n                    boxShadow: '0 4px 12px rgba(14, 165, 233, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2)',\n                  }\n                : {\n                    background: 'transparent',\n                    color: '#64748b',\n                    border: '2px solid transparent',\n                  }\n            }\n          >\n            üìÑ Individual Filing\n          </button>\n        </div>\n      </div>\n\n      {/* Package Cards */}\n      {selectedMode === 'package' && (\n        <div className=\"grid grid-cols-1 md:grid-cols-3\" style={{ gap: '32px', marginTop: '48px' }}>\n          {packages.map((pkg) => {\n            const colors = getColorStyles(pkg.highlightColor);\n            const isSelected = selectedPackageId === pkg.id;\n            const isMostPopular = pkg.badge === 'Most Popular';\n\n            return (\n              <div\n                key={pkg.id}\n                className={`relative rounded-xl cursor-pointer ${isMostPopular ? 'md:scale-105 hover:md:scale-110' : 'hover:scale-105'}`}\n                style={{\n                  background: isSelected ? colors.cardBg : 'white',\n                  border: isSelected ? `4px solid ${colors.borderColor}` : '3px solid #e2e8f0',\n                  boxShadow: isSelected\n                    ? '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)'\n                    : '0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1)',\n                  padding: '40px 32px 32px',\n                  marginTop: '24px',\n                  transition: 'all 0.2s ease-in-out',\n                }}\n                onClick={() => handlePackageSelect(pkg)}\n              >\n                {/* Badge */}\n                {pkg.badge && (\n                  <div\n                    className=\"absolute left-1/2 transform -translate-x-1/2 text-white rounded-full font-bold\"\n                    style={{\n                      background: colors.badgeBg,\n                      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n                      top: '-14px',\n                      padding: '8px 20px',\n                      fontSize: '14px',\n                      letterSpacing: '0.3px',\n                    }}\n                  >\n                    {pkg.badge}\n                  </div>\n                )}\n\n                {/* Package Name & Price */}\n                <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n                  <h3 className=\"text-2xl font-bold text-slate-900\" style={{ marginBottom: '12px' }}>{pkg.name}</h3>\n                  <div style={{ marginBottom: '16px' }}>\n                    <span className=\"text-5xl font-bold text-slate-900\">${pkg.price}</span>\n                    <span className=\"text-slate-600\" style={{ marginLeft: '8px', fontSize: '15px' }}>+ state fees</span>\n                  </div>\n                  <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5' }}>{pkg.description}</p>\n                </div>\n\n                {/* Features */}\n                <ul style={{ marginBottom: '32px' }}>\n                  {pkg.features.map((feature, index) => (\n                    <li key={index} className=\"flex items-start gap-2\" style={{ marginBottom: '12px' }}>\n                      <Check className=\"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5\" />\n                      <span className=\"text-slate-700\" style={{ fontSize: '14px', lineHeight: '1.5' }}>{feature}</span>\n                    </li>\n                  ))}\n                </ul>\n\n                {/* AI Badge */}\n                {pkg.includesAI && (\n                  <div\n                    className=\"rounded-lg\"\n                    style={{\n                      marginBottom: '24px',\n                      padding: '12px 16px',\n                      background: 'linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%)',\n                      border: '2px solid #c4b5fd',\n                    }}\n                  >\n                    <div className=\"flex items-center gap-2 text-purple-700\">\n                      <Sparkles className=\"w-4 h-4\" />\n                      <span className=\"text-sm font-semibold\">AI-Powered Features Included</span>\n                    </div>\n                  </div>\n                )}\n\n                {/* Select Button */}\n                <button\n                  onClick={() => handlePackageSelect(pkg)}\n                  className=\"w-full rounded-xl font-bold text-white transition-all duration-200 hover:scale-105\"\n                  style={{\n                    background: colors.buttonBg,\n                    border: `3px solid ${colors.buttonBorder}`,\n                    boxShadow: colors.buttonShadow,\n                    padding: '16px 24px',\n                    fontSize: '16px',\n                  }}\n                >\n                  {isSelected ? '‚úì Selected' : 'Select Package'}\n                </button>\n\n                {/* Savings Badge for non-Basic packages */}\n                {pkg.price > 0 && (\n                  <p className=\"text-center text-emerald-600 font-semibold\" style={{ marginTop: '16px', fontSize: '14px' }}>\n                    Save ${pkg.includesRA ? 199 - pkg.price : 50}+ vs individual services\n                  </p>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Individual Filing Message */}\n      {selectedMode === 'individual' && (\n        <div\n          className=\"max-w-2xl mx-auto text-center rounded-xl\"\n          style={{\n            background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)',\n            border: '3px solid #e2e8f0',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1)',\n            padding: '48px 40px',\n            marginTop: '48px',\n          }}\n        >\n          <h3 className=\"text-2xl font-bold text-slate-900\" style={{ marginBottom: '20px' }}>Individual Filing Selected</h3>\n          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6', marginBottom: '28px' }}>\n            You've chosen to file individually. You'll be able to add additional services at checkout.\n          </p>\n          <div\n            className=\"inline-flex items-center rounded-lg\"\n            style={{\n              background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n              border: '2px solid #7dd3fc',\n              padding: '14px 24px',\n              gap: '8px',\n            }}\n          >\n            <span className=\"font-semibold text-sky-700\" style={{ fontSize: '14px' }}>üí° Tip: Packages save you money on bundled services!</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\ServiceRefusalDisclaimer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\StripePaymentForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'orderId' is defined but never used.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState } from 'react';\nimport {\n  PaymentElement,\n  useStripe,\n  useElements,\n} from '@stripe/react-stripe-js';\n\ninterface StripePaymentFormProps {\n  orderId: string;\n  amount: number;\n  onSuccess: () => void;\n  onError: (error: string) => void;\n}\n\nexport default function StripePaymentForm({\n  orderId,\n  amount,\n  onSuccess,\n  onError,\n}: StripePaymentFormProps) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  // Convert amount to number if it's a string, and ensure it's valid\n  const numericAmount = typeof amount === 'string' ? parseFloat(amount) : amount;\n  const displayAmount = !isNaN(numericAmount) && numericAmount > 0 ? numericAmount : 0;\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    if (!stripe || !elements) {\n      setErrorMessage('Stripe is not loaded');\n      return;\n    }\n\n    setIsProcessing(true);\n    setErrorMessage(null);\n\n    try {\n      // Confirm payment with Stripe\n      const { error, paymentIntent } = await stripe.confirmPayment({\n        elements,\n        redirect: 'if_required',\n      });\n\n      if (error) {\n        setErrorMessage(error.message || 'Payment failed');\n        onError(error.message || 'Payment failed');\n      } else if (paymentIntent?.status === 'succeeded') {\n        onSuccess();\n      } else {\n        setErrorMessage('Payment processing failed');\n        onError('Payment processing failed');\n      }\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Payment failed';\n      setErrorMessage(message);\n      onError(message);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <PaymentElement\n        options={{\n          layout: 'tabs',\n        }}\n      />\n\n      {errorMessage && (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\n          <p className=\"text-red-700 text-sm\">{errorMessage}</p>\n        </div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={isProcessing || !stripe || !elements}\n        className=\"w-full text-white rounded-xl font-bold transition-all duration-300 disabled:cursor-not-allowed\"\n        style={{\n          background: isProcessing || !stripe || !elements\n            ? 'linear-gradient(135deg, #94a3b8 0%, #64748b 100%)'\n            : 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n          border: isProcessing || !stripe || !elements\n            ? '2px solid #64748b'\n            : '2px solid #2563eb',\n          boxShadow: isProcessing || !stripe || !elements\n            ? '0 4px 12px rgba(100, 116, 139, 0.2)'\n            : '0 6px 20px rgba(37, 99, 235, 0.4)',\n          padding: '16px 24px',\n          fontSize: '18px',\n          transform: isProcessing || !stripe || !elements ? 'none' : 'translateY(0)',\n        }}\n        onMouseEnter={(e) => {\n          if (!isProcessing && stripe && elements) {\n            e.currentTarget.style.boxShadow = '0 8px 24px rgba(37, 99, 235, 0.5)';\n            e.currentTarget.style.transform = 'translateY(-2px)';\n          }\n        }}\n        onMouseLeave={(e) => {\n          if (!isProcessing && stripe && elements) {\n            e.currentTarget.style.boxShadow = '0 6px 20px rgba(37, 99, 235, 0.4)';\n            e.currentTarget.style.transform = 'translateY(0)';\n          }\n        }}\n      >\n        {isProcessing ? 'Processing...' : `Pay $${displayAmount.toFixed(2)}`}\n      </button>\n    </form>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\UPLDisclaimer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\UserInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\checkout\\CheckoutRouter.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":13,"column":20,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":29},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onProceed' is defined but never used.","line":26,"column":82,"nodeType":null,"messageId":"unusedVar","endLine":26,"endColumn":91}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Conditional Checkout Router\n * \n * Routes customers to appropriate checkout flow based on service requirements:\n * - Services requiring account: Force account creation\n * - Services allowing guest checkout: Offer choice\n * \n * CRITICAL: All flows require Terms of Service acceptance with UPL disclaimers\n */\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport { requiresAccount, allowsGuestCheckout, getAccountRequiredReason, getDashboardFeatures, getAccountBenefits } from '@/config/service-data-requirements';\nimport UPLDisclaimer from '@/components/UPLDisclaimer';\n\ninterface CheckoutRouterProps {\n  serviceType: string;\n  serviceName: string;\n  servicePrice: number;\n  onProceed?: (accountRequired: boolean) => void; // Optional - component handles routing by default\n}\n\nexport default function CheckoutRouter({ serviceType, serviceName, servicePrice, onProceed }: CheckoutRouterProps) {\n  const router = useRouter();\n  const [tosAccepted, setTosAccepted] = useState(false);\n  const [privacyAccepted, setPrivacyAccepted] = useState(false);\n  const [selectedOption, setSelectedOption] = useState<'account' | 'guest' | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const accountRequired = requiresAccount(serviceType);\n  const guestAllowed = allowsGuestCheckout(serviceType);\n  const accountReason = getAccountRequiredReason(serviceType);\n  const dashboardFeatures = getDashboardFeatures(serviceType);\n  const accountBenefits = getAccountBenefits(serviceType);\n\n  const handleProceed = () => {\n    // Validate TOS acceptance\n    if (!tosAccepted || !privacyAccepted) {\n      setError('You must accept the Terms of Service and Privacy Policy to continue.');\n      return;\n    }\n\n    // For guest-allowed services, validate option selection\n    if (guestAllowed && !selectedOption) {\n      setError('Please select whether to create an account or continue as guest.');\n      return;\n    }\n\n    // Clear error\n    setError(null);\n\n    // Route to appropriate checkout page\n    const params = new URLSearchParams({\n      service: serviceType,\n      name: serviceName,\n      price: servicePrice.toString(),\n    });\n\n    if (accountRequired || selectedOption === 'account') {\n      // Route to account creation page\n      router.push(`/checkout/create-account?${params.toString()}`);\n    } else {\n      // Route to guest checkout page\n      router.push(`/checkout/guest?${params.toString()}`);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\" style={{ background: 'linear-gradient(to bottom, #e8f0f7 0%, #f5f8fb 100%)', padding: '48px 24px' }}>\n      <div className=\"flex items-center justify-center\">\n        <div className=\"max-w-2xl mx-auto w-full\">\n\n          {/* Header */}\n          <div className=\"text-center\" style={{ marginBottom: '32px' }}>\n            <h1 className=\"font-bold text-slate-900\" style={{ fontSize: '32px', marginBottom: '8px' }}>\n              {serviceName}\n            </h1>\n            <p className=\"text-slate-600\" style={{ fontSize: '16px' }}>\n              Complete your purchase\n            </p>\n          </div>\n\n          {/* UPL Disclaimer - CRITICAL */}\n          <div style={{ marginBottom: '24px' }}>\n            <UPLDisclaimer variant=\"service\" />\n          </div>\n\n        {/* Account Requirement Notice (if required) */}\n        {accountRequired && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg\" style={{ padding: '24px', marginBottom: '24px' }}>\n            <div className=\"flex items-start gap-3\">\n              <div className=\"text-3xl\">üîê</div>\n              <div>\n                <h2 className=\"font-bold text-blue-900\" style={{ fontSize: '18px', marginBottom: '8px' }}>\n                  Account Required\n                </h2>\n                <p className=\"text-blue-800 text-sm\" style={{ marginBottom: '12px' }}>\n                  {accountReason}\n                </p>\n                {dashboardFeatures && dashboardFeatures.length > 0 && (\n                  <>\n                    <p className=\"font-semibold text-blue-900 text-sm\" style={{ marginBottom: '8px' }}>\n                      Your dashboard will include:\n                    </p>\n                    <ul className=\"list-disc ml-5 space-y-1 text-sm text-blue-800\">\n                      {dashboardFeatures.map((feature, index) => (\n                        <li key={index}>{feature}</li>\n                      ))}\n                    </ul>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Guest Checkout Option (if allowed) */}\n        {guestAllowed && (\n          <div className=\"bg-white rounded-lg\" style={{\n            border: '1px solid #e2e8f0',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n            padding: '32px',\n            marginBottom: '24px'\n          }}>\n            <h2 className=\"font-bold text-slate-900\" style={{ fontSize: '18px', marginBottom: '20px' }}>\n              How would you like to proceed?\n            </h2>\n\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n              {/* Create Account Option */}\n              <button\n                onClick={() => setSelectedOption('account')}\n                className={`w-full text-left rounded-lg border transition-all ${\n                  selectedOption === 'account'\n                    ? 'border-sky-500 bg-sky-50'\n                    : 'border-slate-200 hover:border-slate-300'\n                }`}\n                style={{ padding: '20px' }}\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"flex-shrink-0\" style={{ marginTop: '2px' }}>\n                    <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${\n                      selectedOption === 'account'\n                        ? 'border-sky-500 bg-sky-500'\n                        : 'border-slate-300'\n                    }`}>\n                      {selectedOption === 'account' && (\n                        <div className=\"w-2.5 h-2.5 bg-white rounded-full\"></div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '16px', marginBottom: '6px' }}>\n                      Create an Account (Recommended)\n                    </h3>\n                    {accountBenefits && accountBenefits.length > 0 && (\n                      <ul className=\"list-disc ml-5 space-y-1 text-sm text-slate-600\">\n                        {accountBenefits.map((benefit, index) => (\n                          <li key={index}>{benefit}</li>\n                        ))}\n                      </ul>\n                    )}\n                  </div>\n                </div>\n              </button>\n\n              {/* Guest Checkout Option */}\n              <button\n                onClick={() => setSelectedOption('guest')}\n                className={`w-full text-left rounded-lg border transition-all ${\n                  selectedOption === 'guest'\n                    ? 'border-sky-500 bg-sky-50'\n                    : 'border-slate-200 hover:border-slate-300'\n                }`}\n                style={{ padding: '20px' }}\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"flex-shrink-0\" style={{ marginTop: '2px' }}>\n                    <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${\n                      selectedOption === 'guest'\n                        ? 'border-sky-500 bg-sky-500'\n                        : 'border-slate-300'\n                    }`}>\n                      {selectedOption === 'guest' && (\n                        <div className=\"w-2.5 h-2.5 bg-white rounded-full\"></div>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '16px', marginBottom: '6px' }}>\n                      Continue as Guest\n                    </h3>\n                    <p className=\"text-sm text-slate-600\">\n                      Complete your purchase without creating an account. Documents will be delivered via email.\n                    </p>\n                  </div>\n                </div>\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Terms of Service Acceptance - CRITICAL */}\n        <div className=\"bg-white rounded-lg\" style={{\n          border: '1px solid #e2e8f0',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          padding: '32px',\n          marginBottom: '24px'\n        }}>\n          <h2 className=\"font-bold text-slate-900\" style={{ fontSize: '18px', marginBottom: '20px' }}>\n            Legal Agreements\n          </h2>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            {/* Terms of Service */}\n            <label className=\"flex items-start gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={tosAccepted}\n                onChange={(e) => setTosAccepted(e.target.checked)}\n                className=\"w-5 h-5 text-sky-600 border-slate-300 rounded focus:ring-sky-500\"\n                style={{ marginTop: '2px' }}\n              />\n              <span className=\"text-sm text-slate-700 leading-relaxed\">\n                I have read and agree to the{' '}\n                <Link\n                  href=\"/legal/terms-of-service\"\n                  target=\"_blank\"\n                  className=\"text-sky-600 underline hover:text-sky-700 font-semibold\"\n                >\n                  Terms of Service\n                </Link>\n                , including the acknowledgment that LegalOps is not a law firm, does not provide\n                legal advice, and that use of our services does not create an attorney-client relationship.\n              </span>\n            </label>\n\n            {/* Privacy Policy */}\n            <label className=\"flex items-start gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={privacyAccepted}\n                onChange={(e) => setPrivacyAccepted(e.target.checked)}\n                className=\"w-5 h-5 text-sky-600 border-slate-300 rounded focus:ring-sky-500\"\n                style={{ marginTop: '2px' }}\n              />\n              <span className=\"text-sm text-slate-700 leading-relaxed\">\n                I have read and agree to the{' '}\n                <Link\n                  href=\"/legal/privacy-policy\"\n                  target=\"_blank\"\n                  className=\"text-sky-600 underline hover:text-sky-700 font-semibold\"\n                >\n                  Privacy Policy\n                </Link>\n              </span>\n            </label>\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-300 rounded-lg\" style={{ marginTop: '16px', padding: '16px' }}>\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n\n          {/* Proceed Button */}\n          <button\n            onClick={handleProceed}\n            disabled={!tosAccepted || !privacyAccepted || (guestAllowed && !selectedOption)}\n            className=\"w-full bg-sky-500 hover:bg-sky-600 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors\"\n            style={{ marginTop: '24px', padding: '14px 24px', fontSize: '16px' }}\n          >\n            {accountRequired || selectedOption === 'account'\n              ? 'Create Account & Continue'\n              : 'Continue to Checkout'}\n          </button>\n        </div>\n\n        {/* Bottom Disclaimer */}\n        <div className=\"text-center text-sm text-slate-500\" style={{ marginTop: '24px' }}>\n          <p>\n            üîí Your information is secure and encrypted. We never share your data with third parties\n            without your consent.\n          </p>\n        </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\AmendmentForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":4,"column":39,"nodeType":null,"messageId":"unusedVar","endLine":4,"endColumn":43},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":79,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2567,2640],"text":"\n            We&apos;ll show your current information for reference\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2567,2640],"text":"\n            We&lsquo;ll show your current information for reference\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2567,2640],"text":"\n            We&#39;ll show your current information for reference\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2567,2640],"text":"\n            We&rsquo;ll show your current information for reference\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":90,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":93,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3354,3357],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3354,3357],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":60,"column":6,"nodeType":"ArrayExpression","endLine":60,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1988,1998],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FileEdit, Building2, MapPin, User, Calendar } from 'lucide-react';\n\ninterface AmendmentData {\n  // Amendment Type\n  amendmentType: 'NAME_CHANGE' | 'PRINCIPAL_ADDRESS_CHANGE' | 'MAILING_ADDRESS_CHANGE' | 'EMAIL_CHANGE' | 'EIN_CHANGE' | 'PURPOSE_CHANGE' | 'MANAGEMENT_CHANGE' | 'STOCK_CHANGE' | 'OTHER';\n\n  // Changes\n  newBusinessName?: string;\n  newPrincipalAddress?: string;\n  newMailingAddress?: string;\n  newEmailAddress?: string;\n  newEIN?: string;\n  newPurpose?: string;\n  newManagementStructure?: string;\n  newAuthorizedShares?: number;\n  otherChanges?: string;\n\n  // Effective Date\n  effectiveDate?: string;\n\n  // Reason for Amendment\n  reasonForAmendment: string;\n}\n\ninterface AmendmentFormProps {\n  initialData?: Partial<AmendmentData>;\n  onChange: (data: AmendmentData) => void;\n  preFilledBusinessName?: string;\n  preFilledEntityType?: 'LLC' | 'CORPORATION';\n}\n\nexport default function AmendmentForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n  preFilledEntityType = 'LLC',\n}: AmendmentFormProps) {\n  const [formData, setFormData] = useState<AmendmentData>({\n    amendmentType: initialData?.amendmentType || 'NAME_CHANGE',\n    newBusinessName: initialData?.newBusinessName || '',\n    newPrincipalAddress: initialData?.newPrincipalAddress || '',\n    newMailingAddress: initialData?.newMailingAddress || '',\n    newEmailAddress: initialData?.newEmailAddress || '',\n    newEIN: initialData?.newEIN || '',\n    newPurpose: initialData?.newPurpose || '',\n    newManagementStructure: initialData?.newManagementStructure || '',\n    newAuthorizedShares: initialData?.newAuthorizedShares || 0,\n    otherChanges: initialData?.otherChanges || '',\n    effectiveDate: initialData?.effectiveDate || '',\n    reasonForAmendment: initialData?.reasonForAmendment || '',\n  });\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  return (\n    <div>\n      {/* Pre-filled Business Name Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            padding: '20px',\n            marginBottom: '24px',\n            background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n            border: '2px solid #93c5fd',\n          }}\n        >\n          <p className=\"text-blue-800 font-medium text-sm\">\n            <strong>Amendment for:</strong> {preFilledBusinessName}\n          </p>\n          <p className=\"text-blue-700 text-xs mt-1\">\n            We'll show your current information for reference\n          </p>\n        </div>\n      )}\n\n      {/* Amendment Type */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileEdit className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">What Are You Changing?</h3>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Amendment Type *\n          </label>\n          <select\n            value={formData.amendmentType}\n            onChange={(e) => setFormData({ ...formData, amendmentType: e.target.value as any })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            required\n          >\n            <option value=\"NAME_CHANGE\">Business Name Change</option>\n            <option value=\"PRINCIPAL_ADDRESS_CHANGE\">Principal Address Change</option>\n            <option value=\"MAILING_ADDRESS_CHANGE\">Mailing Address Change</option>\n            <option value=\"EMAIL_CHANGE\">Email Address Change</option>\n            <option value=\"EIN_CHANGE\">EIN/Federal Tax ID Change</option>\n            <option value=\"PURPOSE_CHANGE\">Business Purpose Change</option>\n            {preFilledEntityType === 'LLC' && (\n              <option value=\"MANAGEMENT_CHANGE\">Management Structure Change</option>\n            )}\n            {preFilledEntityType === 'CORPORATION' && (\n              <option value=\"STOCK_CHANGE\">Stock/Shares Change</option>\n            )}\n            <option value=\"OTHER\">Other Amendment</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Name Change */}\n      {formData.amendmentType === 'NAME_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Business Name</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Legal Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newBusinessName}\n              onChange={(e) => setFormData({ ...formData, newBusinessName: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder={preFilledEntityType === 'LLC' ? 'New Name LLC' : 'New Name Inc.'}\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Must include {preFilledEntityType === 'LLC' ? 'LLC or L.L.C.' : 'Inc., Corp., or Corporation'}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Principal Address Change */}\n      {formData.amendmentType === 'PRINCIPAL_ADDRESS_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <MapPin className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Principal Address</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Principal Address *\n            </label>\n            <textarea\n              value={formData.newPrincipalAddress}\n              onChange={(e) => setFormData({ ...formData, newPrincipalAddress: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={2}\n              placeholder=\"Street Address&#10;City, State ZIP\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              This is the physical location where your business operates\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Mailing Address Change */}\n      {formData.amendmentType === 'MAILING_ADDRESS_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <MapPin className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Mailing Address</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Mailing Address *\n            </label>\n            <textarea\n              value={formData.newMailingAddress}\n              onChange={(e) => setFormData({ ...formData, newMailingAddress: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={2}\n              placeholder=\"Street Address&#10;City, State ZIP\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              This is where you receive official correspondence and legal notices\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Email Address Change */}\n      {formData.amendmentType === 'EMAIL_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <MapPin className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Email Address</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Email Address *\n            </label>\n            <input\n              type=\"email\"\n              value={formData.newEmailAddress}\n              onChange={(e) => setFormData({ ...formData, newEmailAddress: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"newemail@example.com\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              This is the official email address on file with the state\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* EIN Change */}\n      {formData.amendmentType === 'EIN_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New EIN/Federal Tax ID</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New EIN (Federal Employer Identification Number) *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newEIN}\n              onChange={(e) => setFormData({ ...formData, newEIN: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"XX-XXXXXXX\"\n              maxLength={10}\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Format: XX-XXXXXXX (9 digits with hyphen after 2nd digit)\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Other Changes */}\n      {(formData.amendmentType === 'PURPOSE_CHANGE' || \n        formData.amendmentType === 'MANAGEMENT_CHANGE' || \n        formData.amendmentType === 'STOCK_CHANGE' || \n        formData.amendmentType === 'OTHER') && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px', marginBottom: '32px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <FileEdit className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">Amendment Details</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Describe the Changes *\n            </label>\n            <textarea\n              value={formData.otherChanges}\n              onChange={(e) => setFormData({ ...formData, otherChanges: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={4}\n              placeholder=\"Provide detailed description of the changes you want to make...\"\n              required\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Effective Date & Reason */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Calendar className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Effective Date & Reason</h3>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Effective Date (optional)\n          </label>\n          <input\n            type=\"date\"\n            value={formData.effectiveDate}\n            onChange={(e) => setFormData({ ...formData, effectiveDate: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Leave blank to make effective immediately upon filing\n          </p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Reason for Amendment *\n          </label>\n          <textarea\n            value={formData.reasonForAmendment}\n            onChange={(e) => setFormData({ ...formData, reasonForAmendment: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            rows={3}\n            placeholder=\"Why are you making this amendment?\"\n            required\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\AnnualReportForm.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","line":100,"column":24,"nodeType":"Identifier","endLine":100,"endColumn":35},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":162,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4511,4622],"text":"\n                Review and update the information below. We&apos;ve pre-filled what we have on file.\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4511,4622],"text":"\n                Review and update the information below. We&lsquo;ve pre-filled what we have on file.\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4511,4622],"text":"\n                Review and update the information below. We&#39;ve pre-filled what we have on file.\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4511,4622],"text":"\n                Review and update the information below. We&rsquo;ve pre-filled what we have on file.\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-html-link-for-pages","severity":2,"message":"Do not use an `<a>` element to navigate to `/services/llc-formation/`. Use `<Link />` from `next/link` instead. See: https://nextjs.org/docs/messages/no-html-link-for-pages","line":198,"column":13,"nodeType":"JSXOpeningElement","endLine":201,"endColumn":14},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":202,"column":20,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6098,6182],"text":"\n              ‚Üí Don&apos;t have a Florida business yet? Form an LLC with us\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6098,6182],"text":"\n              ‚Üí Don&lsquo;t have a Florida business yet? Form an LLC with us\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6098,6182],"text":"\n              ‚Üí Don&#39;t have a Florida business yet? Form an LLC with us\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6098,6182],"text":"\n              ‚Üí Don&rsquo;t have a Florida business yet? Form an LLC with us\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleChange'. Either include it or remove the dependency array.","line":106,"column":6,"nodeType":"ArrayExpression","endLine":106,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, handleChange]","fix":{"range":[2747,2757],"text":"[formData, handleChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Building2, MapPin, Mail, User, Users, FileText } from 'lucide-react';\n\ninterface AnnualReportFormData {\n  // Business Information (REQUIRED)\n  documentNumber: string; // 6-12 digit number\n  entityName: string; // Official/legal name\n  fein?: string; // 9-digit FEIN (optional unless \"Applied For\" was previously marked)\n\n  // Principal Address (REQUIRED)\n  principalStreet: string;\n  principalCity: string;\n  principalState: string;\n  principalZip: string;\n\n  // Mailing Address (optional)\n  mailingIsDifferent: boolean;\n  mailingStreet?: string;\n  mailingCity?: string;\n  mailingState?: string;\n  mailingZip?: string;\n\n  // Registered Agent (REQUIRED)\n  registeredAgentName: string;\n  registeredAgentStreet: string; // Must be FL street address, no P.O. Box\n  registeredAgentCity: string;\n  registeredAgentState: string;\n  registeredAgentZip: string;\n  registeredAgentSignature: string; // Electronic signature\n\n  // Principals (Officers/Directors/Managers) - At least one required\n  principals: Array<{\n    title: string;\n    name: string;\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  }>;\n\n  // Certificate of Status (optional)\n  requestCertificate: boolean;\n  certificateEmail?: string;\n}\n\ninterface AnnualReportFormProps {\n  initialData?: Partial<AnnualReportFormData>;\n  onChange: (data: AnnualReportFormData) => void;\n  preFilledBusinessName?: string;\n  preFilledEntityType?: 'LLC' | 'CORPORATION';\n}\n\nconst defaultFormData: AnnualReportFormData = {\n  documentNumber: '',\n  entityName: '',\n  fein: '',\n  principalStreet: '',\n  principalCity: '',\n  principalState: 'FL',\n  principalZip: '',\n  mailingIsDifferent: false,\n  mailingStreet: '',\n  mailingCity: '',\n  mailingState: 'FL',\n  mailingZip: '',\n  registeredAgentName: '',\n  registeredAgentStreet: '',\n  registeredAgentCity: '',\n  registeredAgentState: 'FL',\n  registeredAgentZip: '',\n  registeredAgentSignature: '',\n  principals: [\n    {\n      title: '',\n      name: '',\n      street: '',\n      city: '',\n      state: 'FL',\n      zip: '',\n    },\n  ],\n  requestCertificate: false,\n  certificateEmail: '',\n};\n\nexport default function AnnualReportForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n  preFilledEntityType = 'LLC',\n}: AnnualReportFormProps) {\n  const [formData, setFormData] = useState<AnnualReportFormData>({\n    ...defaultFormData,\n    ...initialData,\n  });\n\n  // Memoize onChange to prevent infinite loops\n  const handleChange = useCallback(onChange, []);\n\n  // Notify parent of changes (but don't include onChange in dependencies)\n  useEffect(() => {\n    handleChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  const addPrincipal = () => {\n    setFormData({\n      ...formData,\n      principals: [\n        ...formData.principals,\n        {\n          title: '',\n          name: '',\n          street: '',\n          city: '',\n          state: 'FL',\n          zip: '',\n        },\n      ],\n    });\n  };\n\n  const removePrincipal = (index: number) => {\n    if (formData.principals.length > 1) {\n      setFormData({\n        ...formData,\n        principals: formData.principals.filter((_, i) => i !== index),\n      });\n    }\n  };\n\n  const updatePrincipal = (index: number, field: string, value: string) => {\n    const updatedPrincipals = [...formData.principals];\n    updatedPrincipals[index] = {\n      ...updatedPrincipals[index],\n      [field]: value,\n    };\n    setFormData({ ...formData, principals: updatedPrincipals });\n  };\n\n  // Title options based on entity type\n  const titleOptions = preFilledEntityType === 'LLC'\n    ? ['Manager', 'Member', 'Managing Member', 'President', 'Vice President', 'Secretary', 'Treasurer']\n    : ['President', 'Vice President', 'Secretary', 'Treasurer', 'Director', 'CEO', 'CFO', 'COO'];\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Pre-filled Business Info Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg border-2 border-blue-200 bg-blue-50\"\n          style={{ padding: '16px 20px' }}\n        >\n          <div className=\"flex items-start gap-3\">\n            <FileText className=\"w-5 h-5 text-blue-600 flex-shrink-0\" style={{ marginTop: '2px' }} />\n            <div>\n              <p className=\"font-semibold text-blue-900\">Annual Report for:</p>\n              <p className=\"text-blue-800 mt-1\">{preFilledBusinessName}</p>\n              <p className=\"text-sm text-blue-700 mt-2\">\n                Review and update the information below. We've pre-filled what we have on file.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Document Number - REQUIRED */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">\n            Document Number <span className=\"text-red-500\">*</span>\n          </h3>\n        </div>\n\n        {/* Helper Text */}\n        <div className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n          <p className=\"text-sm text-blue-900 mb-2\">\n            <strong>Need to find your Document Number?</strong>\n          </p>\n          <p className=\"text-sm text-blue-800 mb-3\">\n            Your Florida Document Number is a 6- or 12-digit number assigned when your business was formed.\n          </p>\n          <div className=\"flex flex-col gap-2\">\n            <a\n              href=\"http://search.sunbiz.org/Inquiry/CorporationSearch/ByName\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n            >\n              ‚Üí Search for your business on Sunbiz.org\n            </a>\n            <a\n              href=\"/services/llc-formation\"\n              className=\"text-sm text-purple-600 hover:text-purple-800 underline\"\n            >\n              ‚Üí Don't have a Florida business yet? Form an LLC with us\n            </a>\n          </div>\n        </div>\n\n        <input\n          type=\"text\"\n          placeholder=\"Enter 6- or 12-digit document number\"\n          value={formData.documentNumber}\n          onChange={(e) => {\n            const value = e.target.value.replace(/\\D/g, '').slice(0, 12);\n            setFormData({ ...formData, documentNumber: value });\n          }}\n          className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n          style={{ padding: '12px 16px' }}\n          maxLength={12}\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          The 6- or 12-digit number assigned when your business was filed with the Division of Corporations.\n        </p>\n      </div>\n\n      {/* Entity Name - REQUIRED */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">\n            Entity Name <span className=\"text-red-500\">*</span>\n          </h3>\n        </div>\n        <input\n          type=\"text\"\n          placeholder=\"Official/legal business name\"\n          value={formData.entityName}\n          onChange={(e) => setFormData({ ...formData, entityName: e.target.value })}\n          className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n          style={{ padding: '12px 16px' }}\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          The official/legal name of your business on our records. The annual report does not allow name changes.\n        </p>\n      </div>\n\n      {/* Federal EIN */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Federal Employer Identification Number (FEIN)</h3>\n        </div>\n        <input\n          type=\"text\"\n          placeholder=\"XX-XXXXXXX\"\n          value={formData.fein || ''}\n          onChange={(e) => {\n            // Allow only digits and format as XX-XXXXXXX\n            const digits = e.target.value.replace(/\\D/g, '').slice(0, 9);\n            let formatted = digits;\n            if (digits.length > 2) {\n              formatted = digits.slice(0, 2) + '-' + digits.slice(2);\n            }\n            setFormData({ ...formData, fein: formatted });\n          }}\n          className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n          style={{ padding: '12px 16px' }}\n          maxLength={10}\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Enter your 9-digit FEIN. Do not enter a Social Security Number.\n        </p>\n      </div>\n\n      {/* Principal Address */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <MapPin className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Principal Place of Business</h3>\n        </div>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Street Address\"\n            value={formData.principalStreet}\n            onChange={(e) => setFormData({ ...formData, principalStreet: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n            style={{ padding: '12px 16px', marginBottom: '16px' }}\n          />\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"City\"\n              value={formData.principalCity}\n              onChange={(e) => setFormData({ ...formData, principalCity: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"State\"\n              value={formData.principalState}\n              onChange={(e) => setFormData({ ...formData, principalState: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"ZIP Code\"\n              value={formData.principalZip}\n              onChange={(e) => {\n                const value = e.target.value.replace(/\\D/g, '').slice(0, 5);\n                setFormData({ ...formData, principalZip: value });\n              }}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n              maxLength={5}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Mailing Address */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Mail className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Mailing Address</h3>\n        </div>\n        <label className=\"flex items-center gap-2 mb-4 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={formData.mailingIsDifferent}\n            onChange={(e) => setFormData({ ...formData, mailingIsDifferent: e.target.checked })}\n            className=\"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n          />\n          <span className=\"text-gray-700\">Mailing address is different from principal address</span>\n        </label>\n\n        {formData.mailingIsDifferent && (\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Street Address or P.O. Box\"\n              value={formData.mailingStreet || ''}\n              onChange={(e) => setFormData({ ...formData, mailingStreet: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px', marginBottom: '16px' }}\n            />\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <input\n                type=\"text\"\n                placeholder=\"City\"\n                value={formData.mailingCity || ''}\n                onChange={(e) => setFormData({ ...formData, mailingCity: e.target.value })}\n                className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                style={{ padding: '12px 16px' }}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"State\"\n                value={formData.mailingState || ''}\n                onChange={(e) => setFormData({ ...formData, mailingState: e.target.value })}\n                className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                style={{ padding: '12px 16px' }}\n              />\n              <input\n                type=\"text\"\n                placeholder=\"ZIP Code\"\n                value={formData.mailingZip || ''}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/\\D/g, '').slice(0, 5);\n                  setFormData({ ...formData, mailingZip: value });\n                }}\n                className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                style={{ padding: '12px 16px' }}\n                maxLength={5}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Registered Agent */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Registered Agent</h3>\n        </div>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          The registered agent must have a physical street address in Florida (no P.O. Box).\n        </p>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Registered Agent Name\"\n            value={formData.registeredAgentName}\n            onChange={(e) => setFormData({ ...formData, registeredAgentName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n            style={{ padding: '12px 16px', marginBottom: '16px' }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Street Address (no P.O. Box)\"\n            value={formData.registeredAgentStreet}\n            onChange={(e) => setFormData({ ...formData, registeredAgentStreet: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n            style={{ padding: '12px 16px', marginBottom: '16px' }}\n          />\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\" style={{ marginBottom: '16px' }}>\n            <input\n              type=\"text\"\n              placeholder=\"City\"\n              value={formData.registeredAgentCity}\n              onChange={(e) => setFormData({ ...formData, registeredAgentCity: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"State\"\n              value={formData.registeredAgentState}\n              onChange={(e) => setFormData({ ...formData, registeredAgentState: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"ZIP Code\"\n              value={formData.registeredAgentZip}\n              onChange={(e) => {\n                const value = e.target.value.replace(/\\D/g, '').slice(0, 5);\n                setFormData({ ...formData, registeredAgentZip: value });\n              }}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n              maxLength={5}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Registered Agent Signature <span className=\"text-red-500\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              placeholder=\"Type your name to sign electronically\"\n              value={formData.registeredAgentSignature}\n              onChange={(e) => setFormData({ ...formData, registeredAgentSignature: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n              style={{ padding: '12px 16px' }}\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Electronic signatures have the same legal effect as original signatures per Florida Statute 15.16.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Principals */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">\n              {preFilledEntityType === 'LLC' ? 'Managers/Members' : 'Officers/Directors'}\n            </h3>\n          </div>\n          <button\n            type=\"button\"\n            onClick={addPrincipal}\n            className=\"text-purple-600 hover:text-purple-700 font-semibold text-sm\"\n          >\n            + Add Another\n          </button>\n        </div>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          You must provide at least one {preFilledEntityType === 'LLC' ? 'manager or member' : 'officer or director'}.\n        </p>\n\n        <div className=\"space-y-6\">\n          {formData.principals.map((principal, index) => (\n            <div\n              key={index}\n              className=\"rounded-lg border-2 border-gray-200 bg-white\"\n              style={{ padding: '20px' }}\n            >\n              <div className=\"flex items-center justify-between mb-4\">\n                <h4 className=\"font-semibold text-gray-900\">\n                  {preFilledEntityType === 'LLC' ? 'Manager/Member' : 'Officer/Director'} #{index + 1}\n                </h4>\n                {formData.principals.length > 1 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => removePrincipal(index)}\n                    className=\"text-red-600 hover:text-red-700 text-sm font-semibold\"\n                  >\n                    Remove\n                  </button>\n                )}\n              </div>\n\n              <div>\n                <div style={{ marginBottom: '16px' }}>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Title <span className=\"text-red-500\">*</span>\n                  </label>\n                  <select\n                    value={principal.title}\n                    onChange={(e) => updatePrincipal(index, 'title', e.target.value)}\n                    className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                    style={{ padding: '12px 16px' }}\n                  >\n                    <option value=\"\">Select Title</option>\n                    {titleOptions.map((title) => (\n                      <option key={title} value={title}>\n                        {title}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Full Name\"\n                  value={principal.name}\n                  onChange={(e) => updatePrincipal(index, 'name', e.target.value)}\n                  className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                  style={{ padding: '12px 16px', marginBottom: '16px' }}\n                />\n\n                <input\n                  type=\"text\"\n                  placeholder=\"Street Address\"\n                  value={principal.street}\n                  onChange={(e) => updatePrincipal(index, 'street', e.target.value)}\n                  className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                  style={{ padding: '12px 16px', marginBottom: '16px' }}\n                />\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"City\"\n                    value={principal.city}\n                    onChange={(e) => updatePrincipal(index, 'city', e.target.value)}\n                    className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                    style={{ padding: '12px 16px' }}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"State\"\n                    value={principal.state}\n                    onChange={(e) => updatePrincipal(index, 'state', e.target.value)}\n                    className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                    style={{ padding: '12px 16px' }}\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"ZIP Code\"\n                    value={principal.zip}\n                    onChange={(e) => {\n                      const value = e.target.value.replace(/\\D/g, '').slice(0, 5);\n                      updatePrincipal(index, 'zip', value);\n                    }}\n                    className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                    style={{ padding: '12px 16px' }}\n                    maxLength={5}\n                  />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Certificate of Status */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginTop: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Certificate of Status (Optional)</h3>\n        </div>\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-gray-50\"\n          style={{ padding: '16px 20px' }}\n        >\n          <label className=\"flex items-start gap-3 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={formData.requestCertificate}\n              onChange={(e) => setFormData({ ...formData, requestCertificate: e.target.checked })}\n              className=\"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n              style={{ marginTop: '2px' }}\n            />\n            <div className=\"flex-1\">\n              <span className=\"font-semibold text-gray-900\">\n                Request Certificate of Status (+${preFilledEntityType === 'LLC' ? '5.00' : '8.75'})\n              </span>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                Certifies your business is active and has paid all fees. Emailed to you as a PDF attachment.\n              </p>\n            </div>\n          </label>\n\n          {formData.requestCertificate && (\n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email Address for Certificate <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                placeholder=\"your@email.com\"\n                value={formData.certificateEmail || ''}\n                onChange={(e) => setFormData({ ...formData, certificateEmail: e.target.value })}\n                className=\"w-full border-2 border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500\"\n                style={{ padding: '12px 16px' }}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Validation function for Annual Report form\n * Returns an object with { isValid: boolean, errors: string[] }\n */\nexport function validateAnnualReportForm(formData: Partial<AnnualReportFormData>): {\n  isValid: boolean;\n  errors: string[];\n} {\n  const errors: string[] = [];\n\n  // Document Number - REQUIRED (6-12 digits)\n  if (!formData.documentNumber || formData.documentNumber.trim() === '') {\n    errors.push('Document Number is required');\n  } else if (!/^\\d{6,12}$/.test(formData.documentNumber.replace(/\\s/g, ''))) {\n    errors.push('Document Number must be 6-12 digits');\n  }\n\n  // Entity Name - REQUIRED\n  if (!formData.entityName || formData.entityName.trim() === '') {\n    errors.push('Entity Name is required');\n  }\n\n  // FEIN - Optional, but if provided must be 9 digits\n  if (formData.fein && formData.fein.trim() !== '') {\n    const feinDigits = formData.fein.replace(/\\D/g, '');\n    if (feinDigits.length !== 9) {\n      errors.push('FEIN must be 9 digits (format: XX-XXXXXXX)');\n    }\n  }\n\n  // Principal Address - REQUIRED\n  if (!formData.principalStreet || formData.principalStreet.trim() === '') {\n    errors.push('Principal Address Street is required');\n  }\n  if (!formData.principalCity || formData.principalCity.trim() === '') {\n    errors.push('Principal Address City is required');\n  }\n  if (!formData.principalState || formData.principalState.trim() === '') {\n    errors.push('Principal Address State is required');\n  }\n  if (!formData.principalZip || formData.principalZip.trim() === '') {\n    errors.push('Principal Address ZIP is required');\n  } else if (!/^\\d{5}$/.test(formData.principalZip.trim())) {\n    errors.push('Principal Address ZIP must be 5 digits');\n  }\n\n  // Mailing Address - Only validate if different from principal\n  if (formData.mailingIsDifferent) {\n    if (!formData.mailingStreet || formData.mailingStreet.trim() === '') {\n      errors.push('Mailing Address Street is required when different from principal address');\n    }\n    if (!formData.mailingCity || formData.mailingCity.trim() === '') {\n      errors.push('Mailing Address City is required when different from principal address');\n    }\n    if (!formData.mailingState || formData.mailingState.trim() === '') {\n      errors.push('Mailing Address State is required when different from principal address');\n    }\n    if (!formData.mailingZip || formData.mailingZip.trim() === '') {\n      errors.push('Mailing Address ZIP is required when different from principal address');\n    } else if (!/^\\d{5}$/.test(formData.mailingZip.trim())) {\n      errors.push('Mailing Address ZIP must be 5 digits');\n    }\n  }\n\n  // Registered Agent - REQUIRED\n  if (!formData.registeredAgentName || formData.registeredAgentName.trim() === '') {\n    errors.push('Registered Agent Name is required');\n  }\n  if (!formData.registeredAgentStreet || formData.registeredAgentStreet.trim() === '') {\n    errors.push('Registered Agent Street Address is required');\n  } else if (/p\\.?o\\.?\\s*box/i.test(formData.registeredAgentStreet)) {\n    errors.push('Registered Agent address cannot be a P.O. Box - must be a Florida street address');\n  }\n  if (!formData.registeredAgentCity || formData.registeredAgentCity.trim() === '') {\n    errors.push('Registered Agent City is required');\n  }\n  if (!formData.registeredAgentState || formData.registeredAgentState.trim() === '') {\n    errors.push('Registered Agent State is required');\n  } else if (formData.registeredAgentState !== 'FL') {\n    errors.push('Registered Agent must have a Florida address');\n  }\n  if (!formData.registeredAgentZip || formData.registeredAgentZip.trim() === '') {\n    errors.push('Registered Agent ZIP is required');\n  } else if (!/^\\d{5}$/.test(formData.registeredAgentZip.trim())) {\n    errors.push('Registered Agent ZIP must be 5 digits');\n  }\n  if (!formData.registeredAgentSignature || formData.registeredAgentSignature.trim() === '') {\n    errors.push('Registered Agent Signature is required');\n  }\n\n  // Principals - At least one required\n  if (!formData.principals || formData.principals.length === 0) {\n    errors.push('At least one Principal/Officer is required');\n  } else {\n    // Check if at least one principal has all required fields with valid ZIP\n    const validPrincipals = formData.principals.filter(\n      (p) =>\n        p.title?.trim() !== '' &&\n        p.name?.trim() !== '' &&\n        p.street?.trim() !== '' &&\n        p.city?.trim() !== '' &&\n        p.state?.trim() !== '' &&\n        p.zip?.trim() !== '' &&\n        /^\\d{5}$/.test(p.zip.trim())\n    );\n\n    if (validPrincipals.length === 0) {\n      errors.push('At least one Principal/Officer must have all fields completed (Title, Name, Address with valid 5-digit ZIP)');\n    }\n  }\n\n  // Certificate of Status - If requested, email is required\n  if (formData.requestCertificate) {\n    if (!formData.certificateEmail || formData.certificateEmail.trim() === '') {\n      errors.push('Email address is required when requesting Certificate of Status');\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.certificateEmail)) {\n      errors.push('Please enter a valid email address for Certificate of Status');\n    }\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\BusinessAmendmentForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":88,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":91,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3850,3853],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3850,3853],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":132,"column":67,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free &quot;Entity Information Update\" form instead.\n        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free &ldquo;Entity Information Update\" form instead.\n        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free &#34;Entity Information Update\" form instead.\n        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free &rdquo;Entity Information Update\" form instead.\n        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":132,"column":93,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free \"Entity Information Update&quot; form instead.\n        "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free \"Entity Information Update&ldquo; form instead.\n        "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free \"Entity Information Update&#34; form instead.\n        "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4585,4702],"text":"\n          Note: To update email, FEIN, or addresses, use the free \"Entity Information Update&rdquo; form instead.\n        "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":368,"column":66,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[14130,14205],"text":"Download and print the completed amendment form (we&apos;ll generate it for you)"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[14130,14205],"text":"Download and print the completed amendment form (we&lsquo;ll generate it for you)"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[14130,14205],"text":"Download and print the completed amendment form (we&#39;ll generate it for you)"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[14130,14205],"text":"Download and print the completed amendment form (we&rsquo;ll generate it for you)"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":370,"column":68,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14315,14356],"text":" payable to &quot;Florida Department of State\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14315,14356],"text":" payable to &ldquo;Florida Department of State\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14315,14356],"text":" payable to &#34;Florida Department of State\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14315,14356],"text":" payable to &rdquo;Florida Department of State\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":370,"column":96,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[14315,14356],"text":" payable to \"Florida Department of State&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[14315,14356],"text":" payable to \"Florida Department of State&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[14315,14356],"text":" payable to \"Florida Department of State&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[14315,14356],"text":" payable to \"Florida Department of State&rdquo;"},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FileEdit, Building2, AlertCircle } from 'lucide-react';\n\ninterface BusinessAmendmentData {\n  // Amendment Type\n  amendmentType: 'NAME_CHANGE' | 'PURPOSE_CHANGE' | 'MANAGEMENT_CHANGE' | 'STOCK_CHANGE' | 'OTHER';\n  \n  // Changes\n  newBusinessName?: string;\n  newPurpose?: string;\n  newManagementStructure?: string;\n  newAuthorizedShares?: number;\n  newParValue?: number;\n  otherChanges?: string;\n  \n  // Effective Date\n  effectiveDate?: string;\n  \n  // Reason for Amendment\n  reasonForAmendment: string;\n}\n\ninterface BusinessAmendmentFormProps {\n  initialData?: Partial<BusinessAmendmentData>;\n  onChange: (data: BusinessAmendmentData) => void;\n  preFilledBusinessName?: string;\n  preFilledEntityType?: 'LLC' | 'CORPORATION';\n}\n\nexport default function BusinessAmendmentForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n  preFilledEntityType = 'LLC',\n}: BusinessAmendmentFormProps) {\n  const [formData, setFormData] = useState<BusinessAmendmentData>({\n    amendmentType: initialData?.amendmentType || 'NAME_CHANGE',\n    newBusinessName: initialData?.newBusinessName || '',\n    newPurpose: initialData?.newPurpose || '',\n    newManagementStructure: initialData?.newManagementStructure || '',\n    newAuthorizedShares: initialData?.newAuthorizedShares || 0,\n    newParValue: initialData?.newParValue || 0,\n    otherChanges: initialData?.otherChanges || '',\n    effectiveDate: initialData?.effectiveDate || '',\n    reasonForAmendment: initialData?.reasonForAmendment || '',\n  });\n\n  useEffect(() => {\n    onChange(formData);\n  }, [formData, onChange]);\n\n  const filingFee = 25.00;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Filing Fee Notice */}\n      <div\n        className=\"rounded-lg border-2 border-yellow-300 shadow-sm\"\n        style={{\n          padding: '16px 20px',\n          background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n        }}\n      >\n        <div className=\"flex items-start gap-3\">\n          <AlertCircle className=\"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"text-sm font-bold text-yellow-900 mb-1\">\n              Filing Fee Required: ${filingFee.toFixed(2)}\n            </p>\n            <p className=\"text-xs text-yellow-800\">\n              Business amendments must be filed by mail with the Florida Department of State.\n              This cannot be done online.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Business Info Banner */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg border-2 border-blue-200 shadow-sm\"\n          style={{\n            padding: '16px 20px',\n            background: 'linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%)',\n          }}\n        >\n          <div className=\"flex items-start gap-3\">\n            <Building2 className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-sm font-medium text-blue-900\">\n                Filing amendment for: <span className=\"font-bold\">{preFilledBusinessName}</span>\n              </p>\n              <p className=\"text-xs text-blue-700 mt-1\">\n                Entity Type: {preFilledEntityType}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Amendment Type Selection */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileEdit className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">What Would You Like to Amend?</h3>\n        </div>\n\n        <select\n          value={formData.amendmentType}\n          onChange={(e) => setFormData({ ...formData, amendmentType: e.target.value as any })}\n          className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n          style={{ padding: '12px 16px' }}\n          required\n        >\n          <option value=\"NAME_CHANGE\">Business Name Change</option>\n          <option value=\"PURPOSE_CHANGE\">Business Purpose Change</option>\n          {preFilledEntityType === 'LLC' && (\n            <option value=\"MANAGEMENT_CHANGE\">Management Structure Change</option>\n          )}\n          {preFilledEntityType === 'CORPORATION' && (\n            <option value=\"STOCK_CHANGE\">Stock/Shares Change</option>\n          )}\n          <option value=\"OTHER\">Other Amendment</option>\n        </select>\n\n        <p className=\"text-xs text-gray-500 mt-2\">\n          Note: To update email, FEIN, or addresses, use the free \"Entity Information Update\" form instead.\n        </p>\n      </div>\n\n      {/* Name Change */}\n      {formData.amendmentType === 'NAME_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Business Name</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Business Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newBusinessName}\n              onChange={(e) => setFormData({ ...formData, newBusinessName: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"Enter new business name\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              {preFilledEntityType === 'LLC' \n                ? 'Must include \"LLC\" or \"Limited Liability Company\"'\n                : 'Must include \"Corporation\", \"Corp.\", \"Incorporated\", or \"Inc.\"'}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Purpose Change */}\n      {formData.amendmentType === 'PURPOSE_CHANGE' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <FileEdit className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Business Purpose</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Business Purpose *\n            </label>\n            <textarea\n              value={formData.newPurpose}\n              onChange={(e) => setFormData({ ...formData, newPurpose: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={4}\n              placeholder=\"Describe the new business purpose...\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Clearly describe what your business will do\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Management Structure Change (LLC only) */}\n      {formData.amendmentType === 'MANAGEMENT_CHANGE' && preFilledEntityType === 'LLC' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">New Management Structure</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Management Structure *\n            </label>\n            <select\n              value={formData.newManagementStructure}\n              onChange={(e) => setFormData({ ...formData, newManagementStructure: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              required\n            >\n              <option value=\"\">Select management structure...</option>\n              <option value=\"MEMBER_MANAGED\">Member-Managed</option>\n              <option value=\"MANAGER_MANAGED\">Manager-Managed</option>\n            </select>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Member-managed: All members participate in management<br />\n              Manager-managed: Designated managers handle day-to-day operations\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Stock/Shares Change (Corporation only) */}\n      {formData.amendmentType === 'STOCK_CHANGE' && preFilledEntityType === 'CORPORATION' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">Stock/Shares Information</h3>\n          </div>\n\n          <div style={{ marginBottom: '16px' }}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Number of Authorized Shares *\n            </label>\n            <input\n              type=\"number\"\n              value={formData.newAuthorizedShares}\n              onChange={(e) => setFormData({ ...formData, newAuthorizedShares: parseInt(e.target.value) || 0 })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              min=\"1\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Par Value per Share (Optional)\n            </label>\n            <input\n              type=\"number\"\n              value={formData.newParValue}\n              onChange={(e) => setFormData({ ...formData, newParValue: parseFloat(e.target.value) || 0 })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              step=\"0.01\"\n              min=\"0\"\n              placeholder=\"0.00\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Leave as 0 for no par value stock\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Other Changes */}\n      {formData.amendmentType === 'OTHER' && (\n        <div\n          className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n          style={{ padding: '24px' }}\n        >\n          <div className=\"flex items-center gap-2 mb-4\">\n            <FileEdit className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">Other Amendment Details</h3>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Describe the Amendment *\n            </label>\n            <textarea\n              value={formData.otherChanges}\n              onChange={(e) => setFormData({ ...formData, otherChanges: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={5}\n              placeholder=\"Provide detailed description of the changes you want to make...\"\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Be as specific as possible about what you want to amend\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Effective Date */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Effective Date</h3>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Effective Date (Optional)\n          </label>\n          <input\n            type=\"date\"\n            value={formData.effectiveDate}\n            onChange={(e) => setFormData({ ...formData, effectiveDate: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Leave blank for immediate effect upon filing\n          </p>\n        </div>\n      </div>\n\n      {/* Reason for Amendment */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Reason for Amendment *\n        </label>\n        <textarea\n          value={formData.reasonForAmendment}\n          onChange={(e) => setFormData({ ...formData, reasonForAmendment: e.target.value })}\n          className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n          style={{ padding: '12px 16px' }}\n          rows={3}\n          placeholder=\"Briefly explain why you're making this amendment...\"\n          required\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          This helps us process your request more efficiently\n        </p>\n      </div>\n\n      {/* Mailing Instructions */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200\"\n        style={{\n          padding: '20px',\n          background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)',\n        }}\n      >\n        <h4 className=\"text-sm font-bold text-gray-900 mb-3\">üìã Mailing Instructions</h4>\n        <ol className=\"text-xs text-gray-700 space-y-2 ml-4 list-decimal\">\n          <li>Download and print the completed amendment form (we'll generate it for you)</li>\n          <li>Sign the form where indicated</li>\n          <li>Write a check for ${filingFee.toFixed(2)} payable to \"Florida Department of State\"</li>\n          <li>Mail both to:\n            <div className=\"ml-4 mt-2 font-mono text-xs bg-white p-3 rounded border border-gray-300\">\n              Division of Corporations<br />\n              P.O. Box 6327<br />\n              Tallahassee, FL 32314\n            </div>\n          </li>\n          <li>Allow 7-10 business days for processing</li>\n        </ol>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\CertificateOfStatusForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":172,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":172,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6236,6239],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6236,6239],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":194,"column":93,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":194,"endColumn":96,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7171,7174],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7171,7174],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":44,"column":6,"nodeType":"ArrayExpression","endLine":44,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1236,1246],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FileText, Building2, Hash } from 'lucide-react';\n\ninterface CertificateOfStatusData {\n  // Purpose\n  purpose: string;\n  recipientName: string;\n  \n  // Number of copies\n  numberOfCopies: number;\n  \n  // Delivery preference\n  deliveryMethod: 'EMAIL' | 'MAIL';\n  deliveryEmail?: string;\n  deliveryAddress?: string;\n}\n\ninterface CertificateOfStatusFormProps {\n  initialData?: Partial<CertificateOfStatusData>;\n  onChange: (data: CertificateOfStatusData) => void;\n  preFilledBusinessName?: string;\n}\n\nexport default function CertificateOfStatusForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n}: CertificateOfStatusFormProps) {\n  const [formData, setFormData] = useState<CertificateOfStatusData>({\n    purpose: initialData?.purpose || '',\n    recipientName: initialData?.recipientName || '',\n    numberOfCopies: initialData?.numberOfCopies || 1,\n    deliveryMethod: initialData?.deliveryMethod || 'EMAIL',\n    deliveryEmail: initialData?.deliveryEmail || '',\n    deliveryAddress: initialData?.deliveryAddress || '',\n  });\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  return (\n    <div>\n      {/* Pre-filled Business Name Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            padding: '20px',\n            marginBottom: '24px',\n            background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n            border: '2px solid #93c5fd',\n          }}\n        >\n          <p className=\"text-blue-800 font-medium text-sm\">\n            <strong>Certificate of Status for:</strong> {preFilledBusinessName}\n          </p>\n          <p className=\"text-blue-700 text-xs mt-1\">\n            This certificate confirms your business is in good standing with the state\n          </p>\n        </div>\n      )}\n\n      {/* Purpose */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Certificate Purpose</h3>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Purpose of Certificate *\n          </label>\n          <select\n            value={formData.purpose}\n            onChange={(e) => setFormData({ ...formData, purpose: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            required\n          >\n            <option value=\"\">Select purpose...</option>\n            <option value=\"BANK_ACCOUNT\">Opening bank account</option>\n            <option value=\"LOAN_APPLICATION\">Loan application</option>\n            <option value=\"CONTRACT\">Contract requirement</option>\n            <option value=\"LICENSING\">Business licensing</option>\n            <option value=\"LEGAL_PROCEEDING\">Legal proceeding</option>\n            <option value=\"OTHER\">Other</option>\n          </select>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Recipient Name/Institution *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.recipientName}\n            onChange={(e) => setFormData({ ...formData, recipientName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"e.g., First National Bank, ABC Law Firm\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Who will receive this certificate?\n          </p>\n        </div>\n      </div>\n\n      {/* Number of Copies */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Hash className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Number of Copies</h3>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Certified Copies Needed *\n          </label>\n          <input\n            type=\"number\"\n            value={formData.numberOfCopies}\n            onChange={(e) => setFormData({ ...formData, numberOfCopies: parseInt(e.target.value) || 1 })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            min=\"1\"\n            max=\"10\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Each certified copy costs $5. Most customers need 1-2 copies.\n          </p>\n        </div>\n      </div>\n\n      {/* Delivery Method */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Delivery Method</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-3\" style={{ marginBottom: '20px' }}>\n          <label\n            className={`rounded-lg border-2 cursor-pointer transition-all ${\n              formData.deliveryMethod === 'EMAIL'\n                ? 'border-purple-500 bg-purple-50'\n                : 'border-gray-300 bg-white hover:border-purple-300'\n            }`}\n            style={{ padding: '16px 20px' }}\n          >\n            <input\n              type=\"radio\"\n              name=\"deliveryMethod\"\n              value=\"EMAIL\"\n              checked={formData.deliveryMethod === 'EMAIL'}\n              onChange={(e) => setFormData({ ...formData, deliveryMethod: e.target.value as any })}\n              className=\"mr-3\"\n            />\n            <span className=\"font-semibold text-gray-900\">Email Delivery (Recommended)</span>\n            <p className=\"text-sm text-gray-600 ml-6\" style={{ marginTop: '4px' }}>\n              Fastest delivery - receive PDF within 1-2 business days\n            </p>\n          </label>\n\n          <label\n            className={`rounded-lg border-2 cursor-pointer transition-all ${\n              formData.deliveryMethod === 'MAIL'\n                ? 'border-purple-500 bg-purple-50'\n                : 'border-gray-300 bg-white hover:border-purple-300'\n            }`}\n            style={{ padding: '16px 20px' }}\n          >\n            <input\n              type=\"radio\"\n              name=\"deliveryMethod\"\n              value=\"MAIL\"\n              checked={formData.deliveryMethod === 'MAIL'}\n              onChange={(e) => setFormData({ ...formData, deliveryMethod: e.target.value as any })}\n              className=\"mr-3\"\n            />\n            <span className=\"font-semibold text-gray-900\">Mail Delivery</span>\n            <p className=\"text-sm text-gray-600 ml-6\" style={{ marginTop: '4px' }}>\n              Physical certified copy - 5-7 business days\n            </p>\n          </label>\n        </div>\n\n        {formData.deliveryMethod === 'EMAIL' && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email Address *\n            </label>\n            <input\n              type=\"email\"\n              value={formData.deliveryEmail}\n              onChange={(e) => setFormData({ ...formData, deliveryEmail: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"your@email.com\"\n              required\n            />\n          </div>\n        )}\n\n        {formData.deliveryMethod === 'MAIL' && (\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Mailing Address *\n            </label>\n            <textarea\n              value={formData.deliveryAddress}\n              onChange={(e) => setFormData({ ...formData, deliveryAddress: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={3}\n              placeholder=\"Street Address&#10;City, State ZIP\"\n              required\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\CorporateBylawsForm.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":111,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3140,3229],"text":"\n            We&apos;ve pre-filled some information from your corporation formation\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3140,3229],"text":"\n            We&lsquo;ve pre-filled some information from your corporation formation\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3140,3229],"text":"\n            We&#39;ve pre-filled some information from your corporation formation\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3140,3229],"text":"\n            We&rsquo;ve pre-filled some information from your corporation formation\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1623,1633],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Users, Building2, Calendar, FileText } from 'lucide-react';\n\ninterface Director {\n  name: string;\n  address: string;\n}\n\ninterface Officer {\n  title: string;\n  name: string;\n}\n\ninterface CorporateBylawsData {\n  // Directors\n  directors: Director[];\n  \n  // Officers\n  officers: Officer[];\n  \n  // Stock Information\n  authorizedShares: number;\n  parValue: number;\n  \n  // Meeting Requirements\n  annualMeetingMonth: string;\n  quorumPercentage: number;\n  \n  // Fiscal Year\n  fiscalYearEnd: string; // MM/DD format\n}\n\ninterface CorporateBylawsFormProps {\n  initialData?: Partial<CorporateBylawsData>;\n  onChange: (data: CorporateBylawsData) => void;\n  preFilledBusinessName?: string;\n}\n\nexport default function CorporateBylawsForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n}: CorporateBylawsFormProps) {\n  const [formData, setFormData] = useState<CorporateBylawsData>({\n    directors: initialData?.directors || [{ name: '', address: '' }],\n    officers: initialData?.officers || [\n      { title: 'President', name: '' },\n      { title: 'Secretary', name: '' },\n      { title: 'Treasurer', name: '' },\n    ],\n    authorizedShares: initialData?.authorizedShares || 1000,\n    parValue: initialData?.parValue || 0.01,\n    annualMeetingMonth: initialData?.annualMeetingMonth || 'January',\n    quorumPercentage: initialData?.quorumPercentage || 50,\n    fiscalYearEnd: initialData?.fiscalYearEnd || '12/31',\n  });\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  const addDirector = () => {\n    setFormData({\n      ...formData,\n      directors: [...formData.directors, { name: '', address: '' }],\n    });\n  };\n\n  const removeDirector = (index: number) => {\n    if (formData.directors.length > 1) {\n      setFormData({\n        ...formData,\n        directors: formData.directors.filter((_, i) => i !== index),\n      });\n    }\n  };\n\n  const updateDirector = (index: number, field: keyof Director, value: string) => {\n    const updatedDirectors = [...formData.directors];\n    updatedDirectors[index] = { ...updatedDirectors[index], [field]: value };\n    setFormData({ ...formData, directors: updatedDirectors });\n  };\n\n  const updateOfficer = (index: number, field: keyof Officer, value: string) => {\n    const updatedOfficers = [...formData.officers];\n    updatedOfficers[index] = { ...updatedOfficers[index], [field]: value };\n    setFormData({ ...formData, officers: updatedOfficers });\n  };\n\n  return (\n    <div>\n      {/* Pre-filled Business Name Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            padding: '20px',\n            marginBottom: '24px',\n            background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n            border: '2px solid #93c5fd',\n          }}\n        >\n          <p className=\"text-blue-800 font-medium text-sm\">\n            <strong>Corporate Bylaws for:</strong> {preFilledBusinessName}\n          </p>\n          <p className=\"text-blue-700 text-xs mt-1\">\n            We've pre-filled some information from your corporation formation\n          </p>\n        </div>\n      )}\n\n      {/* Directors */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">Board of Directors</h3>\n          </div>\n          <button\n            type=\"button\"\n            onClick={addDirector}\n            className=\"text-purple-600 hover:text-purple-700 font-semibold text-sm\"\n          >\n            + Add Director\n          </button>\n        </div>\n\n        {formData.directors.map((director, index) => (\n          <div\n            key={index}\n            className=\"rounded-lg border-2 border-gray-200 bg-gray-50\"\n            style={{ padding: '20px', marginBottom: '16px' }}\n          >\n            <div className=\"flex items-center justify-between mb-4\">\n              <h4 className=\"font-semibold text-gray-900\">Director {index + 1}</h4>\n              {formData.directors.length > 1 && (\n                <button\n                  type=\"button\"\n                  onClick={() => removeDirector(index)}\n                  className=\"text-red-600 hover:text-red-700 text-sm\"\n                >\n                  Remove\n                </button>\n              )}\n            </div>\n\n            <div style={{ marginBottom: '16px' }}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Full Name *\n              </label>\n              <input\n                type=\"text\"\n                value={director.name}\n                onChange={(e) => updateDirector(index, 'name', e.target.value)}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Address *\n              </label>\n              <input\n                type=\"text\"\n                value={director.address}\n                onChange={(e) => updateDirector(index, 'address', e.target.value)}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"Street, City, State ZIP\"\n                required\n              />\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Officers */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Corporate Officers</h3>\n        </div>\n\n        {formData.officers.map((officer, index) => (\n          <div key={index} style={{ marginBottom: '16px' }}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              {officer.title} *\n            </label>\n            <input\n              type=\"text\"\n              value={officer.name}\n              onChange={(e) => updateOfficer(index, 'name', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder={`Name of ${officer.title}`}\n              required\n            />\n          </div>\n        ))}\n      </div>\n\n      {/* Stock Information */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Stock Information</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Authorized Shares *\n            </label>\n            <input\n              type=\"number\"\n              value={formData.authorizedShares}\n              onChange={(e) => setFormData({ ...formData, authorizedShares: parseInt(e.target.value) || 0 })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              min=\"1\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Par Value per Share *\n            </label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              value={formData.parValue}\n              onChange={(e) => setFormData({ ...formData, parValue: parseFloat(e.target.value) || 0 })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              min=\"0\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Meeting & Fiscal Year */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Calendar className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Meeting & Fiscal Year</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Annual Meeting Month *\n            </label>\n            <select\n              value={formData.annualMeetingMonth}\n              onChange={(e) => setFormData({ ...formData, annualMeetingMonth: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n            >\n              {['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'].map(month => (\n                <option key={month} value={month}>{month}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Quorum Percentage *\n            </label>\n            <input\n              type=\"number\"\n              value={formData.quorumPercentage}\n              onChange={(e) => setFormData({ ...formData, quorumPercentage: parseInt(e.target.value) || 0 })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              min=\"1\"\n              max=\"100\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Fiscal Year End *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.fiscalYearEnd}\n              onChange={(e) => setFormData({ ...formData, fiscalYearEnd: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"MM/DD (e.g., 12/31)\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\DissolutionForm.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":54,"column":6,"nodeType":"ArrayExpression","endLine":54,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1595,1605],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\EINApplicationForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'reasonForApplyingOpen' is assigned a value but never used.","line":58,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setReasonForApplyingOpen' is assigned a value but never used.","line":58,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":58,"endColumn":57},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2492,2495],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2492,2495],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":138,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[5546,5627],"text":"\n            We&apos;ve pre-filled business information from your formation\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[5546,5627],"text":"\n            We&lsquo;ve pre-filled business information from your formation\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[5546,5627],"text":"\n            We&#39;ve pre-filled business information from your formation\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[5546,5627],"text":"\n            We&rsquo;ve pre-filled business information from your formation\n          "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":64,"column":6,"nodeType":"ArrayExpression","endLine":64,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[2414,2424],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { User, Calendar, Briefcase, DollarSign, FileText, ChevronDown, ChevronUp } from 'lucide-react';\n\ninterface EINApplicationData {\n  // Responsible Party Information\n  responsiblePartyName: string;\n  responsiblePartySSN: string;\n  responsiblePartyTitle: string;\n  \n  // Business Information\n  businessStartDate: string;\n  numberOfEmployees: number;\n  \n  // Tax Classification (filtered based on entity type)\n  taxClassification: 'LLC_SINGLE' | 'LLC_PARTNERSHIP' | 'LLC_SCORP' | 'LLC_CCORP' | 'CORPORATION' | 'PARTNERSHIP' | 'SOLE_PROPRIETOR';\n  \n  // Reason for Applying\n  reasonForApplying: 'STARTED_NEW_BUSINESS' | 'HIRED_EMPLOYEES' | 'BANKING_PURPOSES' | 'CHANGED_ORGANIZATION' | 'PURCHASED_BUSINESS' | 'CREATED_TRUST' | 'OTHER';\n  otherReason?: string;\n  \n  // Additional Information\n  firstDateWagesPaid?: string;\n  principalActivity: string;\n  specificProductOrService: string;\n}\n\ninterface EINApplicationFormProps {\n  initialData?: Partial<EINApplicationData>;\n  onChange: (data: EINApplicationData) => void;\n  preFilledBusinessName?: string;\n  preFilledEntityType?: string;\n}\n\nexport default function EINApplicationForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n  preFilledEntityType,\n}: EINApplicationFormProps) {\n  const [formData, setFormData] = useState<EINApplicationData>({\n    responsiblePartyName: initialData?.responsiblePartyName || '',\n    responsiblePartySSN: initialData?.responsiblePartySSN || '',\n    responsiblePartyTitle: initialData?.responsiblePartyTitle || 'Owner',\n    businessStartDate: initialData?.businessStartDate || '',\n    numberOfEmployees: initialData?.numberOfEmployees || 0,\n    taxClassification: initialData?.taxClassification || 'LLC_SINGLE',\n    reasonForApplying: initialData?.reasonForApplying || 'STARTED_NEW_BUSINESS',\n    otherReason: initialData?.otherReason || '',\n    firstDateWagesPaid: initialData?.firstDateWagesPaid || '',\n    principalActivity: initialData?.principalActivity || '',\n    specificProductOrService: initialData?.specificProductOrService || '',\n  });\n\n  // Accordion state\n  const [taxClassificationOpen, setTaxClassificationOpen] = useState(false);\n  const [reasonForApplyingOpen, setReasonForApplyingOpen] = useState(false);\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  const handleChange = (field: keyof EINApplicationData, value: any) => {\n    setFormData({ ...formData, [field]: value });\n  };\n\n  // Get valid tax classification options based on entity type\n  const getTaxClassificationOptions = () => {\n    // For LLCs, only show LLC-specific options per IRS guidelines\n    if (preFilledEntityType === 'LLC') {\n      return [\n        { value: 'LLC_SINGLE', label: 'Single-Member LLC (Disregarded Entity)', desc: 'Default: Taxed as sole proprietor' },\n        { value: 'LLC_PARTNERSHIP', label: 'Multi-Member LLC (Partnership)', desc: 'Default: Taxed as partnership' },\n        { value: 'LLC_SCORP', label: 'LLC Electing S-Corporation', desc: 'Must file Form 2553 with IRS' },\n        { value: 'LLC_CCORP', label: 'LLC Electing C-Corporation', desc: 'Must file Form 8832 with IRS' },\n      ];\n    }\n\n    // For Corporations\n    if (preFilledEntityType === 'CORPORATION') {\n      return [\n        { value: 'CORPORATION', label: 'C-Corporation', desc: 'Standard corporation taxation' },\n        { value: 'SCORP', label: 'S-Corporation', desc: 'Must file Form 2553 with IRS' },\n      ];\n    }\n\n    // For Partnerships\n    if (preFilledEntityType === 'PARTNERSHIP') {\n      return [\n        { value: 'PARTNERSHIP', label: 'Partnership', desc: 'General or limited partnership' },\n      ];\n    }\n\n    // For Sole Proprietorships\n    if (preFilledEntityType === 'SOLE_PROPRIETOR') {\n      return [\n        { value: 'SOLE_PROPRIETOR', label: 'Sole Proprietorship', desc: 'Individual business owner' },\n      ];\n    }\n\n    // Default: show all options (shouldn't happen in normal flow)\n    return [\n      { value: 'LLC_SINGLE', label: 'Single-Member LLC (Disregarded Entity)', desc: 'Default: Taxed as sole proprietor' },\n      { value: 'LLC_PARTNERSHIP', label: 'Multi-Member LLC (Partnership)', desc: 'Default: Taxed as partnership' },\n      { value: 'LLC_SCORP', label: 'LLC Electing S-Corporation', desc: 'Must file Form 2553 with IRS' },\n      { value: 'LLC_CCORP', label: 'LLC Electing C-Corporation', desc: 'Must file Form 8832 with IRS' },\n      { value: 'CORPORATION', label: 'C-Corporation', desc: 'Standard corporation taxation' },\n      { value: 'PARTNERSHIP', label: 'Partnership', desc: 'General or limited partnership' },\n      { value: 'SOLE_PROPRIETOR', label: 'Sole Proprietorship', desc: 'Individual business owner' },\n    ];\n  };\n\n  return (\n    <div>\n      {/* Pre-filled Business Info Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            padding: '20px',\n            marginBottom: '24px',\n            background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n            border: '2px solid #93c5fd',\n          }}\n        >\n          <p className=\"text-blue-800 font-medium text-sm\">\n            <strong>EIN Application for:</strong> {preFilledBusinessName}\n          </p>\n          {preFilledEntityType && (\n            <p className=\"text-blue-700 text-xs mt-1\">\n              Entity Type: {preFilledEntityType}\n            </p>\n          )}\n          <p className=\"text-blue-700 text-xs mt-1\">\n            We've pre-filled business information from your formation\n          </p>\n        </div>\n      )}\n\n      {/* Responsible Party Information */}\n      <div style={{ marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Responsible Party Information</h3>\n        </div>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          The responsible party is the individual who controls, manages, or directs the entity and the disposition of its funds and assets.\n        </p>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Responsible Party Name */}\n          <div className=\"md:col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Full Legal Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.responsiblePartyName}\n              onChange={(e) => handleChange('responsiblePartyName', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"John Doe\"\n              required\n            />\n          </div>\n\n          {/* SSN/ITIN */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Social Security Number (SSN) or ITIN *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.responsiblePartySSN}\n              onChange={(e) => handleChange('responsiblePartySSN', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"XXX-XX-XXXX\"\n              maxLength={11}\n              required\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">Required by IRS for EIN application</p>\n          </div>\n\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Title/Position *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.responsiblePartyTitle}\n              onChange={(e) => handleChange('responsiblePartyTitle', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"Owner, President, Managing Member, etc.\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Business Start Date & Employees */}\n      <div style={{ marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Calendar className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Business Timeline</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Business Start Date */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Business Start Date *\n            </label>\n            <input\n              type=\"date\"\n              value={formData.businessStartDate}\n              onChange={(e) => handleChange('businessStartDate', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              required\n            />\n          </div>\n\n          {/* Number of Employees */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Expected Number of Employees (Next 12 Months)\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              value={formData.numberOfEmployees}\n              onChange={(e) => handleChange('numberOfEmployees', parseInt(e.target.value) || 0)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"0\"\n            />\n          </div>\n\n          {/* First Date Wages Paid (if employees > 0) */}\n          {formData.numberOfEmployees > 0 && (\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                First Date Wages Will Be Paid\n              </label>\n              <input\n                type=\"date\"\n                value={formData.firstDateWagesPaid}\n                onChange={(e) => handleChange('firstDateWagesPaid', e.target.value)}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Tax Classification - Accordion */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <button\n          type=\"button\"\n          onClick={() => setTaxClassificationOpen(!taxClassificationOpen)}\n          className=\"w-full flex items-center justify-between text-left\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <DollarSign className=\"w-5 h-5 text-purple-600\" />\n            <h3 className=\"text-lg font-bold text-gray-900\">Tax Classification</h3>\n          </div>\n          {taxClassificationOpen ? (\n            <ChevronUp className=\"w-5 h-5 text-gray-600\" />\n          ) : (\n            <ChevronDown className=\"w-5 h-5 text-gray-600\" />\n          )}\n        </button>\n\n        {taxClassificationOpen && (\n          <div style={{ marginTop: '20px' }}>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              Select how your business will be taxed by the IRS.\n            </p>\n\n            <div className=\"grid grid-cols-1 gap-3\">\n              {getTaxClassificationOptions().map((option) => (\n                <label\n                  key={option.value}\n                  className={`rounded-lg border-2 cursor-pointer transition-all ${\n                    formData.taxClassification === option.value\n                      ? 'border-purple-500 bg-purple-50'\n                      : 'border-gray-300 bg-white hover:border-purple-300'\n                  }`}\n                  style={{ padding: '16px 20px' }}\n                >\n                  <input\n                    type=\"radio\"\n                    name=\"taxClassification\"\n                    value={option.value}\n                    checked={formData.taxClassification === option.value}\n                    onChange={(e) => handleChange('taxClassification', e.target.value)}\n                    className=\"mr-3\"\n                  />\n                  <span className=\"font-semibold text-gray-900\">{option.label}</span>\n                  <p className=\"text-sm text-gray-600 ml-6\" style={{ marginTop: '4px' }}>{option.desc}</p>\n                </label>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Reason for Applying */}\n      <div style={{ marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Reason for Applying</h3>\n        </div>\n\n        <select\n          value={formData.reasonForApplying}\n          onChange={(e) => handleChange('reasonForApplying', e.target.value)}\n          className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n          style={{ padding: '12px 16px' }}\n        >\n          <option value=\"STARTED_NEW_BUSINESS\">Started new business</option>\n          <option value=\"HIRED_EMPLOYEES\">Hired employees</option>\n          <option value=\"BANKING_PURPOSES\">Banking purposes</option>\n          <option value=\"CHANGED_ORGANIZATION\">Changed type of organization</option>\n          <option value=\"PURCHASED_BUSINESS\">Purchased going business</option>\n          <option value=\"CREATED_TRUST\">Created a trust</option>\n          <option value=\"OTHER\">Other (specify below)</option>\n        </select>\n\n        {formData.reasonForApplying === 'OTHER' && (\n          <textarea\n            value={formData.otherReason}\n            onChange={(e) => handleChange('otherReason', e.target.value)}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            rows={2}\n            placeholder=\"Please specify your reason for applying...\"\n            style={{ marginTop: '12px', padding: '12px 16px' }}\n          />\n        )}\n      </div>\n\n      {/* Principal Business Activity */}\n      <div style={{ marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Briefcase className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Business Activity</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-4\">\n          {/* Principal Activity */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Principal Business Activity *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.principalActivity}\n              onChange={(e) => handleChange('principalActivity', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"e.g., Retail, Consulting, Real Estate, etc.\"\n              required\n            />\n          </div>\n\n          {/* Specific Product/Service */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Specific Product or Service *\n            </label>\n            <textarea\n              value={formData.specificProductOrService}\n              onChange={(e) => handleChange('specificProductOrService', e.target.value)}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              rows={3}\n              placeholder=\"Describe what your business does or sells...\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Privacy Notice */}\n      <div\n        className=\"rounded-lg\"\n        style={{\n          marginTop: '32px',\n          padding: '20px',\n          background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n          border: '2px solid #fbbf24',\n        }}\n      >\n        <p className=\"text-yellow-900 text-sm\">\n          <strong>Privacy Notice:</strong> Your SSN/ITIN is required by the IRS for EIN applications.\n          This information is encrypted and securely transmitted directly to the IRS. We do not store\n          your SSN/ITIN after submission.\n        </p>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\EntityInformationUpdateForm.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":109,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3956,4098],"text":"\n          Select one or more items below to update your entity&apos;s information with the Florida Department of State.\n          This service is "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3956,4098],"text":"\n          Select one or more items below to update your entity&lsquo;s information with the Florida Department of State.\n          This service is "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3956,4098],"text":"\n          Select one or more items below to update your entity&#39;s information with the Florida Department of State.\n          This service is "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3956,4098],"text":"\n          Select one or more items below to update your entity&rsquo;s information with the Florida Department of State.\n          This service is "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":113,"column":70,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[4250,4386],"text":"\n          Note: To change your registered agent or business name, you&apos;ll need to use a different form (additional fees apply).\n        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[4250,4386],"text":"\n          Note: To change your registered agent or business name, you&lsquo;ll need to use a different form (additional fees apply).\n        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[4250,4386],"text":"\n          Note: To change your registered agent or business name, you&#39;ll need to use a different form (additional fees apply).\n        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[4250,4386],"text":"\n          Note: To change your registered agent or business name, you&rsquo;ll need to use a different form (additional fees apply).\n        "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Mail, Building2, MapPin, ChevronDown, ChevronUp, AlertCircle } from 'lucide-react';\n\ninterface EntityUpdateData {\n  // Multi-select checkboxes for what to update\n  updateEmail: boolean;\n  updateFEIN: boolean;\n  updatePrincipalAddress: boolean;\n  updateMailingAddress: boolean;\n  \n  // Field values\n  newEmailAddress?: string;\n  newFEIN?: string;\n  newPrincipalStreet?: string;\n  newPrincipalCity?: string;\n  newPrincipalState?: string;\n  newPrincipalZip?: string;\n  newMailingStreet?: string;\n  newMailingCity?: string;\n  newMailingState?: string;\n  newMailingZip?: string;\n  \n  reasonForUpdate: string;\n}\n\ninterface EntityInformationUpdateFormProps {\n  initialData?: Partial<EntityUpdateData>;\n  onChange: (data: EntityUpdateData) => void;\n  preFilledBusinessName?: string;\n}\n\nexport default function EntityInformationUpdateForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n}: EntityInformationUpdateFormProps) {\n  const [formData, setFormData] = useState<EntityUpdateData>({\n    updateEmail: initialData?.updateEmail || false,\n    updateFEIN: initialData?.updateFEIN || false,\n    updatePrincipalAddress: initialData?.updatePrincipalAddress || false,\n    updateMailingAddress: initialData?.updateMailingAddress || false,\n    newEmailAddress: initialData?.newEmailAddress || '',\n    newFEIN: initialData?.newFEIN || '',\n    newPrincipalStreet: initialData?.newPrincipalStreet || '',\n    newPrincipalCity: initialData?.newPrincipalCity || '',\n    newPrincipalState: initialData?.newPrincipalState || 'FL',\n    newPrincipalZip: initialData?.newPrincipalZip || '',\n    newMailingStreet: initialData?.newMailingStreet || '',\n    newMailingCity: initialData?.newMailingCity || '',\n    newMailingState: initialData?.newMailingState || 'FL',\n    newMailingZip: initialData?.newMailingZip || '',\n    reasonForUpdate: initialData?.reasonForUpdate || '',\n  });\n\n  // Accordion states\n  const [emailOpen, setEmailOpen] = useState(false);\n  const [feinOpen, setFeinOpen] = useState(false);\n  const [principalOpen, setPrincipalOpen] = useState(false);\n  const [mailingOpen, setMailingOpen] = useState(false);\n\n  useEffect(() => {\n    onChange(formData);\n  }, [formData, onChange]);\n\n  const handleCheckboxChange = (field: keyof EntityUpdateData, value: boolean) => {\n    setFormData({ ...formData, [field]: value });\n    \n    // Auto-open accordion when checkbox is checked\n    if (field === 'updateEmail' && value) setEmailOpen(true);\n    if (field === 'updateFEIN' && value) setFeinOpen(true);\n    if (field === 'updatePrincipalAddress' && value) setPrincipalOpen(true);\n    if (field === 'updateMailingAddress' && value) setMailingOpen(true);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Info Banner */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg border-2 border-blue-200 shadow-sm\"\n          style={{\n            padding: '16px 20px',\n            background: 'linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%)',\n          }}\n        >\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-sm font-medium text-blue-900\">\n                Updating information for: <span className=\"font-bold\">{preFilledBusinessName}</span>\n              </p>\n              <p className=\"text-xs text-blue-700 mt-1\">\n                This form is FREE and updates are processed immediately. Select which information you want to update below.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Instructions */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <h3 className=\"text-lg font-bold text-gray-900 mb-3\">What Would You Like to Update?</h3>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          Select one or more items below to update your entity's information with the Florida Department of State.\n          This service is <span className=\"font-bold text-green-600\">FREE</span> and updates are processed immediately.\n        </p>\n        <p className=\"text-xs text-gray-500\">\n          Note: To change your registered agent or business name, you'll need to use a different form (additional fees apply).\n        </p>\n      </div>\n\n      {/* Email Address Update */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-3 mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"updateEmail\"\n            checked={formData.updateEmail}\n            onChange={(e) => handleCheckboxChange('updateEmail', e.target.checked)}\n            className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n          />\n          <label htmlFor=\"updateEmail\" className=\"flex items-center gap-2 cursor-pointer flex-1\">\n            <Mail className=\"w-5 h-5 text-purple-600\" />\n            <span className=\"text-base font-semibold text-gray-900\">Update Email Address</span>\n          </label>\n          {formData.updateEmail && (\n            <button\n              type=\"button\"\n              onClick={() => setEmailOpen(!emailOpen)}\n              className=\"text-purple-600 hover:text-purple-700\"\n            >\n              {emailOpen ? <ChevronUp className=\"w-5 h-5\" /> : <ChevronDown className=\"w-5 h-5\" />}\n            </button>\n          )}\n        </div>\n\n        {formData.updateEmail && emailOpen && (\n          <div style={{ marginTop: '16px', paddingTop: '16px', borderTop: '1px solid #e5e7eb' }}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New Email Address *\n            </label>\n            <input\n              type=\"email\"\n              value={formData.newEmailAddress}\n              onChange={(e) => setFormData({ ...formData, newEmailAddress: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"your.email@example.com\"\n              required={formData.updateEmail}\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              This is the official email address on file with the state\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* FEIN Update */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-3 mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"updateFEIN\"\n            checked={formData.updateFEIN}\n            onChange={(e) => handleCheckboxChange('updateFEIN', e.target.checked)}\n            className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n          />\n          <label htmlFor=\"updateFEIN\" className=\"flex items-center gap-2 cursor-pointer flex-1\">\n            <Building2 className=\"w-5 h-5 text-purple-600\" />\n            <span className=\"text-base font-semibold text-gray-900\">Add or Update Federal Employer Identification Number (FEIN)</span>\n          </label>\n          {formData.updateFEIN && (\n            <button\n              type=\"button\"\n              onClick={() => setFeinOpen(!feinOpen)}\n              className=\"text-purple-600 hover:text-purple-700\"\n            >\n              {feinOpen ? <ChevronUp className=\"w-5 h-5\" /> : <ChevronDown className=\"w-5 h-5\" />}\n            </button>\n          )}\n        </div>\n\n        {formData.updateFEIN && feinOpen && (\n          <div style={{ marginTop: '16px', paddingTop: '16px', borderTop: '1px solid #e5e7eb' }}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              New FEIN *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newFEIN}\n              onChange={(e) => {\n                const value = e.target.value.replace(/[^0-9-]/g, '');\n                if (value.length <= 10) {\n                  setFormData({ ...formData, newFEIN: value });\n                }\n              }}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"XX-XXXXXXX\"\n              maxLength={10}\n              required={formData.updateFEIN}\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Format: XX-XXXXXXX (e.g., 12-3456789)\n            </p>\n          </div>\n        )}\n      </div>\n\n      {/* Principal Address Update */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-3 mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"updatePrincipalAddress\"\n            checked={formData.updatePrincipalAddress}\n            onChange={(e) => handleCheckboxChange('updatePrincipalAddress', e.target.checked)}\n            className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n          />\n          <label htmlFor=\"updatePrincipalAddress\" className=\"flex items-center gap-2 cursor-pointer flex-1\">\n            <MapPin className=\"w-5 h-5 text-purple-600\" />\n            <span className=\"text-base font-semibold text-gray-900\">Update Principal Office Address</span>\n          </label>\n          {formData.updatePrincipalAddress && (\n            <button\n              type=\"button\"\n              onClick={() => setPrincipalOpen(!principalOpen)}\n              className=\"text-purple-600 hover:text-purple-700\"\n            >\n              {principalOpen ? <ChevronUp className=\"w-5 h-5\" /> : <ChevronDown className=\"w-5 h-5\" />}\n            </button>\n          )}\n        </div>\n\n        {formData.updatePrincipalAddress && principalOpen && (\n          <div style={{ marginTop: '16px', paddingTop: '16px', borderTop: '1px solid #e5e7eb' }}>\n            <p className=\"text-xs text-gray-500 mb-3\">\n              This is the physical location where your business operates (P.O. Box NOT acceptable)\n            </p>\n            \n            <div style={{ marginBottom: '16px' }}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Street Address *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.newPrincipalStreet}\n                onChange={(e) => setFormData({ ...formData, newPrincipalStreet: e.target.value })}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"123 Main Street\"\n                required={formData.updatePrincipalAddress}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  City *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.newPrincipalCity}\n                  onChange={(e) => setFormData({ ...formData, newPrincipalCity: e.target.value })}\n                  className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                  style={{ padding: '12px 16px' }}\n                  placeholder=\"Miami\"\n                  required={formData.updatePrincipalAddress}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  State *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.newPrincipalState}\n                  onChange={(e) => setFormData({ ...formData, newPrincipalState: e.target.value })}\n                  className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                  style={{ padding: '12px 16px' }}\n                  placeholder=\"FL\"\n                  maxLength={2}\n                  required={formData.updatePrincipalAddress}\n                />\n              </div>\n            </div>\n\n            <div style={{ marginTop: '16px' }}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Zip Code *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.newPrincipalZip}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/[^0-9]/g, '');\n                  if (value.length <= 5) {\n                    setFormData({ ...formData, newPrincipalZip: value });\n                  }\n                }}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"33101\"\n                maxLength={5}\n                required={formData.updatePrincipalAddress}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Mailing Address Update */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-3 mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"updateMailingAddress\"\n            checked={formData.updateMailingAddress}\n            onChange={(e) => handleCheckboxChange('updateMailingAddress', e.target.checked)}\n            className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500\"\n          />\n          <label htmlFor=\"updateMailingAddress\" className=\"flex items-center gap-2 cursor-pointer flex-1\">\n            <MapPin className=\"w-5 h-5 text-purple-600\" />\n            <span className=\"text-base font-semibold text-gray-900\">Update Mailing Address</span>\n          </label>\n          {formData.updateMailingAddress && (\n            <button\n              type=\"button\"\n              onClick={() => setMailingOpen(!mailingOpen)}\n              className=\"text-purple-600 hover:text-purple-700\"\n            >\n              {mailingOpen ? <ChevronUp className=\"w-5 h-5\" /> : <ChevronDown className=\"w-5 h-5\" />}\n            </button>\n          )}\n        </div>\n\n        {formData.updateMailingAddress && mailingOpen && (\n          <div style={{ marginTop: '16px', paddingTop: '16px', borderTop: '1px solid #e5e7eb' }}>\n            <p className=\"text-xs text-gray-500 mb-3\">\n              This is where you receive official correspondence and legal notices (P.O. Box IS acceptable)\n            </p>\n\n            <div style={{ marginBottom: '16px' }}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Street Address or P.O. Box *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.newMailingStreet}\n                onChange={(e) => setFormData({ ...formData, newMailingStreet: e.target.value })}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"P.O. Box 123 or 123 Main Street\"\n                required={formData.updateMailingAddress}\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  City *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.newMailingCity}\n                  onChange={(e) => setFormData({ ...formData, newMailingCity: e.target.value })}\n                  className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                  style={{ padding: '12px 16px' }}\n                  placeholder=\"Miami\"\n                  required={formData.updateMailingAddress}\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  State *\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.newMailingState}\n                  onChange={(e) => setFormData({ ...formData, newMailingState: e.target.value })}\n                  className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                  style={{ padding: '12px 16px' }}\n                  placeholder=\"FL\"\n                  maxLength={2}\n                  required={formData.updateMailingAddress}\n                />\n              </div>\n            </div>\n\n            <div style={{ marginTop: '16px' }}>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Zip Code *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.newMailingZip}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/[^0-9]/g, '');\n                  if (value.length <= 5) {\n                    setFormData({ ...formData, newMailingZip: value });\n                  }\n                }}\n                className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                style={{ padding: '12px 16px' }}\n                placeholder=\"33101\"\n                maxLength={5}\n                required={formData.updateMailingAddress}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Reason for Update */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Reason for Update (Optional)\n        </label>\n        <textarea\n          value={formData.reasonForUpdate}\n          onChange={(e) => setFormData({ ...formData, reasonForUpdate: e.target.value })}\n          className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n          style={{ padding: '12px 16px' }}\n          rows={3}\n          placeholder=\"Briefly explain why you're updating this information...\"\n        />\n        <p className=\"text-xs text-gray-500 mt-1\">\n          This helps us process your request more efficiently\n        </p>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\FormWizard.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":248,"column":19,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[8471,8523],"text":"\n                We&apos;ll fix any errors\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[8471,8523],"text":"\n                We&lsquo;ll fix any errors\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[8471,8523],"text":"\n                We&#39;ll fix any errors\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[8471,8523],"text":"\n                We&rsquo;ll fix any errors\n              "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { ReactNode } from 'react';\nimport { ChevronLeft, ChevronRight, Check, Shield, Clock, Info, AlertCircle } from 'lucide-react';\nimport { cn } from '@/components/legalops/theme';\nimport { LiquidGlassIcon } from '@/components/legalops/icons/LiquidGlassIcon';\n\n/**\n * FormWizard - Reusable Multi-Step Form Component\n * \n * Follows LegalOps design guidelines from:\n * - DESIGN_BRIEF_FOR_CHATGPT.md\n * - DESIGN_BRIEF_TECHNICAL_DETAILS.md\n * - docs/legalops-ui-guide.md\n * \n * Design Principles:\n * - Sky blue primary (#0ea5e9)\n * - 24px spacing system\n * - Dashboard card patterns\n * - Visible input borders\n * - Progress indicators\n * - Trust signals\n * - Inline validation\n */\n\nexport interface WizardStep {\n  id: number;\n  name: string;\n  description: string;\n}\n\nexport interface FormWizardProps {\n  steps: WizardStep[];\n  currentStep: number;\n  onNext: () => void;\n  onBack: () => void;\n  onSubmit: () => void;\n  loading?: boolean;\n  error?: string | null;\n  submitButtonText?: string;\n  children: ReactNode;\n  showTrustSignals?: boolean;\n  estimatedTime?: string;\n}\n\nexport const FormWizard = ({\n  steps,\n  currentStep,\n  onNext,\n  onBack,\n  onSubmit,\n  loading = false,\n  error = null,\n  submitButtonText = 'Submit & Continue to Checkout',\n  children,\n  showTrustSignals = true,\n  estimatedTime = '5-10 Minutes',\n}: FormWizardProps) => {\n  // Helper function for liquid glass step numbers\n  const renderStepNumber = (number: number, isActive: boolean) => (\n    <div \n      className={cn(\n        'w-12 h-12 rounded-full flex items-center justify-center font-semibold relative overflow-hidden',\n        isActive ? 'text-white' : 'text-slate-600'\n      )}\n      style={{\n        background: isActive \n          ? 'linear-gradient(135deg, #38bdf8 0%, #0284c7 100%)'\n          : 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',\n        boxShadow: isActive\n          ? '0 6px 16px -2px rgba(14, 165, 233, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.4)'\n          : '0 4px 12px rgba(0, 0, 0, 0.1), inset 0 2px 4px rgba(255, 255, 255, 0.7)',\n        border: '1px solid rgba(255, 255, 255, 0.4)'\n      }}\n    >\n      {/* Glass highlight effect */}\n      <div \n        className=\"absolute inset-0\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 50%)',\n          transform: 'translateY(-20%)',\n        }}\n      />\n      <span className=\"relative\" style={{ \n        textShadow: '0 2px 3px rgba(0,0,0,0.2)',\n        fontSize: '16px'\n      }}>\n        {number}\n      </span>\n    </div>\n  );\n  const progress = (currentStep / steps.length) * 100;\n  const isLastStep = currentStep === steps.length;\n\n  return (\n    <div className=\"w-full\">\n      {/* Progress Percentage Indicator */}\n      <div style={{\n        textAlign: 'center',\n        marginBottom: '16px',\n      }}>\n        <div style={{\n          display: 'inline-block',\n          padding: '8px 16px',\n          background: 'linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%)',\n          border: '1px solid #BFDBFE',\n          borderRadius: '20px',\n        }}>\n          <span style={{\n            fontSize: '14px',\n            fontWeight: '600',\n            color: '#0369A1',\n          }}>\n            {Math.round(progress)}% Complete\n          </span>\n        </div>\n      </div>\n\n      {/* Progress Bar - Dashboard Style with Enhanced Visual Hierarchy */}\n      <div\n        className=\"mb-8 bg-white rounded-xl\"\n        style={{\n          border: '1px solid #e2e8f0',\n          borderLeft: '4px solid #0ea5e9',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n          padding: '20px 24px',\n        }}\n      >\n        <div className=\"mb-4\">\n          <h3 className=\"font-semibold text-slate-900\" style={{ fontSize: '18px', marginBottom: '6px' }}>\n            Step {currentStep} of {steps.length}\n          </h3>\n          <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5' }}>\n            {steps[currentStep - 1].name} - {steps[currentStep - 1].description}\n          </p>\n        </div>\n\n        {/* Progress bar - Enhanced Dashboard style */}\n        <div className=\"w-full h-3 bg-slate-100 rounded-full overflow-hidden\" style={{ boxShadow: 'inset 0 2px 4px rgba(0, 0, 0, 0.06)' }}>\n          <div\n            className=\"h-full bg-gradient-to-r from-sky-500 to-sky-600 transition-all duration-500 ease-out\"\n            style={{\n              width: `${progress}%`,\n              boxShadow: '0 2px 8px rgba(14, 165, 233, 0.3)',\n            }}\n          />\n        </div>\n\n        {/* Step indicators - Enhanced Dashboard card pattern */}\n        <div className=\"flex justify-between mt-8 gap-2\">\n          {steps.map((step) => (\n            <div key={step.id} className=\"flex flex-col items-center flex-1\">\n              {currentStep > step.id ? (\n                <div\n                  className=\"w-12 h-12 rounded-full flex items-center justify-center font-semibold transition-all duration-300 text-white relative overflow-hidden\"\n                  style={{\n                    fontSize: '16px',\n                    background: 'linear-gradient(135deg, #38bdf8 0%, #0284c7 100%)',\n                    boxShadow: '0 6px 16px -2px rgba(14, 165, 233, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.4)',\n                    border: '1px solid rgba(255, 255, 255, 0.4)',\n                  }}\n                >\n                  {/* Glass highlight effect */}\n                  <div\n                    className=\"absolute inset-0 rounded-full\"\n                    style={{\n                      background: 'linear-gradient(135deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 50%)',\n                      transform: 'translateY(-20%)',\n                    }}\n                  />\n                  <Check className=\"w-5 h-5 relative\" style={{\n                    filter: 'drop-shadow(0 2px 3px rgba(0,0,0,0.2))'\n                  }} />\n                </div>\n              ) : (\n                renderStepNumber(step.id, currentStep === step.id)\n              )}\n              <span className={cn(\n                \"mt-3 text-center hidden sm:block\",\n                currentStep >= step.id ? \"text-slate-900 font-semibold\" : \"text-slate-500\"\n              )}\n              style={{ fontSize: '14px' }}\n              >\n                {step.name}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Social Proof Banner */}\n      {showTrustSignals && (\n        <div style={{\n          textAlign: 'center',\n          marginBottom: '24px',\n          padding: '12px 24px',\n          background: 'linear-gradient(135deg, #F0FDF4 0%, #DCFCE7 100%)',\n          border: '1px solid #86EFAC',\n          borderRadius: '12px',\n        }}>\n          <p style={{\n            fontSize: '14px',\n            color: '#166534',\n            margin: 0,\n            fontWeight: '500',\n          }}>\n            ‚úì Join <strong>1,200+ Florida businesses</strong> who successfully filed their DBA with LegalOps\n          </p>\n        </div>\n      )}\n\n      {/* Trust Signals - Liquid Glass Style */}\n      {showTrustSignals && (\n        <div\n          className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12 bg-white rounded-xl\"\n          style={{\n            border: '1px solid #e2e8f0',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n            padding: '32px',\n          }}\n        >\n          <div className=\"flex items-center gap-4\">\n            <LiquidGlassIcon\n              icon={Shield}\n              category=\"info\"\n              size=\"lg\"\n            />\n            <div>\n              <p className=\"font-semibold text-slate-900\" style={{ fontSize: '16px', marginBottom: '4px', lineHeight: '1.5' }}>\n                100% Secure\n              </p>\n              <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5' }}>\n                Bank-level encryption\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <LiquidGlassIcon\n              icon={Check}\n              category=\"success\"\n              size=\"lg\"\n            />\n            <div>\n              <p className=\"font-semibold text-slate-900\" style={{ fontSize: '16px', marginBottom: '4px', lineHeight: '1.5' }}>\n                Accuracy Guaranteed\n              </p>\n              <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5' }}>\n                We'll fix any errors\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <LiquidGlassIcon\n              icon={Clock}\n              category=\"warning\"\n              size=\"lg\"\n            />\n            <div>\n              <p className=\"font-semibold text-slate-900\" style={{ fontSize: '16px', marginBottom: '4px', lineHeight: '1.5' }}>\n                {estimatedTime}\n              </p>\n              <p className=\"text-slate-600\" style={{ fontSize: '14px', lineHeight: '1.5' }}>\n                Average completion time\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Error Message - Enhanced design */}\n      {error && (\n        <div\n          className=\"mb-8 bg-red-50 text-red-700 rounded-xl flex items-start gap-4\"\n          style={{\n            border: '1px solid #fecaca',\n            borderLeft: '4px solid #ef4444',\n            padding: '24px',\n          }}\n        >\n          <span className=\"text-2xl\">‚ö†Ô∏è</span>\n          <span style={{ fontSize: '16px', lineHeight: '1.6' }}>{error}</span>\n        </div>\n      )}\n\n      {/* Form Content - Enhanced Dashboard card pattern */}\n      <div\n        className=\"bg-white rounded-xl\"\n        style={{\n          border: '1px solid #e2e8f0',\n          borderLeft: '4px solid #0ea5e9',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05), 0 10px 20px rgba(0, 0, 0, 0.05)',\n        }}\n      >\n        {/* Content area with generous padding */}\n        <div style={{ padding: '48px' }}>\n          {children}\n        </div>\n\n        {/* Navigation Buttons - Enhanced button styling with breathing room */}\n        <div\n          className=\"flex gap-6 bg-slate-50\"\n          style={{\n            borderTop: '1px solid #e2e8f0',\n            padding: '32px 48px',\n          }}\n        >\n          {currentStep > 1 && (\n            <button\n              type=\"button\"\n              onClick={onBack}\n              className=\"flex items-center gap-3 text-slate-700 rounded-lg font-semibold transition-all duration-200 relative overflow-hidden\"\n              style={{\n                fontSize: '16px',\n                padding: '16px 32px',\n                background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1), inset 0 2px 4px rgba(255, 255, 255, 0.7)',\n                border: '1px solid rgba(255, 255, 255, 0.7)'\n              }}\n            >\n              {/* Glass highlight effect */}\n              <div \n                className=\"absolute inset-0\"\n                style={{\n                  background: 'linear-gradient(135deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 50%)',\n                  transform: 'translateY(-30%)',\n                }}\n              />\n              <ChevronLeft className=\"w-5 h-5 relative\" style={{ filter: 'drop-shadow(0 1px 2px rgba(0,0,0,0.1))' }} />\n              <span className=\"relative\">Back</span>\n            </button>\n          )}\n\n          {!isLastStep && (\n            <button\n              type=\"button\"\n              onClick={onNext}\n              className=\"flex-1 flex items-center justify-center gap-3 text-white rounded-lg font-semibold transition-all duration-200 relative overflow-hidden\"\n              style={{\n                fontSize: '16px',\n                padding: '16px 32px',\n                background: 'linear-gradient(135deg, #38bdf8 0%, #0284c7 100%)',\n                boxShadow: '0 6px 16px -2px rgba(14, 165, 233, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.4)',\n                border: '1px solid rgba(255, 255, 255, 0.4)'\n              }}\n            >\n              {/* Glass highlight effect */}\n              <div \n                className=\"absolute inset-0\"\n                style={{\n                  background: 'linear-gradient(135deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0) 50%)',\n                  transform: 'translateY(-30%)',\n                }}\n              />\n              <span className=\"relative\">Continue</span>\n              <ChevronRight className=\"w-5 h-5 relative\" style={{ filter: 'drop-shadow(0 1px 2px rgba(0,0,0,0.1))' }} />\n            </button>\n          )}\n\n          {isLastStep && (\n            <button\n              type=\"button\"\n              onClick={onSubmit}\n              disabled={loading}\n              className=\"flex-1 bg-emerald-600 text-white rounded-lg font-semibold hover:bg-emerald-700 transition-all duration-200 disabled:opacity-50 shadow-md hover:shadow-lg\"\n              style={{\n                fontSize: '16px',\n                padding: '16px 32px',\n              }}\n            >\n              {loading ? 'Processing...' : submitButtonText}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * FormInput - Standardized input following design guidelines\n * \n * Design specs:\n * - Visible border: border-gray-300\n * - Proper padding: px-4 py-4 (16px)\n * - Clear focus state: focus:ring-2 focus:ring-sky-500\n * - Smooth transitions\n */\nexport interface FormInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n  error?: string;\n  tooltip?: string;\n}\n\nexport function FormInput({ label, error, tooltip, required, className, ...props }: FormInputProps) {\n  return (\n    <div className=\"mb-6\">\n      <label className=\"block text-base font-medium text-gray-900 mb-3 flex items-center gap-2\">\n        {label} {required && <span className=\"text-red-500\">*</span>}\n        {tooltip && (\n          <div className=\"group relative\">\n            <div className=\"cursor-help\">\n              <Info className=\"w-4 h-4 text-slate-400\" />\n            </div>\n            <div className=\"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-4 bg-slate-900 text-white text-sm rounded-lg shadow-lg z-10\">\n              {tooltip}\n            </div>\n          </div>\n        )}\n      </label>\n      <input\n        className={cn(\n          \"w-full border-2 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-base transition-all\",\n          error ? \"border-red-500\" : \"border-gray-300\",\n          className\n        )}\n        style={{ paddingLeft: '16px', paddingRight: '16px', paddingTop: '16px', paddingBottom: '16px' }}\n        {...props}\n      />\n      {error && (\n        <p className=\"mt-3 text-sm text-red-600 flex items-center gap-2\">\n          <AlertCircle className=\"w-4 h-4\" />\n          {error}\n        </p>\n      )}\n    </div>\n  );\n}\n\n/**\n * FormTextArea - Standardized textarea following design guidelines\n */\nexport interface FormTextAreaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label: string;\n  error?: string;\n  tooltip?: string;\n}\n\nexport function FormTextArea({ label, error, tooltip, required, className, ...props }: FormTextAreaProps) {\n  return (\n    <div className=\"mb-6\">\n      <label className=\"block text-base font-medium text-gray-900 mb-3 flex items-center gap-2\">\n        {label} {required && <span className=\"text-red-500\">*</span>}\n        {tooltip && (\n          <div className=\"group relative\">\n            <div className=\"cursor-help\">\n              <Info className=\"w-4 h-4 text-slate-400\" />\n            </div>\n            <div className=\"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-4 bg-slate-900 text-white text-sm rounded-lg shadow-lg z-10\">\n              {tooltip}\n            </div>\n          </div>\n        )}\n      </label>\n      <textarea\n        className={cn(\n          \"w-full border-2 rounded-lg bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-base transition-all resize-none\",\n          error ? \"border-red-500\" : \"border-gray-300\",\n          className\n        )}\n        style={{ paddingLeft: '16px', paddingRight: '16px', paddingTop: '16px', paddingBottom: '16px' }}\n        {...props}\n      />\n      {error && (\n        <p className=\"mt-3 text-sm text-red-600 flex items-center gap-2\">\n          <AlertCircle className=\"w-4 h-4\" />\n          {error}\n        </p>\n      )}\n    </div>\n  );\n}\n\n/**\n * FormSection - Section header following design guidelines\n *\n * Design specs:\n * - H2: 24px semibold (matching dashboard)\n * - Muted description\n * - Proper spacing (mb-8)\n * - Left border accent for visual hierarchy\n */\nexport interface FormSectionProps {\n  title: string;\n  description?: string;\n  children: ReactNode;\n}\n\nexport function FormSection({ title, description, children }: FormSectionProps) {\n  return (\n    <div className=\"space-y-10\">\n      <div\n        className=\"pb-8\"\n        style={{\n          borderBottom: '2px solid #e2e8f0',\n          marginBottom: '32px',\n        }}\n      >\n        <h2 className=\"font-semibold text-slate-900\" style={{ fontSize: '24px', marginBottom: '12px', lineHeight: '1.4' }}>\n          {title}\n        </h2>\n        {description && (\n          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6' }}>\n            {description}\n          </p>\n        )}\n      </div>\n      <div className=\"space-y-10\">\n        {children}\n      </div>\n    </div>\n  );\n}\n\n/**\n * FormSelect - Standardized select dropdown following design guidelines\n */\nexport interface FormSelectProps extends React.SelectHTMLAttributes<HTMLSelectElement> {\n  label: string;\n  error?: string;\n  tooltip?: string;\n}\n\nexport function FormSelect({ label, error, tooltip, required, className, children, ...props }: FormSelectProps) {\n  return (\n    <div className=\"mb-6\">\n      <label className=\"block text-base font-medium text-gray-900 mb-3 flex items-center gap-2\">\n        {label} {required && <span className=\"text-red-500\">*</span>}\n        {tooltip && (\n          <div className=\"group relative\">\n            <div className=\"cursor-help\">\n              <Info className=\"w-4 h-4 text-slate-400\" />\n            </div>\n            <div className=\"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-4 bg-slate-900 text-white text-sm rounded-lg shadow-lg z-10\">\n              {tooltip}\n            </div>\n          </div>\n        )}\n      </label>\n      <select\n        className={cn(\n          \"w-full border-2 rounded-lg bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-base transition-all\",\n          error ? \"border-red-500\" : \"border-gray-300\",\n          className\n        )}\n        style={{ paddingLeft: '16px', paddingRight: '16px', paddingTop: '16px', paddingBottom: '16px' }}\n        {...props}\n      >\n        {children}\n      </select>\n      {error && (\n        <p className=\"mt-3 text-sm text-red-600 flex items-center gap-2\">\n          <AlertCircle className=\"w-4 h-4\" />\n          {error}\n        </p>\n      )}\n    </div>\n  );\n}\n\n/**\n * FormCheckbox - Standardized checkbox following design guidelines\n */\nexport interface FormCheckboxProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label: string;\n  error?: string;\n}\n\nexport function FormCheckbox({ label, error, className, ...props }: FormCheckboxProps) {\n  return (\n    <div className=\"mb-6\">\n      <label className=\"flex items-start gap-3 cursor-pointer\">\n        <input\n          type=\"checkbox\"\n          className={cn(\n            \"mt-1 w-5 h-5 border-2 rounded text-sky-600 focus:ring-2 focus:ring-sky-500 transition-all\",\n            error ? \"border-red-500\" : \"border-gray-300\",\n            className\n          )}\n          {...props}\n        />\n        <span className=\"text-base text-gray-900 select-none\">\n          {label}\n        </span>\n      </label>\n      {error && (\n        <p className=\"mt-3 text-sm text-red-600 flex items-center gap-2 ml-8\">\n          <AlertCircle className=\"w-4 h-4\" />\n          {error}\n        </p>\n      )}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\NameReservationForm.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":85,"column":13,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2591,2754],"text":"\n          Provide up to 3 name choices in order of preference. If your first choice is unavailable, \n          we&apos;ll check your second and third choices.\n        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2591,2754],"text":"\n          Provide up to 3 name choices in order of preference. If your first choice is unavailable, \n          we&lsquo;ll check your second and third choices.\n        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2591,2754],"text":"\n          Provide up to 3 name choices in order of preference. If your first choice is unavailable, \n          we&#39;ll check your second and third choices.\n        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2591,2754],"text":"\n          Provide up to 3 name choices in order of preference. If your first choice is unavailable, \n          we&rsquo;ll check your second and third choices.\n        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":151,"column":87,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":90,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5376,5379],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5376,5379],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":50,"column":6,"nodeType":"ArrayExpression","endLine":50,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1474,1484],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { FileText, Building2, User, Mail } from 'lucide-react';\n\ninterface NameReservationData {\n  // Proposed Names (up to 3 choices)\n  firstChoiceName: string;\n  secondChoiceName?: string;\n  thirdChoiceName?: string;\n  \n  // Entity Type\n  entityType: 'LLC' | 'CORPORATION' | 'PARTNERSHIP';\n  \n  // Applicant Information\n  applicantName: string;\n  applicantAddress: string;\n  applicantEmail: string;\n  applicantPhone: string;\n  \n  // Purpose\n  intendedUse: string;\n}\n\ninterface NameReservationFormProps {\n  initialData?: Partial<NameReservationData>;\n  onChange: (data: NameReservationData) => void;\n}\n\nexport default function NameReservationForm({\n  initialData,\n  onChange,\n}: NameReservationFormProps) {\n  const [formData, setFormData] = useState<NameReservationData>({\n    firstChoiceName: initialData?.firstChoiceName || '',\n    secondChoiceName: initialData?.secondChoiceName || '',\n    thirdChoiceName: initialData?.thirdChoiceName || '',\n    entityType: initialData?.entityType || 'LLC',\n    applicantName: initialData?.applicantName || '',\n    applicantAddress: initialData?.applicantAddress || '',\n    applicantEmail: initialData?.applicantEmail || '',\n    applicantPhone: initialData?.applicantPhone || '',\n    intendedUse: initialData?.intendedUse || '',\n  });\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  return (\n    <div>\n      {/* Info Notice */}\n      <div\n        className=\"rounded-lg\"\n        style={{\n          padding: '20px',\n          marginBottom: '24px',\n          background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n          border: '2px solid #93c5fd',\n        }}\n      >\n        <p className=\"text-blue-800 font-medium text-sm\">\n          <strong>Name Reservation - 120 Days</strong>\n        </p>\n        <p className=\"text-blue-700 text-xs mt-1\">\n          Reserve your business name for 120 days while you prepare to form your entity. \n          Provide up to 3 name choices in order of preference.\n        </p>\n      </div>\n\n      {/* Proposed Names */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <FileText className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Proposed Business Names</h3>\n        </div>\n\n        <p className=\"text-sm text-gray-600 mb-4\">\n          Provide up to 3 name choices in order of preference. If your first choice is unavailable, \n          we'll check your second and third choices.\n        </p>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            First Choice Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.firstChoiceName}\n            onChange={(e) => setFormData({ ...formData, firstChoiceName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Your Business Name LLC\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Must include LLC, L.L.C., Inc., Corp., or Corporation as appropriate\n          </p>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Second Choice Name (optional)\n          </label>\n          <input\n            type=\"text\"\n            value={formData.secondChoiceName}\n            onChange={(e) => setFormData({ ...formData, secondChoiceName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Alternative Business Name LLC\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Third Choice Name (optional)\n          </label>\n          <input\n            type=\"text\"\n            value={formData.thirdChoiceName}\n            onChange={(e) => setFormData({ ...formData, thirdChoiceName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Another Alternative LLC\"\n          />\n        </div>\n      </div>\n\n      {/* Entity Type */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Entity Type</h3>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            What type of entity will you form? *\n          </label>\n          <select\n            value={formData.entityType}\n            onChange={(e) => setFormData({ ...formData, entityType: e.target.value as any })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            required\n          >\n            <option value=\"LLC\">Limited Liability Company (LLC)</option>\n            <option value=\"CORPORATION\">Corporation (Inc./Corp.)</option>\n            <option value=\"PARTNERSHIP\">Partnership</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Applicant Information */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px', marginBottom: '32px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Applicant Information</h3>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Full Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.applicantName}\n            onChange={(e) => setFormData({ ...formData, applicantName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Your full name\"\n            required\n          />\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Address *\n          </label>\n          <textarea\n            value={formData.applicantAddress}\n            onChange={(e) => setFormData({ ...formData, applicantAddress: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            rows={2}\n            placeholder=\"Street Address&#10;City, State ZIP\"\n            required\n          />\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Email Address *\n            </label>\n            <input\n              type=\"email\"\n              value={formData.applicantEmail}\n              onChange={(e) => setFormData({ ...formData, applicantEmail: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"your@email.com\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Phone Number *\n            </label>\n            <input\n              type=\"tel\"\n              value={formData.applicantPhone}\n              onChange={(e) => setFormData({ ...formData, applicantPhone: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"(555) 123-4567\"\n              required\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Intended Use */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Mail className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Intended Use</h3>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            What will this business do? *\n          </label>\n          <textarea\n            value={formData.intendedUse}\n            onChange={(e) => setFormData({ ...formData, intendedUse: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            rows={3}\n            placeholder=\"Brief description of your business purpose or industry...\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            This helps ensure the name is appropriate for your intended business type\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\OfficerAddressUpdateForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\OperatingAgreementForm.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":99,"column":15,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3110,3191],"text":"\n            We&apos;ve pre-filled some information from your LLC formation\n          "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3110,3191],"text":"\n            We&lsquo;ve pre-filled some information from your LLC formation\n          "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3110,3191],"text":"\n            We&#39;ve pre-filled some information from your LLC formation\n          "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3110,3191],"text":"\n            We&rsquo;ve pre-filled some information from your LLC formation\n          "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":266,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":266,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9810,9813],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9810,9813],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":290,"column":83,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":290,"endColumn":86,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10808,10811],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10808,10811],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":346,"column":74,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":346,"endColumn":77,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13040,13043],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13040,13043],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":365,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":365,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13762,13765],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13762,13765],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'onChange'. Either include it or remove the dependency array. If 'onChange' changes too often, find the parent component that defines it and wrap that definition in useCallback.","line":50,"column":6,"nodeType":"ArrayExpression","endLine":50,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [formData, onChange]","fix":{"range":[1602,1612],"text":"[formData, onChange]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Plus, Trash2, Users, Percent, Building2 } from 'lucide-react';\n\ninterface Member {\n  name: string;\n  address: string;\n  ownershipPercentage: number;\n  capitalContribution: number;\n}\n\ninterface OperatingAgreementData {\n  members: Member[];\n  managementStructure: 'MEMBER_MANAGED' | 'MANAGER_MANAGED';\n  managerName?: string;\n  fiscalYearEnd: string;\n  votingRights: 'PROPORTIONAL' | 'EQUAL';\n  profitDistribution: 'PROPORTIONAL' | 'CUSTOM';\n  customDistributionNotes?: string;\n}\n\ninterface OperatingAgreementFormProps {\n  initialData?: Partial<OperatingAgreementData>;\n  onChange: (data: OperatingAgreementData) => void;\n  preFilledBusinessName?: string;\n}\n\nexport default function OperatingAgreementForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n}: OperatingAgreementFormProps) {\n  const [formData, setFormData] = useState<OperatingAgreementData>({\n    members: initialData?.members || [\n      { name: '', address: '', ownershipPercentage: 100, capitalContribution: 0 },\n    ],\n    managementStructure: initialData?.managementStructure || 'MEMBER_MANAGED',\n    managerName: initialData?.managerName || '',\n    fiscalYearEnd: initialData?.fiscalYearEnd || '12/31',\n    votingRights: initialData?.votingRights || 'PROPORTIONAL',\n    profitDistribution: initialData?.profitDistribution || 'PROPORTIONAL',\n    customDistributionNotes: initialData?.customDistributionNotes || '',\n  });\n\n  // Notify parent of changes\n  useEffect(() => {\n    onChange(formData);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formData]);\n\n  const handleAddMember = () => {\n    setFormData({\n      ...formData,\n      members: [\n        ...formData.members,\n        { name: '', address: '', ownershipPercentage: 0, capitalContribution: 0 },\n      ],\n    });\n  };\n\n  const handleRemoveMember = (index: number) => {\n    if (formData.members.length > 1) {\n      const newMembers = formData.members.filter((_, i) => i !== index);\n      setFormData({ ...formData, members: newMembers });\n    }\n  };\n\n  const handleMemberChange = (index: number, field: keyof Member, value: string | number) => {\n    const newMembers = [...formData.members];\n    newMembers[index] = { ...newMembers[index], [field]: value };\n    setFormData({ ...formData, members: newMembers });\n  };\n\n  const totalOwnership = formData.members.reduce(\n    (sum, member) => sum + (Number(member.ownershipPercentage) || 0),\n    0\n  );\n\n  const ownershipValid = Math.abs(totalOwnership - 100) < 0.01;\n\n  return (\n    <div>\n      {/* Pre-filled Business Name Notice */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg\"\n          style={{\n            padding: '20px',\n            marginBottom: '24px',\n            background: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)',\n            border: '2px solid #93c5fd',\n          }}\n        >\n          <p className=\"text-blue-800 font-medium text-sm\">\n            <strong>Operating Agreement for:</strong> {preFilledBusinessName}\n          </p>\n          <p className=\"text-blue-700 text-xs mt-1\">\n            We've pre-filled some information from your LLC formation\n          </p>\n        </div>\n      )}\n\n      {/* Members Section */}\n      <div style={{ marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Users className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">LLC Members</h3>\n        </div>\n\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '20px' }}>\n          {formData.members.map((member, index) => (\n            <div\n              key={index}\n              className=\"rounded-xl\"\n              style={{\n                padding: '24px',\n                background: 'linear-gradient(135deg, #ffffff 0%, #f9fafb 100%)',\n                border: '2px solid #e5e7eb',\n                boxShadow: '0 4px 12px rgba(0, 0, 0, 0.05)',\n              }}\n            >\n              <div className=\"flex items-center justify-between mb-4\">\n                <h4 className=\"font-semibold text-gray-900\">Member {index + 1}</h4>\n                {formData.members.length > 1 && (\n                  <button\n                    type=\"button\"\n                    onClick={() => handleRemoveMember(index)}\n                    className=\"text-red-600 hover:text-red-700 transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                )}\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Member Name */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Full Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={member.name}\n                    onChange={(e) => handleMemberChange(index, 'name', e.target.value)}\n                    className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                    style={{ padding: '12px 16px' }}\n                    placeholder=\"John Doe\"\n                    required\n                  />\n                </div>\n\n                {/* Member Address */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Address *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={member.address}\n                    onChange={(e) => handleMemberChange(index, 'address', e.target.value)}\n                    className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                    style={{ padding: '12px 16px' }}\n                    placeholder=\"123 Main St, City, FL 33101\"\n                    required\n                  />\n                </div>\n\n                {/* Ownership Percentage */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    <Percent className=\"w-4 h-4 inline mr-1\" />\n                    Ownership Percentage *\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"100\"\n                    step=\"0.01\"\n                    value={member.ownershipPercentage}\n                    onChange={(e) =>\n                      handleMemberChange(index, 'ownershipPercentage', parseFloat(e.target.value) || 0)\n                    }\n                    className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                    style={{ padding: '12px 16px' }}\n                    required\n                  />\n                </div>\n\n                {/* Capital Contribution */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Initial Capital Contribution ($)\n                  </label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    step=\"0.01\"\n                    value={member.capitalContribution}\n                    onChange={(e) =>\n                      handleMemberChange(index, 'capitalContribution', parseFloat(e.target.value) || 0)\n                    }\n                    className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n                    style={{ padding: '12px 16px' }}\n                    placeholder=\"0.00\"\n                  />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Add Member Button */}\n        <button\n          type=\"button\"\n          onClick={handleAddMember}\n          className=\"flex items-center gap-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-all font-medium\"\n          style={{ marginTop: '20px', padding: '12px 24px' }}\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add Another Member\n        </button>\n\n        {/* Ownership Validation */}\n        <div\n          className={`rounded-lg ${\n            ownershipValid\n              ? 'bg-green-50 border-2 border-green-300'\n              : 'bg-red-50 border-2 border-red-300'\n          }`}\n          style={{ marginTop: '20px', padding: '20px' }}\n        >\n          <p\n            className={`text-sm font-medium ${\n              ownershipValid ? 'text-green-800' : 'text-red-800'\n            }`}\n          >\n            Total Ownership: {totalOwnership.toFixed(2)}%{' '}\n            {ownershipValid ? '‚úì' : '(Must equal 100%)'}\n          </p>\n        </div>\n      </div>\n\n      {/* Management Structure */}\n      <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Building2 className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Management Structure</h3>\n        </div>\n\n        <div className=\"grid grid-cols-1 gap-3\">\n          <label\n            className={`rounded-lg border-2 cursor-pointer transition-all ${\n              formData.managementStructure === 'MEMBER_MANAGED'\n                ? 'border-purple-500 bg-purple-50'\n                : 'border-gray-300 bg-white hover:border-purple-300'\n            }`}\n            style={{ padding: '16px 20px' }}\n          >\n            <input\n              type=\"radio\"\n              name=\"managementStructure\"\n              value=\"MEMBER_MANAGED\"\n              checked={formData.managementStructure === 'MEMBER_MANAGED'}\n              onChange={(e) =>\n                setFormData({ ...formData, managementStructure: e.target.value as any })\n              }\n              className=\"mr-3\"\n            />\n            <span className=\"font-semibold text-gray-900\">Member-Managed</span>\n            <p className=\"text-sm text-gray-600 ml-6\" style={{ marginTop: '4px' }}>\n              All members participate in day-to-day management\n            </p>\n          </label>\n\n          <label\n            className={`rounded-lg border-2 cursor-pointer transition-all ${\n              formData.managementStructure === 'MANAGER_MANAGED'\n                ? 'border-purple-500 bg-purple-50'\n                : 'border-gray-300 bg-white hover:border-purple-300'\n            }`}\n            style={{ padding: '16px 20px' }}\n          >\n            <input\n              type=\"radio\"\n              name=\"managementStructure\"\n              value=\"MANAGER_MANAGED\"\n              checked={formData.managementStructure === 'MANAGER_MANAGED'}\n              onChange={(e) =>\n                setFormData({ ...formData, managementStructure: e.target.value as any })\n              }\n              className=\"mr-3\"\n            />\n            <span className=\"font-semibold text-gray-900\">Manager-Managed</span>\n            <p className=\"text-sm text-gray-600 ml-6\" style={{ marginTop: '4px' }}>\n              Designated manager(s) handle day-to-day operations\n            </p>\n          </label>\n        </div>\n\n        {/* Manager Name (if manager-managed) */}\n        {formData.managementStructure === 'MANAGER_MANAGED' && (\n          <div style={{ marginTop: '20px' }}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Manager Name *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.managerName}\n              onChange={(e) => setFormData({ ...formData, managerName: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"Name of designated manager\"\n              required\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Additional Settings */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" style={{ marginTop: '32px', marginBottom: '32px' }}>\n        {/* Fiscal Year End */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Fiscal Year End Date\n          </label>\n          <input\n            type=\"text\"\n            value={formData.fiscalYearEnd}\n            onChange={(e) => setFormData({ ...formData, fiscalYearEnd: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"12/31\"\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">Format: MM/DD (e.g., 12/31)</p>\n        </div>\n\n        {/* Voting Rights */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Voting Rights\n          </label>\n          <select\n            value={formData.votingRights}\n            onChange={(e) =>\n              setFormData({ ...formData, votingRights: e.target.value as any })\n            }\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n          >\n            <option value=\"PROPORTIONAL\">Proportional to Ownership</option>\n            <option value=\"EQUAL\">Equal (One Member, One Vote)</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Profit Distribution */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Profit/Loss Distribution\n        </label>\n        <select\n          value={formData.profitDistribution}\n          onChange={(e) =>\n            setFormData({ ...formData, profitDistribution: e.target.value as any })\n          }\n          className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n          style={{ padding: '12px 16px' }}\n        >\n          <option value=\"PROPORTIONAL\">Proportional to Ownership Percentage</option>\n          <option value=\"CUSTOM\">Custom Distribution (specify below)</option>\n        </select>\n\n        {formData.profitDistribution === 'CUSTOM' && (\n          <textarea\n            value={formData.customDistributionNotes}\n            onChange={(e) =>\n              setFormData({ ...formData, customDistributionNotes: e.target.value })\n            }\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ marginTop: '12px', padding: '12px 16px' }}\n            rows={3}\n            placeholder=\"Describe your custom profit/loss distribution arrangement...\"\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\RegisteredAgentChangeForm.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":338,"column":17,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12887,13064],"text":"\n              We&apos;ll print, sign, and mail your form with a check to the Florida Department of State.\n              You'll receive tracking information once mailed.\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12887,13064],"text":"\n              We&lsquo;ll print, sign, and mail your form with a check to the Florida Department of State.\n              You'll receive tracking information once mailed.\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12887,13064],"text":"\n              We&#39;ll print, sign, and mail your form with a check to the Florida Department of State.\n              You'll receive tracking information once mailed.\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12887,13064],"text":"\n              We&rsquo;ll print, sign, and mail your form with a check to the Florida Department of State.\n              You'll receive tracking information once mailed.\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":339,"column":18,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[12887,13064],"text":"\n              We'll print, sign, and mail your form with a check to the Florida Department of State.\n              You&apos;ll receive tracking information once mailed.\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[12887,13064],"text":"\n              We'll print, sign, and mail your form with a check to the Florida Department of State.\n              You&lsquo;ll receive tracking information once mailed.\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[12887,13064],"text":"\n              We'll print, sign, and mail your form with a check to the Florida Department of State.\n              You&#39;ll receive tracking information once mailed.\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[12887,13064],"text":"\n              We'll print, sign, and mail your form with a check to the Florida Department of State.\n              You&rsquo;ll receive tracking information once mailed.\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":354,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[13574,13639],"text":"Download and print the completed form (we&apos;ll generate it for you)"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[13574,13639],"text":"Download and print the completed form (we&lsquo;ll generate it for you)"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[13574,13639],"text":"Download and print the completed form (we&#39;ll generate it for you)"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[13574,13639],"text":"Download and print the completed form (we&rsquo;ll generate it for you)"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":356,"column":72,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13757,13798],"text":" payable to &quot;Florida Department of State\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13757,13798],"text":" payable to &ldquo;Florida Department of State\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13757,13798],"text":" payable to &#34;Florida Department of State\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13757,13798],"text":" payable to &rdquo;Florida Department of State\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":356,"column":100,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[13757,13798],"text":" payable to \"Florida Department of State&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[13757,13798],"text":" payable to \"Florida Department of State&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[13757,13798],"text":" payable to \"Florida Department of State&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[13757,13798],"text":" payable to \"Florida Department of State&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":398,"column":22,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[15426,15478],"text":"\n            Note: You&apos;ll need to mail a check for $"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[15426,15478],"text":"\n            Note: You&lsquo;ll need to mail a check for $"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[15426,15478],"text":"\n            Note: You&#39;ll need to mail a check for $"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[15426,15478],"text":"\n            Note: You&rsquo;ll need to mail a check for $"},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\n\nimport { useState, useEffect } from 'react';\nimport { User, MapPin, AlertCircle, FileText, Mail as MailIcon } from 'lucide-react';\n\ninterface RegisteredAgentChangeData {\n  // Current Registered Agent\n  currentAgentName: string;\n  currentAgentAddress: string;\n  \n  // New Registered Agent\n  newAgentName: string;\n  newAgentType: 'INDIVIDUAL' | 'COMMERCIAL';\n  newAgentStreet: string;\n  newAgentCity: string;\n  newAgentState: string;\n  newAgentZip: string;\n  \n  // Effective Date\n  effectiveDate?: string;\n  \n  // Reason for Change\n  reasonForChange: string;\n  \n  // Mailing Service Option\n  useMailingService: boolean;\n}\n\ninterface RegisteredAgentChangeFormProps {\n  initialData?: Partial<RegisteredAgentChangeData>;\n  onChange: (data: RegisteredAgentChangeData) => void;\n  preFilledBusinessName?: string;\n  preFilledEntityType?: 'LLC' | 'CORPORATION';\n}\n\nexport default function RegisteredAgentChangeForm({\n  initialData,\n  onChange,\n  preFilledBusinessName,\n  preFilledEntityType = 'LLC',\n}: RegisteredAgentChangeFormProps) {\n  const [formData, setFormData] = useState<RegisteredAgentChangeData>({\n    currentAgentName: initialData?.currentAgentName || '',\n    currentAgentAddress: initialData?.currentAgentAddress || '',\n    newAgentName: initialData?.newAgentName || '',\n    newAgentType: initialData?.newAgentType || 'INDIVIDUAL',\n    newAgentStreet: initialData?.newAgentStreet || '',\n    newAgentCity: initialData?.newAgentCity || '',\n    newAgentState: initialData?.newAgentState || 'FL',\n    newAgentZip: initialData?.newAgentZip || '',\n    effectiveDate: initialData?.effectiveDate || '',\n    reasonForChange: initialData?.reasonForChange || '',\n    useMailingService: initialData?.useMailingService || false,\n  });\n\n  useEffect(() => {\n    onChange(formData);\n  }, [formData, onChange]);\n\n  const filingFee = 25.00;\n  const mailingServiceFee = 35.00;\n  const totalFee = filingFee + (formData.useMailingService ? mailingServiceFee : 0);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Important Notice Banner */}\n      <div\n        className=\"rounded-lg border-2 border-yellow-300 shadow-sm\"\n        style={{\n          padding: '16px 20px',\n          background: 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)',\n        }}\n      >\n        <div className=\"flex items-start gap-3\">\n          <AlertCircle className=\"w-5 h-5 text-yellow-700 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"text-sm font-bold text-yellow-900 mb-2\">\n              Important: Registered Agent Changes Require Mailing\n            </p>\n            <p className=\"text-xs text-yellow-800 mb-2\">\n              Florida requires registered agent changes to be filed by mail with a physical signature and check payment.\n              This cannot be done online.\n            </p>\n            <p className=\"text-xs text-yellow-800\">\n              <span className=\"font-semibold\">Filing Fee: ${filingFee.toFixed(2)}</span> (payable to Florida Department of State)\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Business Info Banner */}\n      {preFilledBusinessName && (\n        <div\n          className=\"rounded-lg border-2 border-blue-200 shadow-sm\"\n          style={{\n            padding: '16px 20px',\n            background: 'linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%)',\n          }}\n        >\n          <div className=\"flex items-start gap-3\">\n            <FileText className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-sm font-medium text-blue-900\">\n                Changing registered agent for: <span className=\"font-bold\">{preFilledBusinessName}</span>\n              </p>\n              <p className=\"text-xs text-blue-700 mt-1\">\n                Entity Type: {preFilledEntityType}\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Current Registered Agent */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Current Registered Agent</h3>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Current Agent Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.currentAgentName}\n            onChange={(e) => setFormData({ ...formData, currentAgentName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Current registered agent name\"\n            required\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Current Agent Address *\n          </label>\n          <textarea\n            value={formData.currentAgentAddress}\n            onChange={(e) => setFormData({ ...formData, currentAgentAddress: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            rows={2}\n            placeholder=\"Street Address&#10;City, State ZIP\"\n            required\n          />\n        </div>\n      </div>\n\n      {/* New Registered Agent */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <User className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">New Registered Agent</h3>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Agent Type *\n          </label>\n          <select\n            value={formData.newAgentType}\n            onChange={(e) => setFormData({ ...formData, newAgentType: e.target.value as 'INDIVIDUAL' | 'COMMERCIAL' })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            required\n          >\n            <option value=\"INDIVIDUAL\">Individual Person</option>\n            <option value=\"COMMERCIAL\">Commercial Registered Agent Service</option>\n          </select>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Commercial agents are businesses that provide registered agent services\n          </p>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            New Agent Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.newAgentName}\n            onChange={(e) => setFormData({ ...formData, newAgentName: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"Full name or company name\"\n            required\n          />\n        </div>\n\n        <div className=\"flex items-center gap-2 mb-3\">\n          <MapPin className=\"w-4 h-4 text-purple-600\" />\n          <h4 className=\"text-sm font-semibold text-gray-900\">New Agent Florida Address</h4>\n        </div>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Street Address *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.newAgentStreet}\n            onChange={(e) => setFormData({ ...formData, newAgentStreet: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"123 Main Street (no P.O. Box)\"\n            required\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Must be a Florida street address (P.O. Box NOT acceptable)\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\" style={{ marginBottom: '16px' }}>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              City *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newAgentCity}\n              onChange={(e) => setFormData({ ...formData, newAgentCity: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"Miami\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              State *\n            </label>\n            <input\n              type=\"text\"\n              value={formData.newAgentState}\n              onChange={(e) => setFormData({ ...formData, newAgentState: e.target.value })}\n              className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n              style={{ padding: '12px 16px' }}\n              placeholder=\"FL\"\n              maxLength={2}\n              required\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Zip Code *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.newAgentZip}\n            onChange={(e) => {\n              const value = e.target.value.replace(/[^0-9]/g, '');\n              if (value.length <= 5) {\n                setFormData({ ...formData, newAgentZip: value });\n              }\n            }}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            placeholder=\"33101\"\n            maxLength={5}\n            required\n          />\n        </div>\n      </div>\n\n      {/* Additional Information */}\n      <div\n        className=\"rounded-lg border-2 border-gray-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Additional Information</h3>\n\n        <div style={{ marginBottom: '16px' }}>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Effective Date (Optional)\n          </label>\n          <input\n            type=\"date\"\n            value={formData.effectiveDate}\n            onChange={(e) => setFormData({ ...formData, effectiveDate: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n          />\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Leave blank for immediate effect upon filing\n          </p>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Reason for Change (Optional)\n          </label>\n          <textarea\n            value={formData.reasonForChange}\n            onChange={(e) => setFormData({ ...formData, reasonForChange: e.target.value })}\n            className=\"w-full border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none\"\n            style={{ padding: '12px 16px' }}\n            rows={3}\n            placeholder=\"Briefly explain why you're changing registered agents...\"\n          />\n        </div>\n      </div>\n\n      {/* Mailing Service Option */}\n      <div\n        className=\"rounded-lg border-2 border-purple-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <div className=\"flex items-center gap-2 mb-4\">\n          <MailIcon className=\"w-5 h-5 text-purple-600\" />\n          <h3 className=\"text-lg font-bold text-gray-900\">Mailing Service (Optional)</h3>\n        </div>\n\n        <div className=\"flex items-start gap-3 mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"useMailingService\"\n            checked={formData.useMailingService}\n            onChange={(e) => setFormData({ ...formData, useMailingService: e.target.checked })}\n            className=\"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 mt-0.5\"\n          />\n          <label htmlFor=\"useMailingService\" className=\"cursor-pointer flex-1\">\n            <span className=\"text-base font-semibold text-gray-900 block mb-1\">\n              Let LegalOps Mail This For You (+${mailingServiceFee.toFixed(2)})\n            </span>\n            <p className=\"text-sm text-gray-600\">\n              We'll print, sign, and mail your form with a check to the Florida Department of State.\n              You'll receive tracking information once mailed.\n            </p>\n          </label>\n        </div>\n\n        {!formData.useMailingService && (\n          <div\n            className=\"rounded-lg border-2 border-gray-200\"\n            style={{\n              padding: '16px',\n              background: 'linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)',\n            }}\n          >\n            <h4 className=\"text-sm font-bold text-gray-900 mb-2\">üìã DIY Mailing Instructions</h4>\n            <ol className=\"text-xs text-gray-700 space-y-1 ml-4 list-decimal\">\n              <li>Download and print the completed form (we'll generate it for you)</li>\n              <li>Sign the form where indicated</li>\n              <li>Write a check for ${filingFee.toFixed(2)} payable to \"Florida Department of State\"</li>\n              <li>Mail both to:\n                <div className=\"ml-4 mt-1 font-mono text-xs bg-white p-2 rounded border border-gray-300\">\n                  Division of Corporations<br />\n                  P.O. Box 6327<br />\n                  Tallahassee, FL 32314\n                </div>\n              </li>\n              <li>Allow 7-10 business days for processing</li>\n            </ol>\n          </div>\n        )}\n      </div>\n\n      {/* Fee Summary */}\n      <div\n        className=\"rounded-lg border-2 border-green-200 bg-white shadow-sm\"\n        style={{ padding: '24px' }}\n      >\n        <h3 className=\"text-lg font-bold text-gray-900 mb-3\">Fee Summary</h3>\n\n        <div className=\"space-y-2 text-sm\">\n          <div className=\"flex justify-between\">\n            <span className=\"text-gray-700\">State Filing Fee:</span>\n            <span className=\"font-semibold text-gray-900\">${filingFee.toFixed(2)}</span>\n          </div>\n\n          {formData.useMailingService && (\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-700\">LegalOps Mailing Service:</span>\n              <span className=\"font-semibold text-gray-900\">${mailingServiceFee.toFixed(2)}</span>\n            </div>\n          )}\n\n          <div className=\"pt-2 border-t-2 border-gray-200 flex justify-between\">\n            <span className=\"text-base font-bold text-gray-900\">Total:</span>\n            <span className=\"text-base font-bold text-green-600\">${totalFee.toFixed(2)}</span>\n          </div>\n        </div>\n\n        {!formData.useMailingService && (\n          <p className=\"text-xs text-gray-500 mt-3\">\n            Note: You'll need to mail a check for ${filingFee.toFixed(2)} separately\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\forms\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\cards\\OrderSummaryCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\cards\\ServiceCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\cards\\SuccessCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cn' is defined but never used.","line":3,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'cardBase' is defined but never used.","line":3,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":3,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\nimport { CheckCircle2, ChevronRight } from 'lucide-react';\nimport { cn, cardBase } from '../theme';\n\nexport interface SuccessStep {\n  title: string;\n  description: string;\n  eta?: string;\n  isRush?: boolean;\n}\n\nexport interface SuccessCardProps {\n  title: string;\n  subtitle?: string;\n  orderNumber?: string;\n  message?: string;\n  steps?: SuccessStep[];\n  primaryAction?: {\n    label: string;\n    onClick: () => void;\n  };\n  secondaryAction?: {\n    label: string;\n    onClick: () => void;\n  };\n}\n\nexport function SuccessCard({\n  title,\n  subtitle,\n  orderNumber,\n  message,\n  steps,\n  primaryAction,\n  secondaryAction,\n}: SuccessCardProps) {\n  return (\n    <div\n      className=\"bg-white rounded-xl text-center\"\n      style={{\n        padding: '48px 32px',\n        border: '3px solid #10b981',\n        boxShadow: '0 8px 24px rgba(16, 185, 129, 0.25)',\n        background: 'linear-gradient(135deg, #ffffff 0%, #ecfdf5 100%)',\n      }}\n    >\n      {/* Success Icon */}\n      <div\n        className=\"inline-flex items-center justify-center rounded-full\"\n        style={{\n          width: '80px',\n          height: '80px',\n          background: 'linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)',\n          border: '3px solid #10b981',\n          boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',\n          marginBottom: '24px',\n        }}\n      >\n        <CheckCircle2 className=\"text-emerald-600\" style={{ width: '40px', height: '40px' }} />\n      </div>\n\n      {/* Title */}\n      <h1 className=\"text-slate-900 font-bold\" style={{ fontSize: '36px', marginBottom: '12px' }}>{title}</h1>\n\n      {/* Subtitle */}\n      {subtitle && <p className=\"text-slate-600\" style={{ fontSize: '20px', marginBottom: '24px' }}>{subtitle}</p>}\n\n      {/* Order Number */}\n      {orderNumber && (\n        <div\n          className=\"inline-flex items-center rounded-lg\"\n          style={{\n            gap: '12px',\n            padding: '12px 24px',\n            background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n            border: '2px solid #0ea5e9',\n            boxShadow: '0 3px 10px rgba(14, 165, 233, 0.2)',\n            marginBottom: '24px',\n          }}\n        >\n          <span className=\"text-slate-600 font-medium\" style={{ fontSize: '16px' }}>Order Number:</span>\n          <span className=\"text-slate-900 font-bold\" style={{ fontSize: '16px' }}>{orderNumber}</span>\n        </div>\n      )}\n\n      {/* Message */}\n      {message && (\n        <div className=\"mx-auto\" style={{ maxWidth: '600px', marginBottom: '32px' }}>\n          <p className=\"text-slate-600\" style={{ fontSize: '16px', lineHeight: '1.6' }}>{message}</p>\n        </div>\n      )}\n\n      {/* Steps */}\n      {steps && steps.length > 0 && (\n        <div style={{ marginTop: '32px', marginBottom: '32px' }}>\n          <h2 className=\"text-slate-900 font-bold text-left\" style={{ fontSize: '24px', marginBottom: '24px' }}>What Happens Next</h2>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n            {steps.map((step, index) => {\n              // Check if this is a rush processing step\n              const isRushStep = step.isRush || step.description.includes('üöÄ');\n\n              return (\n                <div\n                  key={index}\n                  className=\"flex items-start rounded-lg text-left\"\n                  style={{\n                    gap: '16px',\n                    padding: '20px',\n                    background: isRushStep\n                      ? 'linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)'\n                      : 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)',\n                    border: isRushStep\n                      ? '3px solid #f59e0b'\n                      : '2px solid #cbd5e1',\n                    boxShadow: isRushStep\n                      ? '0 6px 20px rgba(245, 158, 11, 0.3)'\n                      : '0 3px 10px rgba(100, 116, 139, 0.15)',\n                    position: 'relative',\n                    overflow: 'hidden',\n                  }}\n                >\n                  {/* Diagonal RUSH Banner */}\n                  {isRushStep && (\n                    <div\n                      style={{\n                        position: 'absolute',\n                        top: '16px',\n                        right: '-32px',\n                        background: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)',\n                        color: '#78350f',\n                        padding: '6px 40px',\n                        fontSize: '12px',\n                        fontWeight: '800',\n                        letterSpacing: '0.5px',\n                        transform: 'rotate(45deg)',\n                        boxShadow: '0 2px 8px rgba(245, 158, 11, 0.4)',\n                        border: '1px solid #d97706',\n                        zIndex: 10,\n                      }}\n                    >\n                      RUSH\n                    </div>\n                  )}\n\n                  <div\n                    className=\"flex-shrink-0 rounded-full flex items-center justify-center font-bold\"\n                    style={{\n                      width: '40px',\n                      height: '40px',\n                      background: isRushStep\n                        ? 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)'\n                        : 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\n                      border: isRushStep\n                        ? '2px solid #d97706'\n                        : '2px solid #0ea5e9',\n                      boxShadow: isRushStep\n                        ? '0 3px 10px rgba(245, 158, 11, 0.3)'\n                        : '0 2px 6px rgba(14, 165, 233, 0.2)',\n                      fontSize: '18px',\n                      color: isRushStep ? '#78350f' : '#0284c7',\n                    }}\n                  >\n                    {index + 1}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <h3 className=\"text-slate-900 font-bold\" style={{ fontSize: '16px', marginBottom: '8px' }}>{step.title}</h3>\n                    <p className={isRushStep ? 'text-amber-900' : 'text-slate-600'} style={{ fontSize: '15px', lineHeight: '1.6', fontWeight: isRushStep ? '600' : '400' }}>{step.description}</p>\n                    {step.eta && (\n                      <p className={isRushStep ? 'text-amber-800' : 'text-slate-500'} style={{ fontSize: '14px', marginTop: '8px', fontWeight: isRushStep ? '700' : '600' }}>\n                        <span className=\"font-semibold\">ETA:</span> {step.eta}\n                      </p>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Actions */}\n      {(primaryAction || secondaryAction) && (\n        <div className=\"flex flex-col sm:flex-row items-center justify-center\" style={{ gap: '16px', marginTop: '32px' }}>\n          {primaryAction && (\n            <button\n              onClick={primaryAction.onClick}\n              className=\"inline-flex items-center justify-center text-white rounded-xl font-bold transition-all duration-300 w-full sm:w-auto\"\n              style={{\n                gap: '8px',\n                padding: '16px 32px',\n                background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                border: '2px solid #2563eb',\n                boxShadow: '0 6px 20px rgba(37, 99, 235, 0.4)',\n                fontSize: '16px',\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.boxShadow = '0 8px 24px rgba(37, 99, 235, 0.5)';\n                e.currentTarget.style.transform = 'translateY(-2px)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.boxShadow = '0 6px 20px rgba(37, 99, 235, 0.4)';\n                e.currentTarget.style.transform = 'translateY(0)';\n              }}\n            >\n              {primaryAction.label}\n              <ChevronRight style={{ width: '20px', height: '20px' }} />\n            </button>\n          )}\n          {secondaryAction && (\n            <button\n              onClick={secondaryAction.onClick}\n              className=\"inline-flex items-center justify-center text-slate-700 rounded-xl font-bold transition-all duration-300 w-full sm:w-auto\"\n              style={{\n                gap: '8px',\n                padding: '16px 32px',\n                background: 'linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)',\n                border: '2px solid #cbd5e1',\n                boxShadow: '0 4px 12px rgba(100, 116, 139, 0.2)',\n                fontSize: '16px',\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.boxShadow = '0 6px 16px rgba(100, 116, 139, 0.3)';\n                e.currentTarget.style.transform = 'translateY(-2px)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.boxShadow = '0 4px 12px rgba(100, 116, 139, 0.2)';\n                e.currentTarget.style.transform = 'translateY(0)';\n              }}\n            >\n              {secondaryAction.label}\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\cards\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\checkout\\ManagerCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\checkout\\ProgressSteps.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\checkout\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\FieldLabel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\FormSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\Select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\TextArea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\TextInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\forms\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\icons\\LiquidGlassIcon.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\layout\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\layout\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\theme.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\legalops\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\FeedbackBeacon.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":200,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":200,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6133,6136],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6133,6136],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":201,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":201,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6161,6164],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6161,6164],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * FeedbackBeacon Component\n * Phase 7: Smart + Safe Experience Overhaul\n * \n * Collects user feedback on clarity and usability\n * \"Was this clear?\" prompt after key interactions\n */\n\nimport React, { useState } from 'react';\nimport { ThumbsUp, ThumbsDown, X } from 'lucide-react';\n\nexport interface FeedbackBeaconProps {\n  /** Unique identifier for this feedback point */\n  feedbackId: string;\n  \n  /** Question to ask user */\n  question?: string;\n  \n  /** Position on screen */\n  position?: 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left';\n  \n  /** Auto-show after delay (ms) */\n  autoShowDelay?: number;\n  \n  /** Callback when feedback is submitted */\n  onFeedback?: (feedbackId: string, positive: boolean, comment?: string) => void;\n}\n\nexport function FeedbackBeacon({\n  feedbackId,\n  question = 'Was this clear?',\n  position = 'bottom-right',\n  autoShowDelay,\n  onFeedback,\n}: FeedbackBeaconProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [comment, setComment] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  \n  // Auto-show after delay\n  React.useEffect(() => {\n    if (autoShowDelay) {\n      const timer = setTimeout(() => {\n        setIsVisible(true);\n      }, autoShowDelay);\n      \n      return () => clearTimeout(timer);\n    } else {\n      setIsVisible(true);\n    }\n  }, [autoShowDelay]);\n  \n  const handleFeedback = async (positive: boolean) => {\n    // If negative feedback, expand to collect comment\n    if (!positive && !isExpanded) {\n      setIsExpanded(true);\n      return;\n    }\n    \n    // Submit feedback\n    try {\n      await fetch('/api/feedback', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          feedbackId,\n          positive,\n          comment: comment || undefined,\n          timestamp: new Date().toISOString(),\n          url: window.location.href,\n        }),\n      });\n      \n      if (onFeedback) {\n        onFeedback(feedbackId, positive, comment || undefined);\n      }\n      \n      setSubmitted(true);\n      \n      // Auto-hide after 2 seconds\n      setTimeout(() => {\n        setIsVisible(false);\n      }, 2000);\n    } catch (error) {\n      console.error('Failed to submit feedback:', error);\n    }\n  };\n  \n  if (!isVisible) return null;\n  \n  const positionClasses = {\n    'bottom-right': 'bottom-6 right-6',\n    'bottom-left': 'bottom-6 left-6',\n    'top-right': 'top-6 right-6',\n    'top-left': 'top-6 left-6',\n  };\n  \n  return (\n    <div\n      className={`fixed ${positionClasses[position]} z-50 transition-all`}\n      style={{\n        maxWidth: isExpanded ? '400px' : '300px',\n      }}\n    >\n      <div\n        className=\"bg-white rounded-lg shadow-lg border border-slate-200\"\n        style={{ padding: '16px' }}\n      >\n        {/* Close Button */}\n        <button\n          onClick={() => setIsVisible(false)}\n          className=\"absolute top-2 right-2 text-slate-400 hover:text-slate-600 transition-colors\"\n          aria-label=\"Close feedback\"\n        >\n          <X size={16} />\n        </button>\n        \n        {submitted ? (\n          /* Thank You Message */\n          <div className=\"text-center py-2\">\n            <p className=\"text-emerald-600 font-medium\">\n              Thank you for your feedback!\n            </p>\n          </div>\n        ) : (\n          <>\n            {/* Question */}\n            <p className=\"text-sm font-medium text-slate-900 mb-3 pr-6\">\n              {question}\n            </p>\n            \n            {!isExpanded ? (\n              /* Thumbs Up/Down Buttons */\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => handleFeedback(true)}\n                  className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-emerald-500 text-emerald-600 hover:bg-emerald-50 transition-all\"\n                >\n                  <ThumbsUp size={18} />\n                  <span className=\"text-sm font-medium\">Yes</span>\n                </button>\n                <button\n                  onClick={() => handleFeedback(false)}\n                  className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-50 transition-all\"\n                >\n                  <ThumbsDown size={18} />\n                  <span className=\"text-sm font-medium\">No</span>\n                </button>\n              </div>\n            ) : (\n              /* Comment Form */\n              <div>\n                <textarea\n                  value={comment}\n                  onChange={(e) => setComment(e.target.value)}\n                  placeholder=\"What could we improve?\"\n                  className=\"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm focus:border-sky-500 focus:ring-2 focus:ring-sky-500 focus:outline-none mb-3\"\n                  rows={3}\n                  autoFocus\n                />\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handleFeedback(false)}\n                    className=\"flex-1 px-4 py-2 rounded-lg bg-sky-500 text-white text-sm font-medium hover:bg-sky-600 transition-all\"\n                  >\n                    Submit\n                  </button>\n                  <button\n                    onClick={() => setIsExpanded(false)}\n                    className=\"px-4 py-2 rounded-lg border border-slate-300 text-slate-600 text-sm font-medium hover:bg-slate-50 transition-all\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Feedback API endpoint handler\n * Save to database or analytics service\n */\nexport async function saveFeedback(data: {\n  feedbackId: string;\n  positive: boolean;\n  comment?: string;\n  timestamp: string;\n  url: string;\n}) {\n  // TODO: Save to database\n  console.log('Feedback received:', data);\n  \n  // Example: Send to analytics\n  if (typeof window !== 'undefined' && (window as any).gtag) {\n    (window as any).gtag('event', 'feedback', {\n      feedback_id: data.feedbackId,\n      feedback_type: data.positive ? 'positive' : 'negative',\n      feedback_comment: data.comment,\n      page_url: data.url,\n    });\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\RiskBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\SmartFormInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\TrustStrip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\Wizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\components\\phase7\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\config\\service-data-requirements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\hooks\\useSmartForm.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[535,538],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[535,538],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[775,778],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[775,778],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'session' is assigned a value but never used.","line":42,"column":17,"nodeType":null,"messageId":"unusedVar","endLine":42,"endColumn":24},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1098,1101],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1098,1101],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":133,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":133,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3424,3427],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3424,3427],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":144,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3653,3656],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3653,3656],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":157,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":157,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3897,3900],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3897,3900],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":182,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4513,4516],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4513,4516],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * useSmartForm Hook\n * Phase 7: Smart + Safe Experience Overhaul\n * \n * Provides Smart Form functionality:\n * - Auto-save drafts\n * - Auto-fill from saved records\n * - Field verification tracking\n * - One-click confirmation dialogs\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useSession } from 'next-auth/react';\n\nexport interface SmartFormOptions {\n  /** Form type identifier (e.g., 'llc-formation', 'annual-report') */\n  formType: string;\n  \n  /** Initial form data */\n  initialData?: Record<string, any>;\n  \n  /** Auto-save interval in milliseconds (default: 5000) */\n  autoSaveInterval?: number;\n  \n  /** Enable auto-fill from saved records */\n  enableAutoFill?: boolean;\n}\n\nexport interface VerifiedField {\n  fieldName: string;\n  value: any;\n  source: 'saved' | 'previous-order' | 'user-profile';\n  verifiedAt: string;\n}\n\nexport function useSmartForm({\n  formType,\n  initialData = {},\n  autoSaveInterval = 5000,\n  enableAutoFill = true,\n}: SmartFormOptions) {\n  const { data: session } = useSession();\n  const [formData, setFormData] = useState<Record<string, any>>(initialData);\n  const [verifiedFields, setVerifiedFields] = useState<VerifiedField[]>([]);\n  const [isDirty, setIsDirty] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n  \n  /**\n   * Load saved draft from API\n   */\n  const loadDraft = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/forms/drafts?formType=${formType}`);\n      const data = await response.json();\n\n      if (data.draft) {\n        setFormData(prev => ({ ...prev, ...data.draft }));\n        setLastSaved(new Date(data.savedAt));\n\n        // Mark all loaded fields as verified\n        Object.keys(data.draft).forEach(fieldName => {\n          setVerifiedFields(prev => [\n            ...prev.filter(f => f.fieldName !== fieldName),\n            {\n              fieldName,\n              value: data.draft[fieldName],\n              source: 'saved',\n              verifiedAt: new Date().toISOString(),\n            },\n          ]);\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load draft:', error);\n    }\n  }, [formType]);\n\n  /**\n   * Save draft to API\n   */\n  const saveDraft = useCallback(async () => {\n    setIsSaving(true);\n\n    try {\n      const response = await fetch('/api/forms/drafts', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          formType,\n          data: formData,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setLastSaved(new Date(result.savedAt));\n        setIsDirty(false);\n      }\n    } catch (error) {\n      console.error('Failed to save draft:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  }, [formType, formData]);\n\n  /**\n   * Load saved draft on mount\n   */\n  useEffect(() => {\n    if (enableAutoFill) {\n      loadDraft();\n    }\n  }, [enableAutoFill, loadDraft]);\n\n  /**\n   * Auto-save draft when form data changes\n   */\n  useEffect(() => {\n    if (!isDirty) return;\n\n    const timer = setTimeout(() => {\n      saveDraft();\n    }, autoSaveInterval);\n\n    return () => clearTimeout(timer);\n  }, [formData, isDirty, autoSaveInterval, saveDraft]);\n  \n  /**\n   * Update form field value\n   */\n  const updateField = useCallback((fieldName: string, value: any) => {\n    setFormData(prev => ({\n      ...prev,\n      [fieldName]: value,\n    }));\n    setIsDirty(true);\n  }, []);\n  \n  /**\n   * Update multiple fields at once\n   */\n  const updateFields = useCallback((fields: Record<string, any>) => {\n    setFormData(prev => ({\n      ...prev,\n      ...fields,\n    }));\n    setIsDirty(true);\n  }, []);\n  \n  /**\n   * Mark field as verified (from saved record)\n   */\n  const verifyField = useCallback((\n    fieldName: string,\n    value: any,\n    source: VerifiedField['source']\n  ) => {\n    setVerifiedFields(prev => [\n      ...prev.filter(f => f.fieldName !== fieldName),\n      {\n        fieldName,\n        value,\n        source,\n        verifiedAt: new Date().toISOString(),\n      },\n    ]);\n  }, []);\n  \n  /**\n   * Check if field is verified\n   */\n  const isFieldVerified = useCallback((fieldName: string): boolean => {\n    return verifiedFields.some(f => f.fieldName === fieldName);\n  }, [verifiedFields]);\n  \n  /**\n   * Auto-fill from saved record with confirmation\n   */\n  const autoFillFromRecord = useCallback(async (\n    record: Record<string, any>,\n    source: VerifiedField['source']\n  ) => {\n    // Show confirmation dialog\n    const confirmed = window.confirm(\n      'We found saved information. Would you like to use it to fill this form?'\n    );\n    \n    if (!confirmed) return;\n    \n    // Update form data\n    updateFields(record);\n    \n    // Mark all fields as verified\n    Object.entries(record).forEach(([fieldName, value]) => {\n      verifyField(fieldName, value, source);\n    });\n  }, [updateFields, verifyField]);\n  \n  /**\n   * Clear draft\n   */\n  const clearDraft = async () => {\n    try {\n      await fetch(`/api/forms/drafts?formType=${formType}`, {\n        method: 'DELETE',\n      });\n      \n      setFormData(initialData);\n      setVerifiedFields([]);\n      setIsDirty(false);\n      setLastSaved(null);\n    } catch (error) {\n      console.error('Failed to clear draft:', error);\n    }\n  };\n  \n  /**\n   * Reset form to initial state\n   */\n  const resetForm = useCallback(() => {\n    setFormData(initialData);\n    setVerifiedFields([]);\n    setIsDirty(false);\n  }, [initialData]);\n  \n  return {\n    // Form data\n    formData,\n    updateField,\n    updateFields,\n    resetForm,\n    \n    // Verification\n    verifiedFields,\n    verifyField,\n    isFieldVerified,\n    autoFillFromRecord,\n    \n    // Draft management\n    isDirty,\n    isSaving,\n    lastSaved,\n    saveDraft,\n    clearDraft,\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\florida-newspapers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\geolocation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\healthScore.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":314,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":314,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11257,11260],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11257,11260],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":364,"column":65,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":364,"endColumn":68,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12996,12999],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12996,12999],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":372,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":372,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13246,13249],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13246,13249],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Business Health Score Engine\n * \n * Calculates a 0-100 health score for business entities based on:\n * - Compliance status (40 points): Annual reports, registered agent, etc.\n * - Document completeness (30 points): EIN, operating agreement, etc.\n * - Payment status (30 points): Outstanding invoices, payment method, etc.\n */\n\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\nexport interface HealthScoreBreakdown {\n  totalScore: number;\n  compliance: {\n    score: number;\n    maxScore: 40;\n    factors: HealthFactor[];\n  };\n  documents: {\n    score: number;\n    maxScore: 30;\n    factors: HealthFactor[];\n  };\n  payments: {\n    score: number;\n    maxScore: 30;\n    factors: HealthFactor[];\n  };\n  recommendations: string[];\n}\n\nexport interface HealthFactor {\n  name: string;\n  impact: number; // Points deducted\n  status: 'good' | 'warning' | 'critical';\n  description: string;\n}\n\n/**\n * Calculate health score for a business entity\n */\nexport async function calculateHealthScore(businessId: string): Promise<HealthScoreBreakdown> {\n  // Fetch business with all related data\n  const business = await prisma.businessEntity.findUnique({\n    where: { id: businessId },\n    include: {\n      registeredAgent: true,\n      filings: {\n        orderBy: { createdAt: 'desc' },\n        take: 10\n      },\n      client: {\n        include: {\n          user: true\n        }\n      }\n    }\n  });\n\n  if (!business) {\n    throw new Error('Business not found');\n  }\n\n  // Initialize scores\n  let complianceScore = 40;\n  let documentsScore = 30;\n  let paymentsScore = 30;\n\n  const complianceFactors: HealthFactor[] = [];\n  const documentFactors: HealthFactor[] = [];\n  const paymentFactors: HealthFactor[] = [];\n  const recommendations: string[] = [];\n\n  // ============================================================================\n  // COMPLIANCE CHECKS (40 points)\n  // ============================================================================\n\n  // Check annual report status with Florida-specific compliance rules\n  const annualReportStatus = checkAnnualReportStatus(business);\n\n  // REVOKED - Entity administratively dissolved (-30 points - CRITICAL)\n  if (annualReportStatus.isRevoked) {\n    complianceScore -= 30;\n\n    if (annualReportStatus.canBeReinstated) {\n      complianceFactors.push({\n        name: 'Administratively Dissolved',\n        impact: 30,\n        status: 'critical',\n        description: `Entity revoked on ${annualReportStatus.revocationDate?.toLocaleDateString()}. Can be reinstated within ${10 - (annualReportStatus.yearsRevoked || 0)} years. Reinstatement fee: $${annualReportStatus.reinstatementFee.toFixed(2)}`\n      });\n      recommendations.push(`‚ö†Ô∏è URGENT: Reinstate ${business.legalName} immediately. Reinstatement fee: $${annualReportStatus.reinstatementFee.toFixed(2)}. Entity can be reinstated up to ${10 - (annualReportStatus.yearsRevoked || 0)} more years.`);\n    } else {\n      complianceFactors.push({\n        name: 'Administratively Dissolved (Cannot Reinstate)',\n        impact: 30,\n        status: 'critical',\n        description: `Entity revoked more than 10 years ago. Must form new entity.`\n      });\n      recommendations.push(`‚ùå CRITICAL: ${business.legalName} cannot be reinstated (revoked >10 years). You must form a new entity.`);\n    }\n  }\n  // PENDING REVOCATION - Between 3rd and 4th Friday of September (-25 points - CRITICAL)\n  else if (annualReportStatus.isPendingRevocation) {\n    complianceScore -= 25;\n    complianceFactors.push({\n      name: 'Imminent Revocation Risk',\n      impact: 25,\n      status: 'critical',\n      description: `Entity will be administratively dissolved in ${annualReportStatus.daysUntilRevocation} days if annual report not filed. Late fee: $${annualReportStatus.lateFee}`\n    });\n    recommendations.push(`üö® URGENT: File annual report for ${business.legalName} within ${annualReportStatus.daysUntilRevocation} days to avoid administrative dissolution. Late fee: $${annualReportStatus.lateFee}`);\n  }\n  // LATE - After May 1 but before revocation deadline (-20 points)\n  else if (annualReportStatus.isLate) {\n    complianceScore -= 20;\n    complianceFactors.push({\n      name: 'Annual Report Late',\n      impact: 20,\n      status: 'critical',\n      description: `Annual report overdue. Late fee: $${annualReportStatus.lateFee}. Must file by 3rd Friday of September to avoid revocation.`\n    });\n    recommendations.push(`File annual report for ${business.legalName} immediately. Late fee: $${annualReportStatus.lateFee}. Deadline to avoid revocation: 3rd Friday of September.`);\n  }\n  // OVERDUE - After May 1 (same as LATE, kept for backward compatibility)\n  else if (annualReportStatus.isOverdue && !annualReportStatus.isLate) {\n    complianceScore -= 20;\n    complianceFactors.push({\n      name: 'Annual Report Overdue',\n      impact: 20,\n      status: 'critical',\n      description: `Annual report was due on ${annualReportStatus.dueDate?.toLocaleDateString()}`\n    });\n    recommendations.push(`File your annual report immediately to avoid $400 late fee and potential dissolution`);\n  }\n  // DUE SOON - Within 60 days of May 1 (-5 points - WARNING)\n  else if (annualReportStatus.isDueSoon) {\n    complianceScore -= 5;\n    complianceFactors.push({\n      name: 'Annual Report Due Soon',\n      impact: 5,\n      status: 'warning',\n      description: `Annual report due in ${annualReportStatus.daysUntilDue} days (by ${annualReportStatus.dueDate?.toLocaleDateString()})`\n    });\n    recommendations.push(`File your annual report for ${business.legalName} before ${annualReportStatus.dueDate?.toLocaleDateString()} to avoid $400 late fee`);\n  }\n  // REINSTATED - Recently reinstated (+2 points recovery)\n  else if (annualReportStatus.complianceStatus === 'REINSTATED') {\n    complianceScore += 2; // Bonus for getting back in compliance\n    complianceFactors.push({\n      name: 'Recently Reinstated',\n      impact: 0,\n      status: 'good',\n      description: 'Entity was recently reinstated and is now in good standing'\n    });\n  }\n\n  // Check registered agent status (-10 points if missing)\n  if (!business.registeredAgent) {\n    complianceScore -= 10;\n    complianceFactors.push({\n      name: 'No Registered Agent',\n      impact: 10,\n      status: 'critical',\n      description: 'Florida law requires all businesses to have a registered agent'\n    });\n    recommendations.push(`Add a registered agent for ${business.legalName} - required by Florida law`);\n  }\n\n  // Check if business is inactive/dissolved (-10 points)\n  if (business.status === 'INACTIVE' || business.status === 'DISSOLVED') {\n    complianceScore -= 10;\n    complianceFactors.push({\n      name: 'Business Inactive',\n      impact: 10,\n      status: 'critical',\n      description: `Business status is ${business.status}`\n    });\n    recommendations.push(`Reactivate ${business.legalName} or file dissolution paperwork`);\n  }\n\n  // ============================================================================\n  // DOCUMENT COMPLETENESS CHECKS (30 points)\n  // ============================================================================\n\n  // Check for EIN/FEI number (-10 points if missing)\n  if (!business.feiNumber) {\n    documentsScore -= 10;\n    documentFactors.push({\n      name: 'Missing EIN',\n      impact: 10,\n      status: 'warning',\n      description: 'Federal Employer Identification Number not on file'\n    });\n    recommendations.push(`Apply for an EIN for ${business.legalName} - needed for taxes, hiring, and banking`);\n  }\n\n  // Check for operating agreement (for LLCs) or bylaws (for Corps)\n  // Note: We don't have a documents table yet, so we'll skip this for now\n  // When documents are implemented, add this check:\n  // if (business.entityType === 'LLC' && !hasOperatingAgreement) {\n  //   documentsScore -= 10;\n  // }\n\n  // Check if business purpose is defined (-5 points if missing)\n  if (!business.purpose || business.purpose.trim().length === 0) {\n    documentsScore -= 5;\n    documentFactors.push({\n      name: 'Missing Business Purpose',\n      impact: 5,\n      status: 'warning',\n      description: 'Business purpose not documented (optional but recommended)'\n    });\n    recommendations.push(`Consider adding a business purpose for ${business.legalName} (optional - 80% of customers use \"Any legitimate business purpose\")`);\n  }\n\n  // Check if DBA is registered (if applicable)\n  // This is informational, not a deduction\n  if (business.dbaName) {\n    documentFactors.push({\n      name: 'DBA Registered',\n      impact: 0,\n      status: 'good',\n      description: `Doing business as \"${business.dbaName}\"`\n    });\n  }\n\n  // ============================================================================\n  // PAYMENT STATUS CHECKS (30 points)\n  // ============================================================================\n\n  // Check for overdue invoices\n  // Note: We'll need to query the Order table for unpaid invoices\n  const overdueInvoices = await prisma.order.findMany({\n    where: {\n      userId: business.client.userId,\n      orderStatus: 'PENDING',\n      createdAt: {\n        lt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000) // Older than 30 days\n      }\n    }\n  });\n\n  if (overdueInvoices.length > 0) {\n    paymentsScore -= 20;\n    paymentFactors.push({\n      name: 'Overdue Invoices',\n      impact: 20,\n      status: 'critical',\n      description: `${overdueInvoices.length} invoice(s) overdue by more than 30 days`\n    });\n    recommendations.push(`Pay ${overdueInvoices.length} overdue invoice(s) to maintain good standing`);\n  }\n\n  // Check for payment method on file\n  // Note: We'll need Stripe integration to check this\n  // For now, we'll skip this check\n  // if (!hasPaymentMethod) {\n  //   paymentsScore -= 10;\n  // }\n\n  // ============================================================================\n  // CALCULATE TOTAL SCORE\n  // ============================================================================\n\n  const totalScore = Math.max(0, Math.min(100, complianceScore + documentsScore + paymentsScore));\n\n  return {\n    totalScore,\n    compliance: {\n      score: complianceScore,\n      maxScore: 40,\n      factors: complianceFactors\n    },\n    documents: {\n      score: documentsScore,\n      maxScore: 30,\n      factors: documentFactors\n    },\n    payments: {\n      score: paymentsScore,\n      maxScore: 30,\n      factors: paymentFactors\n    },\n    recommendations\n  };\n}\n\n/**\n * Get the Nth occurrence of a weekday in a month\n * @param year - Year\n * @param month - Month (0-11)\n * @param dayOfWeek - Day of week (0=Sunday, 5=Friday)\n * @param occurrence - Which occurrence (3 = third, 4 = fourth)\n */\nfunction getNthWeekdayOfMonth(year: number, month: number, dayOfWeek: number, occurrence: number): Date {\n  const firstDay = new Date(year, month, 1);\n  const firstDayOfWeek = firstDay.getDay();\n\n  // Calculate the first occurrence of the target day\n  const firstOccurrence = 1 + ((dayOfWeek - firstDayOfWeek + 7) % 7);\n\n  // Calculate the Nth occurrence\n  const targetDate = firstOccurrence + (occurrence - 1) * 7;\n\n  return new Date(year, month, targetDate);\n}\n\n/**\n * Check annual report status for a business with Florida-specific compliance rules\n */\nfunction checkAnnualReportStatus(business: any): {\n  isOverdue: boolean;\n  isDueSoon: boolean;\n  isLate: boolean;\n  isPendingRevocation: boolean;\n  isRevoked: boolean;\n  canBeReinstated: boolean;\n  yearsRevoked: number | null;\n  daysUntilDue: number | null;\n  daysUntilRevocation: number | null;\n  dueDate: Date | null;\n  revocationDate: Date | null;\n  lateFee: number;\n  reinstatementFee: number;\n  complianceStatus: 'ACTIVE' | 'LATE' | 'PENDING_REVOCATION' | 'REVOKED' | 'REINSTATED';\n} {\n  // Florida annual reports are due between January 1 and May 1 each year\n  // Late fee of $400 applies after May 1\n  // Entity is revoked on 4th Friday of September if not filed by 3rd Friday of September\n\n  if (!business.filingDate) {\n    // If no filing date, we can't determine annual report status\n    return {\n      isOverdue: false,\n      isDueSoon: false,\n      isLate: false,\n      isPendingRevocation: false,\n      isRevoked: false,\n      canBeReinstated: false,\n      yearsRevoked: null,\n      daysUntilDue: null,\n      daysUntilRevocation: null,\n      dueDate: null,\n      revocationDate: null,\n      lateFee: 0,\n      reinstatementFee: 0,\n      complianceStatus: 'ACTIVE'\n    };\n  }\n\n  const currentDate = new Date();\n  const currentYear = currentDate.getFullYear();\n  const filingYear = new Date(business.filingDate).getFullYear();\n\n  // Calculate key dates for current year\n  const dueDate = new Date(currentYear, 4, 1); // May 1st\n  const thirdFridayOfSeptember = getNthWeekdayOfMonth(currentYear, 8, 5, 3); // 3rd Friday of September\n  const fourthFridayOfSeptember = getNthWeekdayOfMonth(currentYear, 8, 5, 4); // 4th Friday of September (revocation date)\n\n  // Check if we have a recent annual report filing\n  const hasRecentAnnualReport = business.filings?.some((filing: any) => {\n    return (\n      filing.filingType === 'ANNUAL_REPORT' &&\n      new Date(filing.createdAt).getFullYear() === currentYear\n    );\n  });\n\n  // Check if business was recently reinstated\n  const wasReinstated = business.filings?.some((filing: any) => {\n    return (\n      filing.filingType === 'REINSTATEMENT' &&\n      new Date(filing.createdAt).getFullYear() === currentYear\n    );\n  });\n\n  if (hasRecentAnnualReport) {\n    // Annual report filed for this year\n    return {\n      isOverdue: false,\n      isDueSoon: false,\n      isLate: false,\n      isPendingRevocation: false,\n      isRevoked: false,\n      canBeReinstated: false,\n      yearsRevoked: null,\n      daysUntilDue: null,\n      daysUntilRevocation: null,\n      dueDate: null,\n      revocationDate: null,\n      lateFee: 0,\n      reinstatementFee: 0,\n      complianceStatus: wasReinstated ? 'REINSTATED' : 'ACTIVE'\n    };\n  }\n\n  // Calculate days until key dates\n  const daysUntilDue = Math.ceil((dueDate.getTime() - currentDate.getTime()) / (1000 * 60 * 60 * 24));\n  const daysUntilRevocation = Math.ceil((thirdFridayOfSeptember.getTime() - currentDate.getTime()) / (1000 * 60 * 60 * 24));\n\n  // Determine compliance status\n  let complianceStatus: 'ACTIVE' | 'LATE' | 'PENDING_REVOCATION' | 'REVOKED' | 'REINSTATED' = 'ACTIVE';\n  let lateFee = 0;\n  let reinstatementFee = 0;\n  let isRevoked = false;\n  let canBeReinstated = false;\n  let yearsRevoked: number | null = null;\n\n  // Check if entity is revoked (after 4th Friday of September)\n  if (currentDate >= fourthFridayOfSeptember) {\n    isRevoked = true;\n    complianceStatus = 'REVOKED';\n\n    // Calculate years revoked\n    yearsRevoked = currentYear - filingYear;\n\n    // Check if can be reinstated (within 10 years)\n    canBeReinstated = yearsRevoked <= 10;\n\n    // Calculate reinstatement fee based on entity type\n    if (business.entityType === 'LLC') {\n      reinstatementFee = 100 + (138.75 * yearsRevoked); // $100 base + $138.75 per year\n    } else if (business.entityType === 'CORPORATION') {\n      reinstatementFee = 600 + (150 * yearsRevoked); // $600 base + $150 per year\n    } else if (business.entityType === 'NONPROFIT_CORPORATION') {\n      reinstatementFee = 175 + (61.25 * yearsRevoked); // $175 base + $61.25 per year\n    }\n  }\n  // Check if pending revocation (between 3rd and 4th Friday of September)\n  else if (currentDate >= thirdFridayOfSeptember && currentDate < fourthFridayOfSeptember) {\n    complianceStatus = 'PENDING_REVOCATION';\n    lateFee = 400; // Late fee applies\n  }\n  // Check if late (after May 1 but before revocation deadline)\n  else if (currentDate > dueDate) {\n    complianceStatus = 'LATE';\n    lateFee = 400; // $400 late fee for profit entities\n  }\n\n  return {\n    isOverdue: daysUntilDue < 0,\n    isDueSoon: daysUntilDue >= 0 && daysUntilDue <= 60, // Due within 60 days\n    isLate: complianceStatus === 'LATE',\n    isPendingRevocation: complianceStatus === 'PENDING_REVOCATION',\n    isRevoked,\n    canBeReinstated,\n    yearsRevoked,\n    daysUntilDue: daysUntilDue >= 0 ? daysUntilDue : null,\n    daysUntilRevocation: daysUntilRevocation >= 0 ? daysUntilRevocation : null,\n    dueDate: daysUntilDue >= 0 ? dueDate : null,\n    revocationDate: isRevoked ? fourthFridayOfSeptember : null,\n    lateFee,\n    reinstatementFee,\n    complianceStatus\n  };\n}\n\n/**\n * Update health score for a business (saves to database)\n */\nexport async function updateHealthScore(businessId: string): Promise<number> {\n  const breakdown = await calculateHealthScore(businessId);\n\n  await prisma.businessEntity.update({\n    where: { id: businessId },\n    data: {\n      healthScore: breakdown.totalScore,\n      lastHealthCheck: new Date()\n    }\n  });\n\n  return breakdown.totalScore;\n}\n\n/**\n * Update health scores for all businesses (background job)\n */\nexport async function updateAllHealthScores(): Promise<void> {\n  const businesses = await prisma.businessEntity.findMany({\n    select: { id: true }\n  });\n\n  for (const business of businesses) {\n    try {\n      await updateHealthScore(business.id);\n    } catch (error) {\n      console.error(`Failed to update health score for business ${business.id}:`, error);\n    }\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\helpers\\create-approval-notice.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2331,2334],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2331,2334],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":118,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3939,3942],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3939,3942],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":138,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":138,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4500,4503],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4500,4503],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Create Approval Notice Helper\n * \n * Helper function for staff to create approval notices when making substantive changes\n */\n\nimport { PrismaClient } from '@/generated/prisma';\n\nconst prisma = new PrismaClient();\n\ninterface Change {\n  field: string;\n  oldValue: string;\n  newValue: string;\n  changeType: 'SUBSTANTIVE' | 'MINOR';\n  reason: string;\n  changedBy: string;\n  changedAt: string;\n}\n\ninterface CreateApprovalNoticeParams {\n  filingId: string;\n  userId: string;\n  changes: Change[];\n  overallReason: string;\n}\n\n/**\n * Creates an approval notice for a filing with staff changes\n * Updates the filing status to PENDING_CUSTOMER_APPROVAL\n * Creates a notice for the customer to review and approve\n */\nexport async function createApprovalNotice({\n  filingId,\n  userId,\n  changes,\n  overallReason\n}: CreateApprovalNoticeParams) {\n  try {\n    // CRITICAL VALIDATION: Must have at least one change logged\n    if (!changes || changes.length === 0) {\n      throw new Error('CRITICAL ERROR: Cannot create approval notice without logging specific changes. This is required for legal compliance and customer transparency.');\n    }\n\n    // CRITICAL VALIDATION: All changes must have required fields\n    for (const change of changes) {\n      if (!change.field || !change.oldValue || !change.newValue || !change.reason || !change.changedBy) {\n        throw new Error(`CRITICAL ERROR: Change is missing required fields. All changes must include: field, oldValue, newValue, reason, and changedBy. Got: ${JSON.stringify(change)}`);\n      }\n    }\n\n    // Check if any changes are substantive\n    const hasSubstantiveChanges = changes.some(c => c.changeType === 'SUBSTANTIVE');\n\n    // Get user's auto-approve preference\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      select: {\n        autoApproveMinorChanges: true,\n        firstName: true,\n        lastName: true,\n      }\n    });\n\n    if (!hasSubstantiveChanges) {\n      // Only minor changes\n\n      // Check if user has auto-approve enabled\n      if (user?.autoApproveMinorChanges) {\n        // User pre-approved minor changes - proceed directly to READY_TO_FILE\n        await prisma.filing.update({\n          where: { id: filingId },\n          data: {\n            filingStatus: 'READY_TO_FILE',\n            staffChanges: changes as any,\n            staffChangeReason: overallReason,\n            requiresApproval: false,\n          }\n        });\n\n        // Create a notice informing customer that changes were made and auto-approved\n        const filing = await prisma.filing.findUnique({\n          where: { id: filingId },\n          include: {\n            businessEntity: {\n              select: {\n                legalName: true,\n              }\n            }\n          }\n        });\n\n        await prisma.notice.create({\n          data: {\n            userId: userId,\n            type: 'GENERAL_ALERT',\n            priority: 'SUCCESS',\n            title: `‚úì Minor Corrections Made - Filing Proceeding`,\n            message: `Our team made ${changes.length} minor correction${changes.length > 1 ? 's' : ''} to your ${filing?.businessEntity.legalName} filing and proceeded with submission (per your Fast-Track setting). You can review the changes in the filing details.`,\n            filingId: filingId,\n            actionUrl: `/dashboard/filings/${filingId}`,\n            actionLabel: 'View Changes',\n          }\n        });\n\n        return {\n          success: true,\n          requiresApproval: false,\n          autoApproved: true,\n          message: 'Filing updated with minor changes only. Auto-approved by customer preference. Ready to file.'\n        };\n      } else {\n        // User wants to review all changes - move to READY_TO_FILE without approval requirement\n        await prisma.filing.update({\n          where: { id: filingId },\n          data: {\n            filingStatus: 'READY_TO_FILE',\n            staffChanges: changes as any,\n            staffChangeReason: overallReason,\n            requiresApproval: false,\n          }\n        });\n\n        return {\n          success: true,\n          requiresApproval: false,\n          autoApproved: false,\n          message: 'Filing updated with minor changes only. Ready to file.'\n        };\n      }\n    }\n\n    // Has substantive changes - require customer approval\n    const filing = await prisma.filing.update({\n      where: { id: filingId },\n      data: {\n        filingStatus: 'PENDING_CUSTOMER_APPROVAL',\n          staffChanges: changes as any,\n          staffChangeReason: overallReason,\n          requiresApproval: false,\n      },\n      include: {\n        businessEntity: {\n          select: {\n            legalName: true,\n            documentNumber: true,\n          }\n        }\n      }\n    });\n\n    // Create approval notice for customer\n    await prisma.notice.create({\n      data: {\n        userId: userId,\n        type: 'APPROVAL_REQUIRED',\n        priority: 'URGENT',\n        title: 'ACTION REQUIRED: Approve Changes to Filing',\n        message: 'We made corrections to your filing. Please review and approve before we can submit to the state.',\n        filingId: filingId,\n        actionUrl: `/dashboard/filings/${filingId}/approve`,\n        actionLabel: 'Review & Approve',\n      }\n    });\n\n    return {\n      success: true,\n      requiresApproval: true,\n      message: 'Filing updated. Customer approval required.',\n      filing\n    };\n  } catch (error) {\n    console.error('Error creating approval notice:', error);\n    throw error;\n  }\n}\n\n/**\n * Helper to format field names for display\n */\nexport function formatFieldName(field: string): string {\n  return field\n    .split('.')\n    .map(part => part.replace(/_/g, ' '))\n    .join(' ‚Üí ')\n    .replace(/\\b\\w/g, l => l.toUpperCase());\n}\n\n/**\n * Helper to determine if a change is substantive\n * This is a simple heuristic - you may want to customize this\n */\nexport function isSubstantiveChange(field: string, oldValue: string, newValue: string): boolean {\n  // Fields that are always substantive\n  const substantiveFields = [\n    'firstName',\n    'lastName',\n    'legalName',\n    'entityName',\n    'documentNumber',\n    'ein',\n    'fei',\n    'effectiveDate',\n    'filingDate',\n    'street',\n    'city',\n    'state',\n    'zipCode',\n    'title',\n    'position',\n  ];\n\n  // Check if field contains any substantive keywords\n  const fieldLower = field.toLowerCase();\n  const isSubstantiveField = substantiveFields.some(sf => fieldLower.includes(sf.toLowerCase()));\n\n  if (isSubstantiveField) {\n    // Check if it's just a minor formatting change\n    const oldNormalized = oldValue.toLowerCase().replace(/[^a-z0-9]/g, '');\n    const newNormalized = newValue.toLowerCase().replace(/[^a-z0-9]/g, '');\n    \n    // If normalized values are the same, it's just formatting\n    if (oldNormalized === newNormalized) {\n      return false;\n    }\n    \n    return true;\n  }\n\n  return false;\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\mappers\\database-to-sunbiz.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Address' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RegisteredAgent' is defined but never used.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ManagerOfficer' is defined but never used.","line":13,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":13,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Database to Sunbiz Form Mapper\n * \n * Transforms our database records into Sunbiz-specific form formats.\n * This is the bridge between our data model and government forms.\n */\n\nimport {\n  BusinessEntityWithRelations,\n  FilingWithRelations,\n  Address,\n  RegisteredAgent,\n  ManagerOfficer,\n} from '@/types/entities';\n\n// ============================================================================\n// SUNBIZ LLC FORMATION DATA\n// ============================================================================\n\nexport interface SunbizLLCFormationData {\n  // Business Name\n  businessName: string;\n  \n  // Principal Address\n  principalAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  \n  // Mailing Address\n  mailingAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  \n  // Registered Agent\n  registeredAgent: {\n    name: string; // Full name or company name\n    address: {\n      street: string;\n      street2?: string;\n      city: string;\n      state: string;\n      zip: string;\n    };\n  };\n  \n  // Managers/Members\n  managers: Array<{\n    name: string;\n    address: string; // Formatted address string\n    type: 'MGR' | 'MBR'; // Manager or Member\n  }>;\n  \n  // Correspondence Email\n  correspondenceEmail: string;\n  \n  // Optional Fields\n  effectiveDate?: string;\n  purpose?: string;\n}\n\n/**\n * Map our database records to Sunbiz LLC Formation format\n */\nexport function mapDatabaseToSunbizLLC(\n  businessEntity: BusinessEntityWithRelations,\n  filing: FilingWithRelations\n): SunbizLLCFormationData {\n  // Get addresses\n  const principalAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'PRINCIPAL'\n  );\n\n  if (!principalAddr) {\n    throw new Error('Principal address is required for LLC formation');\n  }\n\n  const mailingAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'MAILING'\n  ) || principalAddr; // Default to principal if no mailing address\n\n  // Get registered agent\n  const agent = businessEntity.registeredAgent;\n  if (!agent) {\n    throw new Error('Registered agent is required for LLC formation');\n  }\n\n  const agentAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'REGISTERED_AGENT'\n  );\n  if (!agentAddr) {\n    throw new Error('Registered agent address is required');\n  }\n\n  // Format agent name\n  const agentName = agent.agentType === 'COMPANY'\n    ? agent.companyName!\n    : `${agent.firstName} ${agent.lastName}`;\n\n  // Get managers\n  const managers = (businessEntity.managersOfficers || []).map((manager) => ({\n    name: `${manager.firstName} ${manager.lastName}`,\n    address: manager.address,\n    type: manager.roleType === 'MANAGER' ? 'MGR' as const : 'MBR' as const,\n  }));\n\n  // Get correspondence email from filing data\n  const correspondenceEmail = filing.filingData.correspondenceEmail as string;\n\n  return {\n    businessName: businessEntity.legalName,\n    principalAddress: {\n      street: principalAddr.street,\n      street2: principalAddr.street2,\n      city: principalAddr.city,\n      state: principalAddr.state,\n      zip: principalAddr.zipCode,\n    },\n    mailingAddress: {\n      street: mailingAddr.street,\n      street2: mailingAddr.street2,\n      city: mailingAddr.city,\n      state: mailingAddr.state,\n      zip: mailingAddr.zipCode,\n    },\n    registeredAgent: {\n      name: agentName,\n      address: {\n        street: agentAddr.street,\n        street2: agentAddr.street2,\n        city: agentAddr.city,\n        state: agentAddr.state,\n        zip: agentAddr.zipCode,\n      },\n    },\n    managers,\n    correspondenceEmail,\n    effectiveDate: filing.filingData.effectiveDate as string | undefined,\n    purpose: filing.filingData.purpose as string | undefined,\n  };\n}\n\n// ============================================================================\n// SUNBIZ CORPORATION FORMATION DATA\n// ============================================================================\n\nexport interface SunbizCorporationFormationData {\n  // Business Name\n  businessName: string;\n  \n  // Corporation Type\n  corporationType: 'FOR_PROFIT' | 'NONPROFIT';\n  \n  // Principal Address\n  principalAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  \n  // Mailing Address\n  mailingAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  \n  // Registered Agent\n  registeredAgent: {\n    name: string;\n    address: {\n      street: string;\n      street2?: string;\n      city: string;\n      state: string;\n      zip: string;\n    };\n  };\n  \n  // Officers\n  officers: Array<{\n    name: string;\n    title: string; // President, Secretary, Treasurer, etc.\n    address: string;\n  }>;\n  \n  // Directors\n  directors: Array<{\n    name: string;\n    address: string;\n  }>;\n  \n  // Stock Information (For-Profit only)\n  authorizedShares?: number;\n  parValue?: number;\n  \n  // Correspondence Email\n  correspondenceEmail: string;\n  \n  // Optional Fields\n  effectiveDate?: string;\n  purpose?: string;\n}\n\n/**\n * Map our database records to Sunbiz Corporation Formation format\n */\nexport function mapDatabaseToSunbizCorporation(\n  businessEntity: BusinessEntityWithRelations,\n  filing: FilingWithRelations\n): SunbizCorporationFormationData {\n  // Get addresses\n  const principalAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'PRINCIPAL'\n  );\n\n  if (!principalAddr) {\n    throw new Error('Principal address is required for Corporation formation');\n  }\n\n  const mailingAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'MAILING'\n  ) || principalAddr;\n\n  // Get registered agent\n  const agent = businessEntity.registeredAgent;\n  if (!agent) {\n    throw new Error('Registered agent is required for Corporation formation');\n  }\n\n  const agentAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'REGISTERED_AGENT'\n  );\n  if (!agentAddr) {\n    throw new Error('Registered agent address is required');\n  }\n\n  const agentName = agent.agentType === 'COMPANY'\n    ? agent.companyName!\n    : `${agent.firstName} ${agent.lastName}`;\n\n  // Separate officers and directors\n  const officers = (businessEntity.managersOfficers || [])\n    .filter((person) => \n      ['PRESIDENT', 'VICE_PRESIDENT', 'SECRETARY', 'TREASURER'].includes(person.roleType)\n    )\n    .map((officer) => ({\n      name: `${officer.firstName} ${officer.lastName}`,\n      title: formatOfficerTitle(officer.roleType),\n      address: officer.address,\n    }));\n\n  const directors = (businessEntity.managersOfficers || [])\n    .filter((person) => person.roleType === 'DIRECTOR')\n    .map((director) => ({\n      name: `${director.firstName} ${director.lastName}`,\n      address: director.address,\n    }));\n\n  const correspondenceEmail = filing.filingData.correspondenceEmail as string;\n  const corporationType = filing.filingData.corporationType as 'FOR_PROFIT' | 'NONPROFIT';\n\n  return {\n    businessName: businessEntity.legalName,\n    corporationType,\n    principalAddress: {\n      street: principalAddr.street,\n      street2: principalAddr.street2,\n      city: principalAddr.city,\n      state: principalAddr.state,\n      zip: principalAddr.zipCode,\n    },\n    mailingAddress: {\n      street: mailingAddr.street,\n      street2: mailingAddr.street2,\n      city: mailingAddr.city,\n      state: mailingAddr.state,\n      zip: mailingAddr.zipCode,\n    },\n    registeredAgent: {\n      name: agentName,\n      address: {\n        street: agentAddr.street,\n        street2: agentAddr.street2,\n        city: agentAddr.city,\n        state: agentAddr.state,\n        zip: agentAddr.zipCode,\n      },\n    },\n    officers,\n    directors,\n    authorizedShares: filing.filingData.authorizedShares as number | undefined,\n    parValue: filing.filingData.parValue as number | undefined,\n    correspondenceEmail,\n    effectiveDate: filing.filingData.effectiveDate as string | undefined,\n    purpose: filing.filingData.purpose as string | undefined,\n  };\n}\n\n// ============================================================================\n// SUNBIZ ANNUAL REPORT DATA\n// ============================================================================\n\nexport interface SunbizAnnualReportData {\n  // Document Number (from existing entity)\n  documentNumber: string;\n  \n  // Current Information\n  businessName: string;\n  principalAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  mailingAddress: {\n    street: string;\n    street2?: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  registeredAgent: {\n    name: string;\n    address: {\n      street: string;\n      street2?: string;\n      city: string;\n      state: string;\n      zip: string;\n    };\n  };\n  \n  // Officers/Managers\n  officersManagers: Array<{\n    name: string;\n    title: string;\n    address: string;\n  }>;\n  \n  // Confirmation\n  confirmInformationCurrent: boolean;\n  \n  // Correspondence Email\n  correspondenceEmail: string;\n}\n\n/**\n * Map our database records to Sunbiz Annual Report format\n */\nexport function mapDatabaseToSunbizAnnualReport(\n  businessEntity: BusinessEntityWithRelations,\n  filing: FilingWithRelations\n): SunbizAnnualReportData {\n  if (!businessEntity.documentNumber) {\n    throw new Error('Document number is required for annual report filing');\n  }\n\n  const principalAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'PRINCIPAL'\n  );\n\n  if (!principalAddr) {\n    throw new Error('Principal address is required');\n  }\n\n  const mailingAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'MAILING'\n  ) || principalAddr;\n\n  const agent = businessEntity.registeredAgent;\n  if (!agent) {\n    throw new Error('Registered agent is required');\n  }\n\n  const agentAddr = businessEntity.addresses?.find(\n    (addr) => addr.addressType === 'REGISTERED_AGENT'\n  );\n  if (!agentAddr) {\n    throw new Error('Registered agent address is required');\n  }\n\n  const agentName = agent.agentType === 'COMPANY'\n    ? agent.companyName!\n    : `${agent.firstName} ${agent.lastName}`;\n\n  const officersManagers = (businessEntity.managersOfficers || []).map((person) => ({\n    name: `${person.firstName} ${person.lastName}`,\n    title: person.title || formatOfficerTitle(person.roleType),\n    address: person.address,\n  }));\n\n  return {\n    documentNumber: businessEntity.documentNumber,\n    businessName: businessEntity.legalName,\n    principalAddress: {\n      street: principalAddr.street,\n      street2: principalAddr.street2,\n      city: principalAddr.city,\n      state: principalAddr.state,\n      zip: principalAddr.zipCode,\n    },\n    mailingAddress: {\n      street: mailingAddr.street,\n      street2: mailingAddr.street2,\n      city: mailingAddr.city,\n      state: mailingAddr.state,\n      zip: mailingAddr.zipCode,\n    },\n    registeredAgent: {\n      name: agentName,\n      address: {\n        street: agentAddr.street,\n        street2: agentAddr.street2,\n        city: agentAddr.city,\n        state: agentAddr.state,\n        zip: agentAddr.zipCode,\n      },\n    },\n    officersManagers,\n    confirmInformationCurrent: filing.filingData.confirmCurrentInformation as boolean,\n    correspondenceEmail: filing.filingData.correspondenceEmail as string,\n  };\n}\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\nfunction formatOfficerTitle(roleType: string): string {\n  const titleMap: Record<string, string> = {\n    PRESIDENT: 'President',\n    VICE_PRESIDENT: 'Vice President',\n    SECRETARY: 'Secretary',\n    TREASURER: 'Treasurer',\n    DIRECTOR: 'Director',\n    MANAGER: 'Manager',\n    MEMBER: 'Member',\n  };\n  return titleMap[roleType] || roleType;\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\mappers\\form-to-database.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Client' is defined but never used.","line":9,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":9}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Form to Database Mapper\n * \n * Transforms user form data into database records.\n * Handles data normalization and relationship creation.\n */\n\nimport {\n  Client,\n  BusinessEntity,\n  Address,\n  RegisteredAgent,\n  ManagerOfficer,\n  Filing,\n} from '@/types/entities';\n\nimport {\n  LLCFormationFormData,\n  CorporationFormationFormData,\n  AnnualReportFormData,\n  AddressFormData,\n} from '@/types/forms';\n\nimport {\n  EntityType,\n  EntityStatus,\n  FilingType,\n  FilingStatus,\n  AddressType,\n  AgentType,\n  RoleType,\n} from '@/types/entities';\n\n// ============================================================================\n// ADDRESS MAPPING\n// ============================================================================\n\nexport function mapAddressFormToDatabase(\n  addressData: AddressFormData,\n  addressType: AddressType,\n  ownerId: string,\n  ownerType: 'client' | 'businessEntity' | 'registeredAgent'\n): Omit<Address, 'id' | 'createdAt' | 'updatedAt'> {\n  return {\n    street: addressData.street,\n    street2: addressData.street2,\n    city: addressData.city,\n    state: addressData.state,\n    zipCode: addressData.zipCode,\n    country: addressData.country || 'USA',\n    addressType,\n    clientId: ownerType === 'client' ? ownerId : undefined,\n    businessEntityId: ownerType === 'businessEntity' ? ownerId : undefined,\n    registeredAgentId: ownerType === 'registeredAgent' ? ownerId : undefined,\n  };\n}\n\n// ============================================================================\n// LLC FORMATION MAPPING\n// ============================================================================\n\nexport interface LLCFormationDatabaseRecords {\n  businessEntity: Omit<BusinessEntity, 'id' | 'createdAt' | 'updatedAt'>;\n  addresses: Array<Omit<Address, 'id' | 'createdAt' | 'updatedAt'>>;\n  registeredAgent: Omit<RegisteredAgent, 'id' | 'createdAt' | 'updatedAt'>;\n  managers: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>>;\n  filing: Omit<Filing, 'id' | 'createdAt' | 'updatedAt'>;\n}\n\nexport function mapLLCFormationToDatabase(\n  formData: LLCFormationFormData,\n  clientId: string,\n  businessEntityId: string, // Pre-generated ID\n  registeredAgentId: string  // Pre-generated ID\n): LLCFormationDatabaseRecords {\n  // 1. Business Entity\n  const businessEntity: Omit<BusinessEntity, 'id' | 'createdAt' | 'updatedAt'> = {\n    clientId,\n    legalName: formData.businessName,\n    dbaName: undefined,\n    entityType: EntityType.LLC,\n    stateOfFormation: 'FL',\n    documentNumber: undefined, // Will be filled after state approval\n    filingDate: undefined,\n    status: EntityStatus.PENDING,\n    purpose: formData.purpose,\n  };\n\n  // 2. Addresses\n  const addresses: Array<Omit<Address, 'id' | 'createdAt' | 'updatedAt'>> = [];\n\n  // Principal Address\n  addresses.push(\n    mapAddressFormToDatabase(\n      formData.principalAddress,\n      AddressType.PRINCIPAL,\n      businessEntityId,\n      'businessEntity'\n    )\n  );\n\n  // Mailing Address\n  if (formData.mailingAddressOption === 'DIFFERENT' && formData.mailingAddress) {\n    addresses.push(\n      mapAddressFormToDatabase(\n        formData.mailingAddress,\n        AddressType.MAILING,\n        businessEntityId,\n        'businessEntity'\n      )\n    );\n  }\n  // Note: If SAME_AS_PRINCIPAL or SAME_AS_PERSONAL, we'll handle that in the service layer\n\n  // 3. Registered Agent\n  let registeredAgent: Omit<RegisteredAgent, 'id' | 'createdAt' | 'updatedAt'>;\n\n  if (formData.registeredAgentOption === 'LEGALOPS') {\n    registeredAgent = {\n      businessEntityId,\n      agentType: AgentType.LEGALOPS,\n      firstName: undefined,\n      lastName: undefined,\n      companyName: 'LegalOps Registered Agent Services',\n      email: '[email protected]',\n      phone: '(800) 555-LEGAL',\n      serviceStartDate: new Date(),\n      serviceEndDate: undefined,\n      isActive: true,\n    };\n  } else if (formData.registeredAgentOption === 'NEW' && formData.newRegisteredAgent) {\n    const agent = formData.newRegisteredAgent;\n    registeredAgent = {\n      businessEntityId,\n      agentType: agent.agentType,\n      firstName: agent.firstName,\n      lastName: agent.lastName,\n      companyName: agent.companyName,\n      email: agent.email,\n      phone: agent.phone,\n      serviceStartDate: new Date(),\n      serviceEndDate: undefined,\n      isActive: true,\n    };\n\n    // Add agent address\n    addresses.push(\n      mapAddressFormToDatabase(\n        agent.address,\n        AddressType.REGISTERED_AGENT,\n        registeredAgentId,\n        'registeredAgent'\n      )\n    );\n  } else {\n    // SELF or EXISTING - will be handled in service layer\n    throw new Error('SELF and EXISTING agent options must be handled in service layer');\n  }\n\n  // 4. Managers\n  const managers: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>> = [];\n\n  for (const manager of formData.managers) {\n    if (manager.option === 'NEW') {\n      managers.push({\n        businessEntityId,\n        firstName: manager.firstName!,\n        lastName: manager.lastName!,\n        title: manager.title,\n        roleType: manager.roleType,\n        email: manager.email,\n        phone: manager.phone,\n        address: manager.address,\n      });\n    }\n    // SELF option will be handled in service layer\n  }\n\n  // 5. Filing Record\n  const filing: Omit<Filing, 'id' | 'createdAt' | 'updatedAt'> = {\n    businessEntityId,\n    filingType: FilingType.LLC_FORMATION,\n    filingStatus: FilingStatus.DRAFT,\n    filingData: {\n      // Store all form data as JSON for reference\n      businessName: formData.businessName,\n      effectiveDate: formData.effectiveDate,\n      duration: formData.duration,\n      dissolutionDate: formData.dissolutionDate,\n      purpose: formData.purpose,\n      managementStructure: formData.managementStructure,\n      expeditedProcessing: formData.expeditedProcessing,\n      certifiedCopy: formData.certifiedCopy,\n      correspondenceEmail: formData.correspondenceEmail,\n    },\n    confirmationNumber: undefined,\n    trackingNumber: undefined,\n    filedDate: undefined,\n    approvedDate: undefined,\n    submittedAt: undefined,\n  };\n\n  return {\n    businessEntity,\n    addresses,\n    registeredAgent,\n    managers,\n    filing,\n  };\n}\n\n// ============================================================================\n// CORPORATION FORMATION MAPPING\n// ============================================================================\n\nexport interface CorporationFormationDatabaseRecords {\n  businessEntity: Omit<BusinessEntity, 'id' | 'createdAt' | 'updatedAt'>;\n  addresses: Array<Omit<Address, 'id' | 'createdAt' | 'updatedAt'>>;\n  registeredAgent: Omit<RegisteredAgent, 'id' | 'createdAt' | 'updatedAt'>;\n  officers: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>>;\n  directors: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>>;\n  filing: Omit<Filing, 'id' | 'createdAt' | 'updatedAt'>;\n}\n\nexport function mapCorporationFormationToDatabase(\n  formData: CorporationFormationFormData,\n  clientId: string,\n  businessEntityId: string,\n  registeredAgentId: string\n): CorporationFormationDatabaseRecords {\n  // Similar structure to LLC mapping\n  const businessEntity: Omit<BusinessEntity, 'id' | 'createdAt' | 'updatedAt'> = {\n    clientId,\n    legalName: formData.businessName,\n    dbaName: undefined,\n    entityType: formData.corporationType === 'NONPROFIT' \n      ? EntityType.NONPROFIT_CORPORATION \n      : EntityType.CORPORATION,\n    stateOfFormation: 'FL',\n    documentNumber: undefined,\n    filingDate: undefined,\n    status: EntityStatus.PENDING,\n    purpose: formData.purpose,\n  };\n\n  const addresses: Array<Omit<Address, 'id' | 'createdAt' | 'updatedAt'>> = [];\n  \n  addresses.push(\n    mapAddressFormToDatabase(\n      formData.principalAddress,\n      AddressType.PRINCIPAL,\n      businessEntityId,\n      'businessEntity'\n    )\n  );\n\n  if (formData.mailingAddressOption === 'DIFFERENT' && formData.mailingAddress) {\n    addresses.push(\n      mapAddressFormToDatabase(\n        formData.mailingAddress,\n        AddressType.MAILING,\n        businessEntityId,\n        'businessEntity'\n      )\n    );\n  }\n\n  // Registered Agent (similar to LLC)\n  let registeredAgent: Omit<RegisteredAgent, 'id' | 'createdAt' | 'updatedAt'>;\n  \n  if (formData.registeredAgentOption === 'LEGALOPS') {\n    registeredAgent = {\n      businessEntityId,\n      agentType: AgentType.LEGALOPS,\n      firstName: undefined,\n      lastName: undefined,\n      companyName: 'LegalOps Registered Agent Services',\n      email: '[email protected]',\n      phone: '(800) 555-LEGAL',\n      serviceStartDate: new Date(),\n      serviceEndDate: undefined,\n      isActive: true,\n    };\n  } else if (formData.registeredAgentOption === 'NEW' && formData.newRegisteredAgent) {\n    const agent = formData.newRegisteredAgent;\n    registeredAgent = {\n      businessEntityId,\n      agentType: agent.agentType,\n      firstName: agent.firstName,\n      lastName: agent.lastName,\n      companyName: agent.companyName,\n      email: agent.email,\n      phone: agent.phone,\n      serviceStartDate: new Date(),\n      serviceEndDate: undefined,\n      isActive: true,\n    };\n\n    addresses.push(\n      mapAddressFormToDatabase(\n        agent.address,\n        AddressType.REGISTERED_AGENT,\n        registeredAgentId,\n        'registeredAgent'\n      )\n    );\n  } else {\n    throw new Error('SELF and EXISTING agent options must be handled in service layer');\n  }\n\n  // Officers\n  const officers: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>> = [];\n  for (const officer of formData.officers) {\n    if (officer.option === 'NEW') {\n      officers.push({\n        businessEntityId,\n        firstName: officer.firstName!,\n        lastName: officer.lastName!,\n        title: undefined,\n        roleType: officer.roleType,\n        email: officer.email,\n        phone: officer.phone,\n        address: officer.address,\n      });\n    }\n  }\n\n  // Directors\n  const directors: Array<Omit<ManagerOfficer, 'id' | 'createdAt' | 'updatedAt'>> = [];\n  for (const director of formData.directors) {\n    if (director.option === 'NEW') {\n      directors.push({\n        businessEntityId,\n        firstName: director.firstName!,\n        lastName: director.lastName!,\n        title: 'Director',\n        roleType: RoleType.DIRECTOR,\n        email: director.email,\n        phone: director.phone,\n        address: director.address,\n      });\n    }\n  }\n\n  const filing: Omit<Filing, 'id' | 'createdAt' | 'updatedAt'> = {\n    businessEntityId,\n    filingType: FilingType.CORP_FORMATION,\n    filingStatus: FilingStatus.DRAFT,\n    filingData: {\n      businessName: formData.businessName,\n      corporationType: formData.corporationType,\n      effectiveDate: formData.effectiveDate,\n      purpose: formData.purpose,\n      authorizedShares: formData.authorizedShares,\n      parValue: formData.parValue,\n      stockClasses: formData.stockClasses,\n      expeditedProcessing: formData.expeditedProcessing,\n      certifiedCopy: formData.certifiedCopy,\n      correspondenceEmail: formData.correspondenceEmail,\n    },\n    confirmationNumber: undefined,\n    trackingNumber: undefined,\n    filedDate: undefined,\n    approvedDate: undefined,\n    submittedAt: undefined,\n  };\n\n  return {\n    businessEntity,\n    addresses,\n    registeredAgent,\n    officers,\n    directors,\n    filing,\n  };\n}\n\n// ============================================================================\n// ANNUAL REPORT MAPPING\n// ============================================================================\n\nexport function mapAnnualReportToDatabase(\n  formData: AnnualReportFormData,\n  businessEntityId: string\n): Omit<Filing, 'id' | 'createdAt' | 'updatedAt'> {\n  return {\n    businessEntityId,\n    filingType: FilingType.ANNUAL_REPORT,\n    filingStatus: FilingStatus.DRAFT,\n    filingData: {\n      confirmCurrentInformation: formData.confirmCurrentInformation,\n      hasChanges: formData.hasChanges,\n      changes: formData.changes,\n      correspondenceEmail: formData.correspondenceEmail,\n    },\n    confirmationNumber: undefined,\n    trackingNumber: undefined,\n    filedDate: undefined,\n    approvedDate: undefined,\n    submittedAt: undefined,\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\services\\ai-risk-scoring.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\services\\disclaimer-logging.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'customerId' is defined but never used.","line":79,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":79,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Disclaimer Acceptance Logging Service\n * \n * CRITICAL: This service handles logging and persistence of all disclaimer acceptances\n * for legal protection and audit trail purposes.\n * \n * All disclaimer acceptances MUST be:\n * 1. Saved to the customer's database record\n * 2. Timestamped with ISO 8601 format\n * 3. Preserved for minimum 7 years (recommended for legal compliance)\n * 4. Included in customer data exports\n * 5. Available for audit and legal review\n */\n\nimport { AddressDisclaimerAcceptance } from './usps-address-validation';\n\n/**\n * Save disclaimer acceptance to customer record\n * \n * @param customerId - The customer ID\n * @param acceptance - The disclaimer acceptance record\n * @returns Promise that resolves when saved\n */\nexport async function saveDisclaimerAcceptance(\n  customerId: string,\n  acceptance: AddressDisclaimerAcceptance\n): Promise<void> {\n  try {\n    // TODO: Implement database save\n    // Example implementation:\n    /*\n    await prisma.customer.update({\n      where: { id: customerId },\n      data: {\n        disclaimerAcceptances: {\n          create: {\n            timestamp: acceptance.timestamp,\n            issueType: acceptance.issueType,\n            addressUsed: acceptance.addressUsed,\n            uspsValidatedAddress: acceptance.uspsValidatedAddress,\n            acknowledgedRisk: acceptance.acknowledgedRisk,\n            confirmedProceed: acceptance.confirmedProceed,\n            disclaimer1Text: acceptance.disclaimer1Text,\n            disclaimer2Text: acceptance.disclaimer2Text,\n            ipAddress: acceptance.ipAddress,\n            userAgent: acceptance.userAgent,\n            context: acceptance.context,\n          }\n        }\n      }\n    });\n    */\n\n    // Also log to audit trail\n    console.log('üìù DISCLAIMER ACCEPTANCE SAVED:', {\n      customerId,\n      timestamp: acceptance.timestamp,\n      issueType: acceptance.issueType,\n    });\n\n    // TODO: Send to audit logging service\n    // await auditLog.log('DISCLAIMER_ACCEPTED', { customerId, acceptance });\n\n  } catch (error) {\n    console.error('‚ùå CRITICAL ERROR: Failed to save disclaimer acceptance:', error);\n    // This is a critical error - should alert administrators\n    // await alertAdministrators('DISCLAIMER_SAVE_FAILED', { customerId, error });\n    throw error;\n  }\n}\n\n/**\n * Get all disclaimer acceptances for a customer\n * \n * @param customerId - The customer ID\n * @returns Array of disclaimer acceptances\n */\nexport async function getCustomerDisclaimerAcceptances(\n  customerId: string\n): Promise<AddressDisclaimerAcceptance[]> {\n  try {\n    // TODO: Implement database query\n    // Example implementation:\n    /*\n    const acceptances = await prisma.disclaimerAcceptance.findMany({\n      where: { customerId },\n      orderBy: { timestamp: 'desc' }\n    });\n    return acceptances;\n    */\n\n    return [];\n  } catch (error) {\n    console.error('Error fetching disclaimer acceptances:', error);\n    throw error;\n  }\n}\n\n/**\n * Export disclaimer acceptances for a customer (for data export/GDPR compliance)\n * \n * @param customerId - The customer ID\n * @returns JSON string of all acceptances\n */\nexport async function exportCustomerDisclaimers(\n  customerId: string\n): Promise<string> {\n  const acceptances = await getCustomerDisclaimerAcceptances(customerId);\n  \n  return JSON.stringify({\n    customerId,\n    exportDate: new Date().toISOString(),\n    totalAcceptances: acceptances.length,\n    acceptances,\n  }, null, 2);\n}\n\n/**\n * Validate that a disclaimer acceptance record is complete and valid\n * \n * @param acceptance - The disclaimer acceptance to validate\n * @returns true if valid, throws error if invalid\n */\nexport function validateDisclaimerAcceptance(\n  acceptance: AddressDisclaimerAcceptance\n): boolean {\n  const errors: string[] = [];\n\n  if (!acceptance.timestamp) {\n    errors.push('Missing timestamp');\n  }\n\n  if (!acceptance.issueType) {\n    errors.push('Missing issue type');\n  }\n\n  if (!acceptance.addressUsed) {\n    errors.push('Missing address used');\n  }\n\n  if (!acceptance.acknowledgedRisk) {\n    errors.push('User did not acknowledge risk');\n  }\n\n  if (!acceptance.confirmedProceed) {\n    errors.push('User did not confirm proceed');\n  }\n\n  if (!acceptance.disclaimer1Text || acceptance.disclaimer1Text.length < 50) {\n    errors.push('Disclaimer 1 text is missing or too short');\n  }\n\n  if (!acceptance.disclaimer2Text || acceptance.disclaimer2Text.length < 50) {\n    errors.push('Disclaimer 2 text is missing or too short');\n  }\n\n  if (errors.length > 0) {\n    throw new Error(`Invalid disclaimer acceptance: ${errors.join(', ')}`);\n  }\n\n  return true;\n}\n\n/**\n * Format disclaimer acceptance for display in legal documents\n * \n * @param acceptance - The disclaimer acceptance\n * @returns Formatted text for legal documents\n */\nexport function formatDisclaimerForLegalDocument(\n  acceptance: AddressDisclaimerAcceptance\n): string {\n  const date = new Date(acceptance.timestamp);\n  \n  return `\nDISCLAIMER ACCEPTANCE RECORD\n\nDate/Time: ${date.toLocaleString('en-US', { \n  dateStyle: 'full', \n  timeStyle: 'long',\n  timeZone: 'America/New_York' \n})}\n\nIssue Type: ${acceptance.issueType}\n\nAddress Used:\n${acceptance.addressUsed.address2}\n${acceptance.addressUsed.address1 ? acceptance.addressUsed.address1 + '\\n' : ''}${acceptance.addressUsed.city}, ${acceptance.addressUsed.state} ${acceptance.addressUsed.zip5}${acceptance.addressUsed.zip4 ? '-' + acceptance.addressUsed.zip4 : ''}\n\n${acceptance.uspsValidatedAddress ? `\nUSPS Validated Address:\n${acceptance.uspsValidatedAddress.address2}\n${acceptance.uspsValidatedAddress.address1 ? acceptance.uspsValidatedAddress.address1 + '\\n' : ''}${acceptance.uspsValidatedAddress.city}, ${acceptance.uspsValidatedAddress.state} ${acceptance.uspsValidatedAddress.zip5}${acceptance.uspsValidatedAddress.zip4 ? '-' + acceptance.uspsValidatedAddress.zip4 : ''}\n` : ''}\n\nDISCLAIMERS ACCEPTED:\n\n1. ${acceptance.disclaimer1Text}\n\n2. ${acceptance.disclaimer2Text}\n\nCustomer ID: ${acceptance.customerId || 'N/A'}\nIP Address: ${acceptance.ipAddress || 'N/A'}\nUser Agent: ${acceptance.userAgent || 'N/A'}\n\nThis disclaimer acceptance is legally binding and has been recorded in the customer's permanent record.\n`;\n}\n\n/**\n * Check if customer has any unverified address disclaimers\n * (useful for showing warnings in dashboard)\n * \n * @param customerId - The customer ID\n * @returns true if customer has unverified address disclaimers\n */\nexport async function hasUnverifiedAddressDisclaimers(\n  customerId: string\n): Promise<boolean> {\n  const acceptances = await getCustomerDisclaimerAcceptances(customerId);\n  return acceptances.some(a => a.issueType === 'UNVERIFIED');\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\services\\email-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\services\\usps-address-validation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":250,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":250,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7574,7577],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7574,7577],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'matches' is assigned a value but never used.","line":266,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":266,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":284,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":284,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8956,8959],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8956,8959],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":285,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":285,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9004,9007],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9004,9007],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":287,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":287,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9087,9090],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9087,9090],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":288,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":288,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9161,9164],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9161,9164],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":289,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":289,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9207,9210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9207,9210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":291,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":291,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9282,9285],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9282,9285],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":304,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9819,9822],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9819,9822],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - USPS Address Validation Service\n *\n * Validates and standardizes addresses using the USPS Addresses API (v3.0).\n * Ensures addresses match USPS standards for government document filing.\n *\n * API Documentation: https://developer.usps.com/\n * API Endpoint: https://api.usps.com/addresses/v3/address\n */\n\n// Types\nexport interface AddressInput {\n  firmName?: string;\n  address1?: string; // Secondary address (apt, suite, etc.)\n  address2: string;  // Primary street address (REQUIRED)\n  city?: string;\n  state?: string;\n  zip5?: string;\n  zip4?: string;\n}\n\nexport interface AddressValidationResult {\n  success: boolean;\n  validated: boolean;\n  original: AddressInput;\n  standardized?: StandardizedAddress;\n  suggestions?: StandardizedAddress[];\n  error?: string;\n  warnings?: string[];\n  metadata?: USPSMetadata;\n}\n\nexport interface StandardizedAddress {\n  firmName?: string;\n  address1?: string;\n  address2: string;\n  city: string;\n  state: string;\n  zip5: string;\n  zip4?: string;\n  urbanization?: string;\n  deliveryPoint?: string;\n  carrierRoute?: string;\n}\n\nexport interface USPSMetadata {\n  dpvConfirmation?: 'Y' | 'D' | 'S' | 'N'; // Delivery Point Validation\n  dpvCMRA?: 'Y' | 'N'; // Commercial Mail Receiving Agency\n  dpvFootnotes?: string;\n  business?: 'Y' | 'N';\n  centralDeliveryPoint?: 'Y' | 'N';\n  vacant?: 'Y' | 'N';\n  footnotes?: string;\n  returnText?: string;\n}\n\n/**\n * Address Validation Disclaimer Acceptance Record\n * CRITICAL: Must be preserved in customer data file for legal protection\n */\nexport interface AddressDisclaimerAcceptance {\n  /** Timestamp when disclaimer was accepted (ISO 8601 format) */\n  timestamp: string;\n  /** Type of address issue that required disclaimer */\n  issueType: 'UNVERIFIED' | 'MISSING_SECONDARY' | 'CORRECTED_BY_USPS';\n  /** The address the user chose to use */\n  addressUsed: AddressInput;\n  /** The USPS-validated address (if available) */\n  uspsValidatedAddress?: StandardizedAddress;\n  /** Whether user acknowledged the risks */\n  acknowledgedRisk: boolean;\n  /** Whether user confirmed proceeding */\n  confirmedProceed: boolean;\n  /** Full text of disclaimer 1 that was accepted */\n  disclaimer1Text: string;\n  /** Full text of disclaimer 2 that was accepted */\n  disclaimer2Text: string;\n  /** IP address of user (if available) */\n  ipAddress?: string;\n  /** User agent string */\n  userAgent?: string;\n  /** Customer ID who accepted the disclaimer */\n  customerId?: string;\n  /** Any additional context */\n  context?: string;\n}\n\n/**\n * USPS Address Validation Service (v3.0 REST API)\n */\nexport class USPSAddressValidationService {\n  private clientId: string;\n  private clientSecret: string;\n  private apiUrl: string;\n  private accessToken: string | null = null;\n  private tokenExpiry: number = 0;\n\n  constructor() {\n    this.clientId = process.env.USPS_CLIENT_ID || '';\n    this.clientSecret = process.env.USPS_CLIENT_SECRET || '';\n    this.apiUrl = 'https://apis.usps.com';\n\n    if (!this.clientId || !this.clientSecret) {\n      console.warn('USPS API credentials not configured. Address validation will not work.');\n      console.warn('Please set USPS_CLIENT_ID and USPS_CLIENT_SECRET environment variables.');\n    }\n  }\n\n  /**\n   * Get OAuth 2.0 access token\n   */\n  private async getAccessToken(): Promise<string> {\n    // Return cached token if still valid\n    if (this.accessToken && Date.now() < this.tokenExpiry) {\n      return this.accessToken;\n    }\n\n    try {\n      // USPS OAuth 2.0 Client Credentials flow\n      // Per USPS documentation: pass Consumer Key and Secret as client_id and client_secret\n      const response = await fetch(`${this.apiUrl}/oauth2/v3/token`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          client_id: this.clientId,\n          client_secret: this.clientSecret,\n          grant_type: 'client_credentials',\n        }),\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`Failed to get access token: ${response.status} ${response.statusText} - ${errorText}`);\n      }\n\n      const data = await response.json();\n      this.accessToken = data.access_token;\n      // Set expiry to 5 minutes before actual expiry for safety\n      this.tokenExpiry = Date.now() + (data.expires_in - 300) * 1000;\n\n      if (!this.accessToken) {\n        throw new Error('No access token received from USPS API');\n      }\n\n      return this.accessToken;\n    } catch (error) {\n      console.error('Error getting USPS access token:', error);\n      throw new Error('Failed to authenticate with USPS API');\n    }\n  }\n\n  /**\n   * Validate a single address using USPS v3 API\n   */\n  async validateAddress(address: AddressInput): Promise<AddressValidationResult> {\n    try {\n      // Validate input\n      if (!address.address2) {\n        return {\n          success: false,\n          validated: false,\n          original: address,\n          error: 'Street address (address2) is required'\n        };\n      }\n\n      if (!this.clientId || !this.clientSecret) {\n        return {\n          success: false,\n          validated: false,\n          original: address,\n          error: 'USPS API not configured. Please set USPS_CLIENT_ID and USPS_CLIENT_SECRET environment variables.'\n        };\n      }\n\n      // Get access token\n      const token = await this.getAccessToken();\n\n      // Build query parameters (USPS Address API uses GET with query params)\n      const params = new URLSearchParams();\n      params.append('streetAddress', address.address2);\n      if (address.address1) params.append('secondaryAddress', address.address1);\n      if (address.city) params.append('city', address.city);\n      if (address.state) params.append('state', address.state);\n      if (address.zip5) params.append('ZIPCode', address.zip5);\n      if (address.zip4) params.append('ZIPPlus4', address.zip4);\n      if (address.firmName) params.append('firm', address.firmName);\n\n      // Call USPS API (GET request)\n      const response = await fetch(`${this.apiUrl}/addresses/v3/address?${params.toString()}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('USPS API Error:', errorText);\n        return {\n          success: false,\n          validated: false,\n          original: address,\n          error: `USPS API request failed: ${response.status} ${response.statusText}`\n        };\n      }\n\n      const data = await response.json();\n\n      // Parse response\n      const result = this.parseAPIResponse(data, address);\n\n      return result;\n\n    } catch (error) {\n      console.error('USPS Address Validation Error:', error);\n      return {\n        success: false,\n        validated: false,\n        original: address,\n        error: error instanceof Error ? error.message : 'Unknown error occurred'\n      };\n    }\n  }\n\n  /**\n   * Validate multiple addresses (one at a time for v3 API)\n   */\n  async validateAddresses(addresses: AddressInput[]): Promise<AddressValidationResult[]> {\n    if (addresses.length === 0) {\n      return [];\n    }\n\n    // v3 API doesn't support batch requests, so validate one at a time\n    const results: AddressValidationResult[] = [];\n\n    for (const address of addresses) {\n      const result = await this.validateAddress(address);\n      results.push(result);\n    }\n\n    return results;\n  }\n\n  /**\n   * Parse USPS v3 API response\n   */\n  private parseAPIResponse(data: any, original: AddressInput): AddressValidationResult {\n    try {\n      // Check for error in response\n      if (data.error || data.errors) {\n        return {\n          success: false,\n          validated: false,\n          original,\n          error: data.error?.message || data.errors?.[0]?.message || 'Address validation failed'\n        };\n      }\n\n      // USPS v3 API response structure has nested objects\n      const addressData = data.address || {};\n      const additionalInfo = data.additionalInfo || {};\n      const corrections = data.corrections || [];\n      const matches = data.matches || [];\n\n      // Extract standardized address from response\n      const standardized: StandardizedAddress = {\n        firmName: data.firm || original.firmName,\n        address1: addressData.secondaryAddress || original.address1,\n        address2: addressData.streetAddress || original.address2,\n        city: addressData.city || original.city,\n        state: addressData.state || original.state,\n        zip5: addressData.ZIPCode || original.zip5,\n        zip4: addressData.ZIPPlus4 || original.zip4,\n        urbanization: addressData.urbanization,\n        deliveryPoint: additionalInfo.deliveryPoint,\n        carrierRoute: additionalInfo.carrierRoute\n      };\n\n      // Extract metadata\n      const metadata: USPSMetadata = {\n        dpvConfirmation: additionalInfo.DPVConfirmation as any,\n        dpvCMRA: additionalInfo.DPVCMRA as any,\n        dpvFootnotes: undefined,\n        business: additionalInfo.business as any,\n        centralDeliveryPoint: additionalInfo.centralDeliveryPoint as any,\n        vacant: additionalInfo.vacant as any,\n        footnotes: undefined,\n        returnText: corrections.map((c: any) => c.text).join(' ')\n      };\n\n      // Determine validation status based on DPV confirmation and match codes\n      // Y = fully validated, D = primary validated (missing secondary), S = primary validated (secondary not confirmed)\n      const dpv = additionalInfo.DPVConfirmation;\n      const validated = dpv === 'Y';\n      const partiallyValidated = dpv === 'D' || dpv === 'S';\n\n      // Collect warnings and corrections\n      const warnings: string[] = [];\n\n      // Add correction messages\n      corrections.forEach((correction: any) => {\n        if (correction.text) {\n          warnings.push(correction.text);\n        }\n      });\n\n      // Add DPV-based warnings\n      if (dpv === 'D') {\n        warnings.push('Address confirmed for primary number only. Secondary number (apt/suite) may be missing.');\n      } else if (dpv === 'S') {\n        warnings.push('Address confirmed for primary number only. Secondary number not confirmed.');\n      } else if (dpv === 'N') {\n        warnings.push('Address could not be confirmed by USPS.');\n      }\n\n      // Add other warnings\n      if (additionalInfo.vacant === 'Y') {\n        warnings.push('This address appears to be vacant.');\n      }\n\n      return {\n        success: true,\n        validated: validated || partiallyValidated,\n        original,\n        standardized,\n        metadata,\n        warnings: warnings.length > 0 ? warnings : undefined\n      };\n\n    } catch (error) {\n      console.error('Error parsing USPS response:', error);\n      return {\n        success: false,\n        validated: false,\n        original,\n        error: 'Failed to parse USPS response'\n      };\n    }\n  }\n}\n\n// Export singleton instance\nexport const uspsAddressValidation = new USPSAddressValidationService();\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\sunbiz-agent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":85,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":85,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1703,1706],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1703,1706],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":384,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":384,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11816,11819],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11816,11819],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Sunbiz AI Filing Agent\n * \n * Automates form filling and submission to Florida's Sunbiz.org\n * using Playwright browser automation\n */\n\nimport { chromium, Browser, Page } from 'playwright';\nimport { writeFile } from 'fs/promises';\nimport { join } from 'path';\n\n// Types\nexport interface LLCFormationData {\n  businessName: string;\n  principalAddress: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  mailingAddress?: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  registeredAgent: {\n    name: string;\n    address: {\n      street: string;\n      city: string;\n      state: string;\n      zip: string;\n    };\n  };\n  managers?: Array<{\n    name: string;\n    address: string;\n    type: 'MGR' | 'AR'; // Manager or Authorized Representative\n  }>;\n  effectiveDate?: string; // YYYY-MM-DD\n  correspondenceEmail: string;\n}\n\nexport interface CorporationFormationData {\n  corporationName: string;\n  numberOfShares: number;\n  principalAddress: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  mailingAddress?: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n  registeredAgent: {\n    name: string;\n    address: {\n      street: string;\n      city: string;\n      state: string;\n      zip: string;\n    };\n  };\n  incorporator: {\n    name: string;\n  };\n  purpose: string; // \"any lawful business\" or specific purpose\n  officers?: Array<{\n    title: string; // President, Secretary, etc.\n    name: string;\n    address: string;\n  }>;\n  effectiveDate?: string;\n  correspondenceEmail: string;\n}\n\nexport interface FilingResult {\n  success: boolean;\n  screenshot: Buffer;\n  formData?: any;\n  confidence: number; // 0.0 to 1.0\n  errors?: string[];\n  page?: Page;\n  browser?: Browser;\n}\n\nexport interface SubmissionResult {\n  success: boolean;\n  confirmationNumber?: string;\n  screenshot: Buffer;\n  timestamp: Date;\n  errorMessage?: string;\n}\n\n/**\n * Sunbiz Filing Agent\n * Handles automated form filling and submission\n */\nexport class SunbizFilingAgent {\n  private browser?: Browser;\n  private screenshotDir: string;\n\n  constructor(screenshotDir: string = './filing-screenshots') {\n    this.screenshotDir = screenshotDir;\n  }\n\n  /**\n   * Initialize browser\n   */\n  private async initBrowser(headless: boolean = false): Promise<Browser> {\n    if (!this.browser) {\n      this.browser = await chromium.launch({\n        headless,\n        slowMo: 100, // Slow down to appear more human-like\n      });\n    }\n    return this.browser;\n  }\n\n  /**\n   * Save screenshot to disk\n   */\n  private async saveScreenshot(screenshot: Buffer, filename: string): Promise<string> {\n    const filepath = join(this.screenshotDir, filename);\n    await writeFile(filepath, screenshot);\n    return filepath;\n  }\n\n  /**\n   * Add human-like delays\n   */\n  private async humanDelay(min: number = 500, max: number = 1500): Promise<void> {\n    const delay = Math.random() * (max - min) + min;\n    await new Promise(resolve => setTimeout(resolve, delay));\n  }\n\n  /**\n   * Fill LLC Formation Form\n   */\n  async fillLLCFormation(data: LLCFormationData, headless: boolean = false): Promise<FilingResult> {\n    const browser = await this.initBrowser(headless);\n    const page = await browser.newPage();\n\n    const errors: string[] = [];\n\n    try {\n      console.log('ü§ñ AI Agent: Navigating to Sunbiz e-filing menu...');\n      await page.goto('https://efile.sunbiz.org/onlmenu.html', {\n        waitUntil: 'networkidle',\n      });\n\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Clicking \"New Florida Limited Liability Company or LLC\" link...');\n      // Click the LLC formation link\n      await page.click('text=New Florida Limited Liability Company or LLC');\n\n      // Wait for the disclaimer page to load\n      await page.waitForLoadState('networkidle');\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Accepting disclaimer and starting new filing...');\n      // Check the \"I have read and accept\" checkbox\n      await page.check('input[type=\"checkbox\"]');\n      await this.humanDelay();\n\n      // Click \"Start New Filing\" button\n      await page.click('text=Start New Filing');\n\n      // Wait for the actual form page to load\n      await page.waitForLoadState('networkidle');\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Filling business name...');\n      await page.fill('input[name=\"limited_liability_company_name\"]', data.businessName);\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Filling principal address...');\n      await page.fill('input[name=\"principal_street_address\"]', data.principalAddress.street);\n      await page.fill('input[name=\"principal_city\"]', data.principalAddress.city);\n      await page.fill('input[name=\"principal_state\"]', data.principalAddress.state);\n      await page.fill('input[name=\"principal_zip\"]', data.principalAddress.zip);\n      await this.humanDelay();\n\n      // Mailing address (if different)\n      if (data.mailingAddress) {\n        console.log('ü§ñ AI Agent: Filling mailing address...');\n        await page.fill('input[name=\"mailing_street_address\"]', data.mailingAddress.street);\n        await page.fill('input[name=\"mailing_city\"]', data.mailingAddress.city);\n        await page.fill('input[name=\"mailing_state\"]', data.mailingAddress.state);\n        await page.fill('input[name=\"mailing_zip\"]', data.mailingAddress.zip);\n        await this.humanDelay();\n      }\n\n      console.log('ü§ñ AI Agent: Filling registered agent...');\n      await page.fill('input[name=\"registered_agent_name\"]', data.registeredAgent.name);\n      await page.fill('input[name=\"registered_agent_street\"]', data.registeredAgent.address.street);\n      await page.fill('input[name=\"registered_agent_city\"]', data.registeredAgent.address.city);\n      await page.fill('input[name=\"registered_agent_state\"]', data.registeredAgent.address.state);\n      await page.fill('input[name=\"registered_agent_zip\"]', data.registeredAgent.address.zip);\n      await this.humanDelay();\n\n      // Registered agent signature (typed name)\n      console.log('ü§ñ AI Agent: Adding registered agent signature...');\n      await page.fill('input[name=\"registered_agent_signature\"]', data.registeredAgent.name);\n      await this.humanDelay();\n\n      // Managers/Authorized Representatives (optional)\n      if (data.managers && data.managers.length > 0) {\n        console.log('ü§ñ AI Agent: Adding managers...');\n        for (let i = 0; i < data.managers.length; i++) {\n          const manager = data.managers[i];\n          await page.fill(`input[name=\"manager_${i + 1}_name\"]`, manager.name);\n          await page.fill(`input[name=\"manager_${i + 1}_address\"]`, manager.address);\n          await page.selectOption(`select[name=\"manager_${i + 1}_type\"]`, manager.type);\n          await this.humanDelay(300, 800);\n        }\n      }\n\n      // Effective date (optional)\n      if (data.effectiveDate) {\n        console.log('ü§ñ AI Agent: Setting effective date...');\n        await page.fill('input[name=\"effective_date\"]', data.effectiveDate);\n        await this.humanDelay();\n      }\n\n      // Correspondence email\n      console.log('ü§ñ AI Agent: Adding correspondence email...');\n      await page.fill('input[name=\"correspondence_email\"]', data.correspondenceEmail);\n      await this.humanDelay();\n\n      // Authorized representative signature\n      console.log('ü§ñ AI Agent: Adding authorized representative signature...');\n      await page.fill('input[name=\"authorized_rep_signature\"]', data.correspondenceEmail);\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Taking screenshot of completed form...');\n      const screenshot = await page.screenshot({ fullPage: true });\n\n      // Calculate confidence based on filled fields\n      const confidence = this.calculateConfidence(data, errors);\n\n      console.log(`‚úÖ AI Agent: Form filled successfully (confidence: ${(confidence * 100).toFixed(1)}%)`);\n\n      return {\n        success: true,\n        screenshot,\n        formData: data,\n        confidence,\n        errors: errors.length > 0 ? errors : undefined,\n        page,\n        browser,\n      };\n\n    } catch (error) {\n      console.error('‚ùå AI Agent: Error filling form:', error);\n      \n      const screenshot = await page.screenshot({ fullPage: true });\n      \n      return {\n        success: false,\n        screenshot,\n        confidence: 0,\n        errors: [error instanceof Error ? error.message : 'Unknown error'],\n        page,\n        browser,\n      };\n    }\n  }\n\n  /**\n   * Fill Corporation Formation Form\n   */\n  async fillCorporationFormation(data: CorporationFormationData, headless: boolean = false): Promise<FilingResult> {\n    const browser = await this.initBrowser(headless);\n    const page = await browser.newPage();\n    \n    const errors: string[] = [];\n    \n    try {\n      console.log('ü§ñ AI Agent: Navigating to corporation formation page...');\n      await page.goto('https://efile.sunbiz.org/corp_filing.html', {\n        waitUntil: 'networkidle',\n      });\n\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Filling corporation name...');\n      await page.fill('input[name=\"corporation_name\"]', data.corporationName);\n      await this.humanDelay();\n\n      console.log('ü§ñ AI Agent: Filling number of shares...');\n      await page.fill('input[name=\"number_of_shares\"]', data.numberOfShares.toString());\n      await this.humanDelay();\n\n      // Similar process as LLC...\n      // (Implementation continues with corporation-specific fields)\n\n      const screenshot = await page.screenshot({ fullPage: true });\n      const confidence = this.calculateConfidence(data, errors);\n\n      console.log(`‚úÖ AI Agent: Corporation form filled (confidence: ${(confidence * 100).toFixed(1)}%)`);\n\n      return {\n        success: true,\n        screenshot,\n        formData: data,\n        confidence,\n        errors: errors.length > 0 ? errors : undefined,\n        page,\n        browser,\n      };\n\n    } catch (error) {\n      console.error('‚ùå AI Agent: Error filling corporation form:', error);\n      \n      const screenshot = await page.screenshot({ fullPage: true });\n      \n      return {\n        success: false,\n        screenshot,\n        confidence: 0,\n        errors: [error instanceof Error ? error.message : 'Unknown error'],\n        page,\n        browser,\n      };\n    }\n  }\n\n  /**\n   * Submit the form (after human review)\n   */\n  async submitForm(page: Page): Promise<SubmissionResult> {\n    try {\n      console.log('ü§ñ AI Agent: Submitting form to Sunbiz...');\n      \n      // Click submit button\n      await page.click('button[type=\"submit\"], input[type=\"submit\"]');\n      \n      // Wait for confirmation page\n      await page.waitForSelector('.confirmation, #confirmation', {\n        timeout: 30000,\n      });\n\n      await this.humanDelay(1000, 2000);\n\n      // Extract confirmation number\n      const confirmationNumber = await page.textContent('.confirmation-number, #confirmation_number');\n      \n      console.log(`‚úÖ AI Agent: Submission successful! Confirmation: ${confirmationNumber}`);\n\n      // Take screenshot of confirmation\n      const screenshot = await page.screenshot({ fullPage: true });\n\n      return {\n        success: true,\n        confirmationNumber: confirmationNumber || undefined,\n        screenshot,\n        timestamp: new Date(),\n      };\n\n    } catch (error) {\n      console.error('‚ùå AI Agent: Submission failed:', error);\n      \n      const screenshot = await page.screenshot({ fullPage: true });\n      \n      return {\n        success: false,\n        screenshot,\n        timestamp: new Date(),\n        errorMessage: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  /**\n   * Calculate confidence score based on data completeness\n   */\n  private calculateConfidence(data: any, errors: string[]): number {\n    let score = 1.0;\n    \n    // Reduce confidence for each error\n    score -= errors.length * 0.1;\n    \n    // Reduce confidence for missing optional fields\n    if (!data.mailingAddress) score -= 0.05;\n    if (!data.managers || data.managers.length === 0) score -= 0.05;\n    if (!data.effectiveDate) score -= 0.05;\n    \n    return Math.max(0, Math.min(1, score));\n  }\n\n  /**\n   * Close browser\n   */\n  async close(): Promise<void> {\n    if (this.browser) {\n      await this.browser.close();\n      this.browser = undefined;\n    }\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\sunbiz-checker.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":194,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":194,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":220,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":220,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Florida Sunbiz Business Name Availability Checker\n * \n * Implements Florida's official name distinguishability rules from:\n * https://dos.fl.gov/sunbiz/about-us/faqs/\n * \n * Names are NOT distinguishable (considered the same) if they only differ by:\n * 1. Suffixes (LLC, Inc., Corp., Co., Ltd., etc.)\n * 2. Articles (the, a, an)\n * 3. \"and\" vs \"&\"\n * 4. Singular vs plural vs possessive\n * 5. Punctuation and symbols\n */\n\n/**\n * Normalize a business name according to Florida's distinguishability rules\n */\nexport function normalizeBusinessName(name: string): string {\n  let normalized = name.toLowerCase().trim();\n\n  // Remove all punctuation and symbols (rule 5)\n  normalized = normalized.replace(/[^\\w\\s]/g, ' ');\n\n  // Replace multiple spaces with single space\n  normalized = normalized.replace(/\\s+/g, ' ');\n\n  // Remove articles (rule 2): the, a, an\n  normalized = normalized.replace(/\\b(the|a|an)\\b/g, '');\n\n  // Replace \"and\" with \"&\" for consistency (rule 3)\n  normalized = normalized.replace(/\\band\\b/g, '&');\n\n  // Remove common business suffixes (rule 1)\n  const suffixes = [\n    'llc',\n    'l l c',\n    'limited liability company',\n    'limited liability co',\n    'inc',\n    'incorporated',\n    'corp',\n    'corporation',\n    'co',\n    'company',\n    'ltd',\n    'limited',\n    'lp',\n    'limited partnership',\n    'llp',\n    'limited liability partnership',\n    'lllp',\n    'limited liability limited partnership',\n    'gp',\n    'general partnership',\n    'pa',\n    'professional association',\n    'pllc',\n    'professional limited liability company',\n    'pl',\n    'professional limited',\n  ];\n\n  // Remove suffixes from the end\n  for (const suffix of suffixes) {\n    const regex = new RegExp(`\\\\b${suffix}\\\\b\\\\s*$`, 'gi');\n    normalized = normalized.replace(regex, '');\n  }\n\n  // Handle singular/plural/possessive (rule 4)\n  // This is complex, so we'll do basic normalization\n  // Remove trailing 's or s'\n  normalized = normalized.replace(/('s|s')$/g, '');\n  \n  // Clean up extra spaces again\n  normalized = normalized.replace(/\\s+/g, ' ').trim();\n\n  return normalized;\n}\n\n/**\n * Check if two business names are distinguishable according to Florida law\n */\nexport function areNamesDistinguishable(name1: string, name2: string): boolean {\n  const normalized1 = normalizeBusinessName(name1);\n  const normalized2 = normalizeBusinessName(name2);\n  \n  return normalized1 !== normalized2;\n}\n\n/**\n * Entity status from Sunbiz\n */\nexport type EntityStatus = 'ACTIVE' | 'ACT' | 'INACTIVE/UA' | 'INACT/UA' | 'INACTIVE' | 'INACT';\n\n/**\n * Sunbiz search result\n */\nexport interface SunbizEntity {\n  name: string;\n  documentNumber: string;\n  status: EntityStatus;\n  filingDate?: string;\n  entityType?: string;\n}\n\n/**\n * Name availability result\n */\nexport interface NameAvailabilityResult {\n  available: boolean;\n  searchedName: string;\n  normalizedName: string;\n  conflicts: SunbizEntity[];\n  message: string;\n  suggestions?: string[];\n}\n\n/**\n * Check if an entity status makes the name unavailable\n * \n * According to Florida law:\n * - ACTIVE or ACT: Name is NOT available\n * - INACTIVE/UA or INACT/UA: Name is NOT available (held for 1 year or 120 days)\n * - INACTIVE or INACT: Name IS available\n */\nexport function isNameAvailableByStatus(status: EntityStatus): boolean {\n  const unavailableStatuses: EntityStatus[] = ['ACTIVE', 'ACT', 'INACTIVE/UA', 'INACT/UA'];\n  return !unavailableStatuses.includes(status);\n}\n\n/**\n * Search local Florida entity database for existing entities with similar names\n *\n * This searches our local database of Florida entities downloaded from Sunbiz.org\n * Searches across: Corporations, LLCs, LPs, DBAs, and General Partnerships\n */\nexport async function searchSunbiz(businessName: string): Promise<SunbizEntity[]> {\n  // Import prisma dynamically to avoid issues in client-side code\n  const { PrismaClient } = await import('../generated/prisma');\n  const prisma = new PrismaClient();\n\n  try {\n    // Normalize the search name\n    const normalizedSearch = normalizeBusinessName(businessName);\n\n    const results: SunbizEntity[] = [];\n\n    // Search 1: Corporate entities (Corporations, LLCs, LPs, PLLCs, PAs, etc.)\n    try {\n      const corporateEntities = await prisma.floridaEntity.findMany({\n        where: {\n          normalizedName: {\n            contains: normalizedSearch,\n          },\n        },\n        take: 30, // Limit to 30 results\n        orderBy: {\n          lastUpdated: 'desc',\n        },\n      });\n\n      results.push(...corporateEntities.map(entity => ({\n        name: entity.name,\n        documentNumber: entity.documentNumber,\n        status: entity.status as EntityStatus,\n        filingDate: entity.filingDate?.toISOString(),\n        entityType: entity.entityType || undefined,\n      })));\n    } catch (error) {\n      console.error('Error searching corporate entities:', error);\n    }\n\n    // Search 2: Fictitious Names (DBAs)\n    try {\n      const fictitiousNames = await prisma.fictitiousName.findMany({\n        where: {\n          normalizedName: {\n            contains: normalizedSearch,\n          },\n        },\n        take: 10, // Limit to 10 results\n        orderBy: {\n          lastUpdated: 'desc',\n        },\n      });\n\n      results.push(...fictitiousNames.map(entity => ({\n        name: entity.fictitiousName,\n        documentNumber: entity.documentNumber,\n        status: entity.status as EntityStatus,\n        filingDate: entity.filingDate?.toISOString(),\n        entityType: 'DBA',\n      })));\n    } catch (error) {\n      // Table might not exist yet if DBAs haven't been imported\n      console.log('Fictitious names table not available (not imported yet)');\n    }\n\n    // Search 3: General Partnerships\n    try {\n      const partnerships = await prisma.generalPartnership.findMany({\n        where: {\n          normalizedName: {\n            contains: normalizedSearch,\n          },\n        },\n        take: 10, // Limit to 10 results\n        orderBy: {\n          lastUpdated: 'desc',\n        },\n      });\n\n      results.push(...partnerships.map(entity => ({\n        name: entity.name,\n        documentNumber: entity.documentNumber,\n        status: entity.status as EntityStatus,\n        filingDate: entity.filingDate?.toISOString(),\n        entityType: 'General Partnership',\n      })));\n    } catch (error) {\n      // Table might not exist yet if GPs haven't been imported\n      console.log('General partnerships table not available (not imported yet)');\n    }\n\n    // Sort all results by filing date (most recent first)\n    results.sort((a, b) => {\n      if (!a.filingDate) return 1;\n      if (!b.filingDate) return -1;\n      return new Date(b.filingDate).getTime() - new Date(a.filingDate).getTime();\n    });\n\n    // Return top 50 results\n    return results.slice(0, 50);\n\n  } catch (error) {\n    console.error('Error searching Florida entities:', error);\n    return [];\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n/**\n * Check business name availability\n */\nexport async function checkNameAvailability(\n  businessName: string,\n  entityType: string\n): Promise<NameAvailabilityResult> {\n  const normalizedName = normalizeBusinessName(businessName);\n  \n  // Search Sunbiz for existing entities\n  const sunbizResults = await searchSunbiz(businessName);\n  \n  // Filter for conflicts (names that are not distinguishable)\n  const conflicts = sunbizResults.filter(entity => {\n    // Check if names are distinguishable\n    if (areNamesDistinguishable(businessName, entity.name)) {\n      return false;\n    }\n    \n    // Check if the status makes it unavailable\n    return !isNameAvailableByStatus(entity.status);\n  });\n  \n  const available = conflicts.length === 0;\n  \n  // Generate suggestions if name is not available\n  const suggestions = available ? undefined : generateNameSuggestions(businessName, entityType);\n  \n  return {\n    available,\n    searchedName: businessName,\n    normalizedName,\n    conflicts,\n    message: available\n      ? `\"${businessName}\" appears to be available!`\n      : `\"${businessName}\" is not available. ${conflicts.length} similar ${conflicts.length === 1 ? 'entity' : 'entities'} found.`,\n    suggestions,\n  };\n}\n\n/**\n * Generate alternative name suggestions\n */\nexport function generateNameSuggestions(businessName: string, entityType: string): string[] {\n  const suggestions: string[] = [];\n  const baseName = normalizeBusinessName(businessName);\n  \n  // Add location-based suggestions\n  suggestions.push(`${baseName} Florida`);\n  suggestions.push(`${baseName} FL`);\n  suggestions.push(`${baseName} Group`);\n  suggestions.push(`${baseName} Solutions`);\n  suggestions.push(`${baseName} Services`);\n  suggestions.push(`${baseName} Enterprises`);\n  \n  // Add year\n  const currentYear = new Date().getFullYear();\n  suggestions.push(`${baseName} ${currentYear}`);\n  \n  // Add entity-specific suggestions\n  if (entityType === 'LLC') {\n    suggestions.push(`${baseName} Ventures`);\n    suggestions.push(`${baseName} Holdings`);\n  } else if (entityType === 'CORPORATION') {\n    suggestions.push(`${baseName} Corporation`);\n    suggestions.push(`${baseName} International`);\n  }\n  \n  return suggestions.slice(0, 5); // Return top 5 suggestions\n}\n\n/**\n * Validate business name format\n */\nexport function validateBusinessNameFormat(name: string): {\n  valid: boolean;\n  errors: string[];\n} {\n  const errors: string[] = [];\n  \n  // Check minimum length\n  if (name.trim().length < 3) {\n    errors.push('Business name must be at least 3 characters long');\n  }\n  \n  // Check maximum length\n  if (name.length > 100) {\n    errors.push('Business name must be less than 100 characters');\n  }\n  \n  // Check for prohibited characters\n  const prohibitedChars = /[<>{}[\\]\\\\\\/]/;\n  if (prohibitedChars.test(name)) {\n    errors.push('Business name contains prohibited characters');\n  }\n  \n  // Check if name is only numbers\n  if (/^\\d+$/.test(name.trim())) {\n    errors.push('Business name cannot consist only of numbers');\n  }\n  \n  // Check for profanity or prohibited words (basic check)\n  const prohibitedWords = ['fbi', 'cia', 'treasury', 'federal reserve', 'united states'];\n  const lowerName = name.toLowerCase();\n  for (const word of prohibitedWords) {\n    if (lowerName.includes(word)) {\n      errors.push(`Business name cannot contain \"${word}\"`);\n    }\n  }\n  \n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\utils\\format-field-name.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'passwordField' is assigned a value but never used.","line":236,"column":45,"nodeType":null,"messageId":"unusedVar","endLine":236,"endColumn":58}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps Validation Utilities\n * \n * Standardized validation patterns for common field types.\n * These validators are used across all forms in the application.\n * \n * @module validation\n */\n\nimport { z } from 'zod';\n\n/**\n * U.S. ZIP Code Validation\n * Accepts both 5-digit (12345) and 9-digit (12345-6789) formats\n */\nexport const zipCodeSchema = z.string()\n  .regex(/^\\d{5}(-\\d{4})?$/, 'ZIP code must be in format 12345 or 12345-6789')\n  .transform(val => val.trim());\n\nexport const validateZipCode = (value: string): boolean => {\n  return /^\\d{5}(-\\d{4})?$/.test(value.trim());\n};\n\nexport const formatZipCode = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, '');\n  if (cleaned.length <= 5) {\n    return cleaned;\n  }\n  return `${cleaned.slice(0, 5)}-${cleaned.slice(5, 9)}`;\n};\n\n/**\n * U.S. Phone Number Validation\n * Accepts format: (###) ###-####\n * Also accepts 10 digits without formatting\n */\nexport const phoneSchema = z.string()\n  .regex(/^(\\(\\d{3}\\)\\s?\\d{3}-\\d{4}|\\d{10})$/, 'Phone number must be in format (###) ###-#### or 10 digits')\n  .transform(val => {\n    const cleaned = val.replace(/\\D/g, '');\n    if (cleaned.length === 10) {\n      return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\n    }\n    return val.trim();\n  });\n\nexport const validatePhone = (value: string): boolean => {\n  const cleaned = value.replace(/\\D/g, '');\n  return cleaned.length === 10;\n};\n\nexport const formatPhone = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, '');\n  if (cleaned.length === 0) return '';\n  if (cleaned.length <= 3) return `(${cleaned}`;\n  if (cleaned.length <= 6) return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3)}`;\n  return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6, 10)}`;\n};\n\n/**\n * Social Security Number (SSN) Validation\n * Format: XXX-XX-XXXX\n */\nexport const ssnSchema = z.string()\n  .regex(/^\\d{3}-\\d{2}-\\d{4}$/, 'SSN must be in format XXX-XX-XXXX')\n  .transform(val => val.trim());\n\nexport const validateSSN = (value: string): boolean => {\n  return /^\\d{3}-\\d{2}-\\d{4}$/.test(value.trim());\n};\n\nexport const formatSSN = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, '');\n  if (cleaned.length === 0) return '';\n  if (cleaned.length <= 3) return cleaned;\n  if (cleaned.length <= 5) return `${cleaned.slice(0, 3)}-${cleaned.slice(3)}`;\n  return `${cleaned.slice(0, 3)}-${cleaned.slice(3, 5)}-${cleaned.slice(5, 9)}`;\n};\n\n/**\n * Employer Identification Number (EIN) Validation\n * Format: XX-XXXXXXX\n */\nexport const einSchema = z.string()\n  .regex(/^\\d{2}-\\d{7}$/, 'EIN must be in format XX-XXXXXXX')\n  .transform(val => val.trim());\n\nexport const validateEIN = (value: string): boolean => {\n  return /^\\d{2}-\\d{7}$/.test(value.trim());\n};\n\nexport const formatEIN = (value: string): string => {\n  const cleaned = value.replace(/\\D/g, '');\n  if (cleaned.length === 0) return '';\n  if (cleaned.length <= 2) return cleaned;\n  return `${cleaned.slice(0, 2)}-${cleaned.slice(2, 9)}`;\n};\n\n/**\n * Email Validation\n * RFC 5322 compliant email validation\n */\nexport const emailSchema = z.string()\n  .email('Please enter a valid email address')\n  .transform(val => val.trim().toLowerCase());\n\nexport const validateEmail = (value: string): boolean => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(value.trim());\n};\n\n/**\n * URL Validation\n * Validates HTTP/HTTPS URLs\n */\nexport const urlSchema = z.string()\n  .url('Please enter a valid URL (must start with http:// or https://)')\n  .transform(val => val.trim());\n\nexport const validateURL = (value: string): boolean => {\n  try {\n    const url = new URL(value);\n    return url.protocol === 'http:' || url.protocol === 'https:';\n  } catch {\n    return false;\n  }\n};\n\n/**\n * Florida Document Number Validation\n * Format: L followed by 14 digits (e.g., L19000012345)\n * Or P followed by 14 digits for partnerships\n */\nexport const documentNumberSchema = z.string()\n  .regex(/^[LP]\\d{14}$/, 'Document number must be L or P followed by 14 digits')\n  .transform(val => val.trim().toUpperCase());\n\nexport const validateDocumentNumber = (value: string): boolean => {\n  return /^[LP]\\d{14}$/i.test(value.trim());\n};\n\nexport const formatDocumentNumber = (value: string): string => {\n  const cleaned = value.replace(/[^LP0-9]/gi, '').toUpperCase();\n  return cleaned.slice(0, 15);\n};\n\n/**\n * Date Validation\n * ISO 8601 format (YYYY-MM-DD)\n */\nexport const dateSchema = z.string()\n  .regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in format YYYY-MM-DD')\n  .refine(val => {\n    const date = new Date(val);\n    return !isNaN(date.getTime());\n  }, 'Please enter a valid date');\n\nexport const validateDate = (value: string): boolean => {\n  if (!/^\\d{4}-\\d{2}-\\d{2}$/.test(value)) return false;\n  const date = new Date(value);\n  return !isNaN(date.getTime());\n};\n\n/**\n * Numeric Range Validation\n */\nexport const createNumericRangeSchema = (min?: number, max?: number, fieldName: string = 'Value') => {\n  let schema = z.number();\n  \n  if (min !== undefined) {\n    schema = schema.min(min, `${fieldName} must be at least ${min}`);\n  }\n  \n  if (max !== undefined) {\n    schema = schema.max(max, `${fieldName} must be at most ${max}`);\n  }\n  \n  return schema;\n};\n\n/**\n * Required String Validation\n */\nexport const requiredStringSchema = (fieldName: string = 'This field') => {\n  return z.string()\n    .min(1, `${fieldName} is required`)\n    .transform(val => val.trim());\n};\n\n/**\n * Optional String Validation\n */\nexport const optionalStringSchema = z.string()\n  .optional()\n  .transform(val => val?.trim() || undefined);\n\n/**\n * Password Validation\n * Minimum 8 characters, at least one uppercase, one lowercase, one number, one special character\n */\nexport const passwordSchema = z.string()\n  .min(8, 'Password must be at least 8 characters')\n  .regex(/[A-Z]/, 'Password must contain at least one uppercase letter')\n  .regex(/[a-z]/, 'Password must contain at least one lowercase letter')\n  .regex(/[0-9]/, 'Password must contain at least one number')\n  .regex(/[^A-Za-z0-9]/, 'Password must contain at least one special character');\n\nexport const validatePassword = (value: string): { valid: boolean; errors: string[] } => {\n  const errors: string[] = [];\n  \n  if (value.length < 8) {\n    errors.push('Password must be at least 8 characters');\n  }\n  if (!/[A-Z]/.test(value)) {\n    errors.push('Password must contain at least one uppercase letter');\n  }\n  if (!/[a-z]/.test(value)) {\n    errors.push('Password must contain at least one lowercase letter');\n  }\n  if (!/[0-9]/.test(value)) {\n    errors.push('Password must contain at least one number');\n  }\n  if (!/[^A-Za-z0-9]/.test(value)) {\n    errors.push('Password must contain at least one special character');\n  }\n  \n  return {\n    valid: errors.length === 0,\n    errors\n  };\n};\n\n/**\n * Confirm Password Validation\n */\nexport const createConfirmPasswordSchema = (passwordField: string = 'password') => {\n  return z.string()\n    .min(1, 'Please confirm your password');\n};\n\n/**\n * Business Name Validation\n * Must not be empty and should not contain certain special characters\n */\nexport const businessNameSchema = z.string()\n  .min(1, 'Business name is required')\n  .max(200, 'Business name must be less than 200 characters')\n  .regex(/^[a-zA-Z0-9\\s\\-.,&'()]+$/, 'Business name contains invalid characters')\n  .transform(val => val.trim());\n\nexport const validateBusinessName = (value: string): boolean => {\n  return value.trim().length > 0 && \n         value.length <= 200 && \n         /^[a-zA-Z0-9\\s\\-.,&'()]+$/.test(value);\n};\n\n/**\n * Street Address Validation\n */\nexport const streetAddressSchema = z.string()\n  .min(1, 'Street address is required')\n  .max(100, 'Street address must be less than 100 characters')\n  .transform(val => val.trim());\n\n/**\n * City Validation\n */\nexport const citySchema = z.string()\n  .min(1, 'City is required')\n  .max(50, 'City must be less than 50 characters')\n  .regex(/^[a-zA-Z\\s\\-.']+$/, 'City contains invalid characters')\n  .transform(val => val.trim());\n\n/**\n * State Validation (US States)\n */\nexport const stateSchema = z.string()\n  .length(2, 'State must be a 2-letter code')\n  .regex(/^[A-Z]{2}$/, 'State must be a valid 2-letter code')\n  .transform(val => val.trim().toUpperCase());\n\n/**\n * Validation Error Formatter\n * Converts Zod errors to user-friendly messages\n */\nexport const formatValidationErrors = (errors: z.ZodError): Record<string, string> => {\n  const formatted: Record<string, string> = {};\n\n  errors.issues.forEach(error => {\n    const path = error.path.join('.');\n    formatted[path] = error.message;\n  });\n\n  return formatted;\n};\n\n/**\n * Form Data Validator\n * Generic function to validate form data against a schema\n */\nexport const validateFormData = <T>(\n  schema: z.ZodSchema<T>,\n  data: unknown\n): { success: true; data: T } | { success: false; errors: Record<string, string> } => {\n  const result = schema.safeParse(data);\n  \n  if (result.success) {\n    return { success: true, data: result.data };\n  }\n  \n  return {\n    success: false,\n    errors: formatValidationErrors(result.error)\n  };\n};\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation\\schemas\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation\\schemas\\business.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'requiredStringSchema' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Business Form Validation Schemas\n * \n * Validation for business import and management forms\n */\n\nimport { z } from 'zod';\nimport {\n  businessNameSchema,\n  documentNumberSchema,\n  requiredStringSchema,\n} from '@/lib/validation';\n\n/**\n * Business Import Form Schema\n */\nexport const businessImportSchema = z.object({\n  documentNumber: documentNumberSchema,\n});\n\n/**\n * Business Search Form Schema\n */\nexport const businessSearchSchema = z.object({\n  query: z.string()\n    .min(2, 'Search query must be at least 2 characters')\n    .transform(val => val.trim()),\n});\n\n/**\n * Business Update Form Schema\n */\nexport const businessUpdateSchema = z.object({\n  name: businessNameSchema.optional(),\n  notes: z.string().max(1000, 'Notes must be less than 1000 characters').optional(),\n});\n\n/**\n * Type exports\n */\nexport type BusinessImportData = z.infer<typeof businessImportSchema>;\nexport type BusinessSearchData = z.infer<typeof businessSearchSchema>;\nexport type BusinessUpdateData = z.infer<typeof businessUpdateSchema>;\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation\\schemas\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\lib\\validation\\schemas\\llc-formation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":149,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":149,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4131,4134],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4131,4134],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":180,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":180,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4885,4888],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4885,4888],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":192,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":192,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5121,5124],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5121,5124],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":201,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":201,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5451,5454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5451,5454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LLC Formation Form Validation Schema\n * \n * Comprehensive validation for LLC formation wizard\n * Uses standardized validation patterns from @/lib/validation\n */\n\nimport { z } from 'zod';\nimport {\n  businessNameSchema,\n  streetAddressSchema,\n  citySchema,\n  stateSchema,\n  zipCodeSchema,\n  emailSchema,\n  phoneSchema,\n  requiredStringSchema,\n  optionalStringSchema,\n} from '@/lib/validation';\n\n/**\n * Manager Schema\n * Validates individual manager information\n */\nexport const managerSchema = z.object({\n  id: z.string(),\n  name: requiredStringSchema('Manager name'),\n  email: emailSchema,\n  phone: phoneSchema,\n});\n\n/**\n * LLC Formation Step 1: Business Information\n */\nexport const llcFormationStep1Schema = z.object({\n  businessName: businessNameSchema,\n  businessNameAlternative: optionalStringSchema,\n  businessPurpose: optionalStringSchema,\n});\n\n/**\n * LLC Formation Step 2: Addresses\n */\nexport const llcFormationStep2Schema = z.object({\n  // Business Address\n  businessAddress: streetAddressSchema,\n  businessCity: citySchema,\n  businessState: stateSchema,\n  businessZip: zipCodeSchema,\n  \n  // Mailing Address (conditional - validated separately if different from business)\n  mailingAddress: z.string().optional(),\n  mailingCity: z.string().optional(),\n  mailingState: z.string().optional(),\n  mailingZip: z.string().optional(),\n});\n\n/**\n * LLC Formation Step 2 with Mailing Address (when different from business)\n */\nexport const llcFormationStep2WithMailingSchema = z.object({\n  // Business Address\n  businessAddress: streetAddressSchema,\n  businessCity: citySchema,\n  businessState: stateSchema,\n  businessZip: zipCodeSchema,\n  \n  // Mailing Address (required when different)\n  mailingAddress: streetAddressSchema,\n  mailingCity: citySchema,\n  mailingState: stateSchema,\n  mailingZip: zipCodeSchema,\n});\n\n/**\n * LLC Formation Step 3: Registered Agent\n */\nexport const llcFormationStep3Schema = z.object({\n  registeredAgentName: requiredStringSchema('Registered agent name'),\n  registeredAgentAddress: streetAddressSchema,\n  registeredAgentCity: citySchema,\n  registeredAgentState: stateSchema,\n  registeredAgentZip: zipCodeSchema,\n});\n\n/**\n * LLC Formation Step 4: Managers\n */\nexport const llcFormationStep4Schema = z.object({\n  managers: z.array(managerSchema)\n    .min(1, 'At least one manager is required')\n    .max(6, 'Maximum 6 managers allowed per Sunbiz requirements'),\n});\n\n/**\n * Complete LLC Formation Form Schema\n */\nexport const llcFormationCompleteSchema = z.object({\n  // Step 1: Business Information\n  businessName: businessNameSchema,\n  businessNameAlternative: optionalStringSchema,\n  businessPurpose: optionalStringSchema,\n  \n  // Step 2: Addresses\n  businessAddress: streetAddressSchema,\n  businessCity: citySchema,\n  businessState: stateSchema,\n  businessZip: zipCodeSchema,\n  mailingAddress: z.string().optional(),\n  mailingCity: z.string().optional(),\n  mailingState: z.string().optional(),\n  mailingZip: z.string().optional(),\n  \n  // Step 3: Registered Agent\n  registeredAgentName: requiredStringSchema('Registered agent name'),\n  registeredAgentAddress: streetAddressSchema,\n  registeredAgentCity: citySchema,\n  registeredAgentState: stateSchema,\n  registeredAgentZip: zipCodeSchema,\n  \n  // Step 4: Managers\n  managers: z.array(managerSchema)\n    .min(1, 'At least one manager is required')\n    .max(6, 'Maximum 6 managers allowed per Sunbiz requirements'),\n  \n  // Additional Options\n  rushProcessing: z.boolean().optional(),\n});\n\n/**\n * Type exports for TypeScript\n */\nexport type Manager = z.infer<typeof managerSchema>;\nexport type LLCFormationStep1Data = z.infer<typeof llcFormationStep1Schema>;\nexport type LLCFormationStep2Data = z.infer<typeof llcFormationStep2Schema>;\nexport type LLCFormationStep3Data = z.infer<typeof llcFormationStep3Schema>;\nexport type LLCFormationStep4Data = z.infer<typeof llcFormationStep4Schema>;\nexport type LLCFormationCompleteData = z.infer<typeof llcFormationCompleteSchema>;\n\n/**\n * Validation helper functions\n */\n\n/**\n * Validate a specific step of the LLC formation wizard\n */\nexport function validateLLCFormationStep(\n  step: number,\n  data: any,\n  sameAsBusinessAddress: boolean = true\n): { success: boolean; errors: Record<string, string> } {\n  let schema: z.ZodSchema;\n  \n  switch (step) {\n    case 1:\n      schema = llcFormationStep1Schema;\n      break;\n    case 2:\n      schema = sameAsBusinessAddress \n        ? llcFormationStep2Schema \n        : llcFormationStep2WithMailingSchema;\n      break;\n    case 3:\n      schema = llcFormationStep3Schema;\n      break;\n    case 4:\n      schema = llcFormationStep4Schema;\n      break;\n    default:\n      return { success: true, errors: {} };\n  }\n  \n  const result = schema.safeParse(data);\n  \n  if (result.success) {\n    return { success: true, errors: {} };\n  }\n  \n  const errors: Record<string, string> = {};\n  result.error.issues.forEach((error: any) => {\n    const path = error.path.join('.');\n    errors[path] = error.message;\n  });\n\n  return { success: false, errors };\n}\n\n/**\n * Validate the complete LLC formation form\n */\nexport function validateLLCFormationComplete(\n  data: any\n): { success: boolean; errors: Record<string, string>; data?: LLCFormationCompleteData } {\n  const result = llcFormationCompleteSchema.safeParse(data);\n\n  if (result.success) {\n    return { success: true, errors: {}, data: result.data };\n  }\n\n  const errors: Record<string, string> = {};\n  result.error.issues.forEach((error: any) => {\n    const path = error.path.join('.');\n    errors[path] = error.message;\n  });\n  \n  return { success: false, errors };\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\styles\\design-system.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\types\\entities.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":233,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":233,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5248,5251],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5248,5251],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Entity Type Definitions\n * \n * These types match the Prisma schema and provide type safety\n * throughout the application.\n */\n\n// ============================================================================\n// ENUMS (matching Prisma schema)\n// ============================================================================\n\nexport enum UserType {\n  CUSTOMER = 'CUSTOMER',\n  PARTNER = 'PARTNER',\n  EMPLOYEE = 'EMPLOYEE',\n  ADMIN = 'ADMIN',\n  SITE_ADMIN = 'SITE_ADMIN',\n}\n\nexport enum ClientType {\n  ONE_TIME = 'ONE_TIME',\n  RETURNING = 'RETURNING',\n  SUBSCRIPTION = 'SUBSCRIPTION',\n}\n\nexport enum AddressType {\n  PRINCIPAL = 'PRINCIPAL',\n  MAILING = 'MAILING',\n  REGISTERED_AGENT = 'REGISTERED_AGENT',\n  PERSONAL = 'PERSONAL',\n}\n\nexport enum EntityType {\n  LLC = 'LLC',\n  CORPORATION = 'CORPORATION',\n  NONPROFIT_CORPORATION = 'NONPROFIT_CORPORATION',\n  PARTNERSHIP = 'PARTNERSHIP',\n  SOLE_PROPRIETORSHIP = 'SOLE_PROPRIETORSHIP',\n}\n\nexport enum EntityStatus {\n  PENDING = 'PENDING',\n  FILED = 'FILED',\n  ACTIVE = 'ACTIVE',\n  INACTIVE = 'INACTIVE',\n  DISSOLVED = 'DISSOLVED',\n}\n\nexport enum AgentType {\n  INDIVIDUAL = 'INDIVIDUAL',\n  COMPANY = 'COMPANY',\n  LEGALOPS = 'LEGALOPS',\n}\n\nexport enum RoleType {\n  MANAGER = 'MANAGER',\n  MEMBER = 'MEMBER',\n  PRESIDENT = 'PRESIDENT',\n  VICE_PRESIDENT = 'VICE_PRESIDENT',\n  SECRETARY = 'SECRETARY',\n  TREASURER = 'TREASURER',\n  DIRECTOR = 'DIRECTOR',\n  PARTNER = 'PARTNER',\n}\n\nexport enum FilingType {\n  LLC_FORMATION = 'LLC_FORMATION',\n  CORP_FORMATION = 'CORP_FORMATION',\n  NONPROFIT_FORMATION = 'NONPROFIT_FORMATION',\n  ANNUAL_REPORT = 'ANNUAL_REPORT',\n  AMENDMENT = 'AMENDMENT',\n  DISSOLUTION = 'DISSOLUTION',\n  REINSTATEMENT = 'REINSTATEMENT',\n  NAME_CHANGE = 'NAME_CHANGE',\n  REGISTERED_AGENT_CHANGE = 'REGISTERED_AGENT_CHANGE',\n  ADDRESS_CHANGE = 'ADDRESS_CHANGE',\n  EIN_APPLICATION = 'EIN_APPLICATION',\n  FICTITIOUS_NAME = 'FICTITIOUS_NAME',\n}\n\nexport enum FilingStatus {\n  DRAFT = 'DRAFT',\n  READY = 'READY',\n  SUBMITTED = 'SUBMITTED',\n  PENDING = 'PENDING',\n  APPROVED = 'APPROVED',\n  REJECTED = 'REJECTED',\n  COMPLETED = 'COMPLETED',\n  CANCELLED = 'CANCELLED',\n}\n\nexport enum DocumentType {\n  ARTICLES_OF_ORGANIZATION = 'ARTICLES_OF_ORGANIZATION',\n  ARTICLES_OF_INCORPORATION = 'ARTICLES_OF_INCORPORATION',\n  CERTIFICATE_OF_STATUS = 'CERTIFICATE_OF_STATUS',\n  ANNUAL_REPORT = 'ANNUAL_REPORT',\n  EIN_LETTER = 'EIN_LETTER',\n  RECEIPT = 'RECEIPT',\n  CONFIRMATION = 'CONFIRMATION',\n  OTHER = 'OTHER',\n}\n\nexport enum OrderStatus {\n  PENDING = 'PENDING',\n  PROCESSING = 'PROCESSING',\n  COMPLETED = 'COMPLETED',\n  CANCELLED = 'CANCELLED',\n  REFUNDED = 'REFUNDED',\n}\n\nexport enum PaymentStatus {\n  PENDING = 'PENDING',\n  PAID = 'PAID',\n  FAILED = 'FAILED',\n  REFUNDED = 'REFUNDED',\n}\n\nexport enum ServiceType {\n  LLC_FORMATION = 'LLC_FORMATION',\n  CORP_FORMATION = 'CORP_FORMATION',\n  ANNUAL_REPORT = 'ANNUAL_REPORT',\n  REGISTERED_AGENT = 'REGISTERED_AGENT',\n  EIN_APPLICATION = 'EIN_APPLICATION',\n  AMENDMENT = 'AMENDMENT',\n  DISSOLUTION = 'DISSOLUTION',\n  NAME_RESERVATION = 'NAME_RESERVATION',\n  EXPEDITED_PROCESSING = 'EXPEDITED_PROCESSING',\n}\n\nexport enum NotificationType {\n  FILING_UPDATE = 'FILING_UPDATE',\n  DOCUMENT_READY = 'DOCUMENT_READY',\n  PAYMENT_DUE = 'PAYMENT_DUE',\n  COMPLIANCE_ALERT = 'COMPLIANCE_ALERT',\n  SYSTEM_UPDATE = 'SYSTEM_UPDATE',\n}\n\n// ============================================================================\n// CORE INTERFACES\n// ============================================================================\n\nexport interface User {\n  id: string;\n  email: string;\n  passwordHash: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  userType: UserType;\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Client {\n  id: string;\n  userId: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone?: string;\n  clientType: ClientType;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Address {\n  id: string;\n  street: string;\n  street2?: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  country: string;\n  addressType: AddressType;\n  clientId?: string;\n  businessEntityId?: string;\n  registeredAgentId?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface BusinessEntity {\n  id: string;\n  clientId: string;\n  legalName: string;\n  dbaName?: string;\n  entityType: EntityType;\n  stateOfFormation: string;\n  documentNumber?: string;\n  filingDate?: Date;\n  status: EntityStatus;\n  purpose?: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface RegisteredAgent {\n  id: string;\n  businessEntityId: string;\n  agentType: AgentType;\n  firstName?: string;\n  lastName?: string;\n  companyName?: string;\n  email?: string;\n  phone?: string;\n  serviceStartDate?: Date;\n  serviceEndDate?: Date;\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface ManagerOfficer {\n  id: string;\n  businessEntityId: string;\n  firstName: string;\n  lastName: string;\n  title?: string;\n  roleType: RoleType;\n  email?: string;\n  phone?: string;\n  address: string;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport interface Filing {\n  id: string;\n  businessEntityId: string;\n  filingType: FilingType;\n  filingStatus: FilingStatus;\n  filingData: Record<string, any>; // JSON data\n  confirmationNumber?: string;\n  trackingNumber?: string;\n  filedDate?: Date;\n  approvedDate?: Date;\n  createdAt: Date;\n  updatedAt: Date;\n  submittedAt?: Date;\n}\n\nexport interface FilingDocument {\n  id: string;\n  filingId: string;\n  documentType: DocumentType;\n  fileName: string;\n  filePath: string;\n  fileSize: number;\n  mimeType: string;\n  createdAt: Date;\n}\n\nexport interface Order {\n  id: string;\n  userId: string;\n  orderNumber: string;\n  orderStatus: OrderStatus;\n  subtotal: number;\n  tax: number;\n  total: number;\n  paymentStatus: PaymentStatus;\n  paymentMethod?: string;\n  stripePaymentId?: string;\n  createdAt: Date;\n  updatedAt: Date;\n  paidAt?: Date;\n  completedAt?: Date;\n}\n\nexport interface OrderItem {\n  id: string;\n  orderId: string;\n  serviceType: ServiceType;\n  description: string;\n  quantity: number;\n  unitPrice: number;\n  totalPrice: number;\n  createdAt: Date;\n}\n\nexport interface Notification {\n  id: string;\n  userId: string;\n  type: NotificationType;\n  title: string;\n  message: string;\n  isRead: boolean;\n  readAt?: Date;\n  createdAt: Date;\n}\n\n// ============================================================================\n// EXTENDED INTERFACES (with relationships)\n// ============================================================================\n\nexport interface ClientWithRelations extends Client {\n  user?: User;\n  businessEntities?: BusinessEntity[];\n  addresses?: Address[];\n}\n\nexport interface BusinessEntityWithRelations extends BusinessEntity {\n  client?: Client;\n  addresses?: Address[];\n  registeredAgent?: RegisteredAgent;\n  managersOfficers?: ManagerOfficer[];\n  filings?: Filing[];\n}\n\nexport interface FilingWithRelations extends Filing {\n  businessEntity?: BusinessEntityWithRelations;\n  documents?: FilingDocument[];\n}\n\nexport interface OrderWithRelations extends Order {\n  user?: User;\n  orderItems?: OrderItem[];\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\types\\forms.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EntityType' is defined but never used.","line":9,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":13},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AddressType' is defined but never used.","line":12,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * LegalOps v1 - Form Data Types\n * \n * These types define the structure of data collected from user forms.\n * They are designed to be flexible and support both new and returning clients.\n */\n\nimport {\n  EntityType,\n  AgentType,\n  RoleType,\n  AddressType,\n} from './entities';\n\n// ============================================================================\n// COMMON FORM TYPES\n// ============================================================================\n\nexport interface AddressFormData {\n  street: string;\n  street2?: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  country?: string;\n}\n\nexport interface PersonFormData {\n  firstName: string;\n  lastName: string;\n  email?: string;\n  phone?: string;\n}\n\n// ============================================================================\n// CLIENT REGISTRATION FORMS\n// ============================================================================\n\nexport interface ClientRegistrationFormData extends PersonFormData {\n  // Personal Information\n  email: string; // Required for registration\n  password: string;\n  confirmPassword: string;\n  \n  // Personal Address\n  personalAddress: AddressFormData;\n  \n  // Preferences\n  agreeToTerms: boolean;\n  subscribeToNewsletter?: boolean;\n}\n\n// ============================================================================\n// LLC FORMATION FORM\n// ============================================================================\n\nexport interface LLCFormationFormData {\n  // ===== BUSINESS INFORMATION =====\n  businessName: string;\n  effectiveDate?: string; // Optional - defaults to filing date\n  duration?: 'PERPETUAL' | 'SPECIFIC_DATE';\n  dissolutionDate?: string; // If duration is SPECIFIC_DATE\n  \n  // Business Purpose\n  purpose?: string;\n  \n  // ===== ADDRESSES =====\n  principalAddress: AddressFormData;\n  \n  // Mailing Address Options\n  mailingAddressOption: 'SAME_AS_PRINCIPAL' | 'SAME_AS_PERSONAL' | 'DIFFERENT';\n  mailingAddress?: AddressFormData; // Only if DIFFERENT\n  \n  // ===== REGISTERED AGENT =====\n  registeredAgentOption: 'SELF' | 'EXISTING' | 'NEW' | 'LEGALOPS';\n  \n  // If SELF - use client's personal info\n  // If EXISTING - select from previous agents\n  existingAgentId?: string;\n  \n  // If NEW - provide new agent info\n  newRegisteredAgent?: {\n    agentType: AgentType;\n    firstName?: string; // For INDIVIDUAL\n    lastName?: string;  // For INDIVIDUAL\n    companyName?: string; // For COMPANY\n    email?: string;\n    phone?: string;\n    address: AddressFormData;\n  };\n  \n  // ===== MANAGEMENT STRUCTURE =====\n  managementStructure: 'MEMBER_MANAGED' | 'MANAGER_MANAGED';\n  \n  // ===== MANAGERS/MEMBERS =====\n  managersOption: 'SELF_ONLY' | 'MULTIPLE';\n  \n  managers: Array<{\n    option: 'SELF' | 'NEW';\n    // If NEW:\n    firstName?: string;\n    lastName?: string;\n    title?: string;\n    roleType: RoleType;\n    email?: string;\n    phone?: string;\n    address: string; // Can be formatted string or structured\n  }>;\n  \n  // ===== ADDITIONAL OPTIONS =====\n  expeditedProcessing?: boolean;\n  certifiedCopy?: boolean;\n  \n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// CORPORATION FORMATION FORM\n// ============================================================================\n\nexport interface CorporationFormationFormData {\n  // ===== BUSINESS INFORMATION =====\n  businessName: string;\n  corporationType: 'FOR_PROFIT' | 'NONPROFIT';\n  effectiveDate?: string;\n  \n  // Business Purpose\n  purpose?: string;\n  \n  // ===== STOCK INFORMATION (For-Profit only) =====\n  authorizedShares?: number;\n  parValue?: number;\n  stockClasses?: Array<{\n    className: string;\n    shares: number;\n    parValue: number;\n    votingRights: boolean;\n  }>;\n  \n  // ===== ADDRESSES =====\n  principalAddress: AddressFormData;\n  mailingAddressOption: 'SAME_AS_PRINCIPAL' | 'SAME_AS_PERSONAL' | 'DIFFERENT';\n  mailingAddress?: AddressFormData;\n  \n  // ===== REGISTERED AGENT =====\n  registeredAgentOption: 'SELF' | 'EXISTING' | 'NEW' | 'LEGALOPS';\n  existingAgentId?: string;\n  newRegisteredAgent?: {\n    agentType: AgentType;\n    firstName?: string;\n    lastName?: string;\n    companyName?: string;\n    email?: string;\n    phone?: string;\n    address: AddressFormData;\n  };\n  \n  // ===== OFFICERS & DIRECTORS =====\n  officers: Array<{\n    option: 'SELF' | 'NEW';\n    firstName?: string;\n    lastName?: string;\n    roleType: RoleType; // PRESIDENT, SECRETARY, TREASURER, etc.\n    email?: string;\n    phone?: string;\n    address: string;\n  }>;\n  \n  directors: Array<{\n    option: 'SELF' | 'NEW';\n    firstName?: string;\n    lastName?: string;\n    email?: string;\n    phone?: string;\n    address: string;\n  }>;\n  \n  // ===== INCORPORATOR =====\n  incorporatorOption: 'SELF' | 'ATTORNEY' | 'OTHER';\n  incorporator?: PersonFormData & { address: string };\n  \n  // ===== ADDITIONAL OPTIONS =====\n  expeditedProcessing?: boolean;\n  certifiedCopy?: boolean;\n  \n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// ANNUAL REPORT FORM\n// ============================================================================\n\nexport interface AnnualReportFormData {\n  // ===== ENTITY SELECTION =====\n  businessEntityId: string; // Select from user's existing entities\n  \n  // ===== CONFIRMATION =====\n  confirmCurrentInformation: boolean;\n  \n  // ===== UPDATES (if any) =====\n  hasChanges: boolean;\n  \n  changes?: {\n    principalAddress?: AddressFormData;\n    mailingAddress?: AddressFormData;\n    registeredAgent?: {\n      firstName?: string;\n      lastName?: string;\n      companyName?: string;\n      address?: AddressFormData;\n    };\n    officers?: Array<{\n      action: 'ADD' | 'REMOVE' | 'UPDATE';\n      id?: string; // For UPDATE/REMOVE\n      firstName?: string;\n      lastName?: string;\n      roleType?: RoleType;\n      address?: string;\n    }>;\n  };\n  \n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// EIN APPLICATION FORM (IRS SS-4)\n// ============================================================================\n\nexport interface EINApplicationFormData {\n  // ===== ENTITY SELECTION =====\n  businessEntityId: string; // Select from user's existing entities\n  \n  // ===== ENTITY INFORMATION =====\n  // Most info pulled from BusinessEntity, but some additional fields needed:\n  \n  // Tax Classification\n  taxClassification: \n    | 'SOLE_PROPRIETOR'\n    | 'PARTNERSHIP'\n    | 'LLC_SINGLE_MEMBER'\n    | 'LLC_PARTNERSHIP'\n    | 'LLC_C_CORP'\n    | 'LLC_S_CORP'\n    | 'CORPORATION'\n    | 'S_CORPORATION'\n    | 'NONPROFIT';\n  \n  // Reason for applying\n  reasonForApplying:\n    | 'STARTED_NEW_BUSINESS'\n    | 'HIRED_EMPLOYEES'\n    | 'BANKING_PURPOSE'\n    | 'CHANGED_TYPE_OF_ORGANIZATION'\n    | 'PURCHASED_GOING_BUSINESS'\n    | 'CREATED_TRUST'\n    | 'CREATED_PENSION_PLAN'\n    | 'OTHER';\n  \n  otherReason?: string;\n  \n  // Business start date\n  businessStartDate: string;\n  \n  // Accounting year end\n  accountingYearEnd: string; // MM/DD format\n  \n  // Number of employees expected\n  employeesExpected: {\n    agricultural: number;\n    household: number;\n    other: number;\n  };\n  \n  // Principal activity\n  principalActivity: string;\n  principalProduct: string;\n  \n  // Responsible party (usually the owner)\n  responsibleParty: PersonFormData & {\n    ssn: string; // Encrypted\n    title: string;\n  };\n  \n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// AMENDMENT FORM\n// ============================================================================\n\nexport interface AmendmentFormData {\n  // ===== ENTITY SELECTION =====\n  businessEntityId: string;\n  \n  // ===== WHAT'S CHANGING =====\n  amendmentType: \n    | 'NAME_CHANGE'\n    | 'ADDRESS_CHANGE'\n    | 'REGISTERED_AGENT_CHANGE'\n    | 'PURPOSE_CHANGE'\n    | 'MANAGEMENT_CHANGE'\n    | 'STOCK_CHANGE'\n    | 'OTHER';\n  \n  // ===== CHANGES =====\n  changes: {\n    newBusinessName?: string;\n    newPrincipalAddress?: AddressFormData;\n    newMailingAddress?: AddressFormData;\n    newRegisteredAgent?: {\n      firstName?: string;\n      lastName?: string;\n      companyName?: string;\n      address?: AddressFormData;\n    };\n    newPurpose?: string;\n    otherChanges?: string;\n  };\n  \n  // ===== EFFECTIVE DATE =====\n  effectiveDate?: string;\n  \n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// DISSOLUTION FORM\n// ============================================================================\n\nexport interface DissolutionFormData {\n  // ===== ENTITY SELECTION =====\n  businessEntityId: string;\n\n  // ===== DISSOLUTION DETAILS =====\n  dissolutionReason: string;\n  effectiveDate?: string;\n\n  // ===== AUTHORIZATION =====\n  authorizedBy: {\n    name: string;\n    title: string;\n    date: string;\n  };\n\n  // ===== FINAL DETAILS =====\n  allDebtsSettled: boolean;\n  allAssetsDistributed: boolean;\n\n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// FICTITIOUS NAME (DBA) REGISTRATION FORM\n// ============================================================================\n\nexport interface FictitiousNameFormData {\n  // ===== FICTITIOUS NAME =====\n  fictitiousName: string; // The DBA name to register\n\n  // ===== MAILING ADDRESS =====\n  mailingAddress: AddressFormData;\n\n  // ===== PRINCIPAL PLACE OF BUSINESS =====\n  principalCounty: string; // Florida county where business operates\n\n  // ===== FEDERAL EMPLOYER ID =====\n  hasFEIN: boolean;\n  fein?: string; // Optional - Federal Employer Identification Number\n\n  // ===== OWNER INFORMATION =====\n  ownerType: 'INDIVIDUAL' | 'BUSINESS_ENTITY';\n\n  // For Individual Owners\n  individualOwners?: Array<{\n    firstName: string;\n    lastName: string;\n    middleName?: string;\n    address: AddressFormData;\n  }>;\n\n  // For Business Entity Owners\n  businessEntityOwners?: Array<{\n    entityName: string;\n    entityAddress: AddressFormData;\n    floridaDocumentNumber?: string; // If registered with FL Division of Corporations\n    fein?: string; // Federal Employer ID\n    feinStatus?: 'HAS_FEIN' | 'APPLIED_FOR' | 'NOT_APPLICABLE';\n  }>;\n\n  // ===== NEWSPAPER ADVERTISEMENT =====\n  newspaperAdvertised: boolean; // Certification that name was advertised\n  newspaperName?: string; // Name of newspaper (optional)\n  advertisementDate?: string; // Date of advertisement (optional)\n\n  // ===== PAYMENT TIMING =====\n  paymentTiming?: 'PAY_NOW' | 'PAY_AFTER_PUBLICATION'; // When customer wants to pay\n\n  // ===== ADDITIONAL OPTIONS =====\n  certificateOfStatus: boolean; // $10 additional fee\n  certifiedCopy: boolean; // $30 additional fee\n\n  // ===== CORRESPONDENCE =====\n  correspondenceEmail: string;\n}\n\n// ============================================================================\n// FORM VALIDATION HELPERS\n// ============================================================================\n\nexport interface FormValidationError {\n  field: string;\n  message: string;\n}\n\nexport interface FormValidationResult {\n  isValid: boolean;\n  errors: FormValidationError[];\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\types\\next-auth.d.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'NextAuth' is defined but never used.","line":1,"column":8,"nodeType":null,"messageId":"unusedVar","endLine":1,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import NextAuth from \"next-auth\";\n\ndeclare module \"next-auth\" {\n  interface Session {\n    user: {\n      id: string;\n      name?: string | null;\n      email?: string | null;\n      image?: string | null;\n      role?: string;\n      emailVerified?: Date | null;\n    };\n  }\n\n  interface User {\n    id: string;\n    name?: string | null;\n    email?: string | null;\n    role?: string;\n    emailVerified?: Date | null;\n  }\n}\n\ndeclare module \"next-auth/jwt\" {\n  interface JWT {\n    id: string;\n    role?: string;\n    emailVerified?: Date | null;\n  }\n}\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\src\\utils\\service-routing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\imali\\Documents\\augment-projects\\LegalOps_v1\\legalops-platform\\test-usps-auth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]